---
source: "output\formatForge_20260215_164352\01_converted.json"
total_conversations: 4
total_segments_merged: 10
manual_review_needed: 2
models: [claude-opus-4-6]
generated_by: chat-merger
---

# Table of Contents

- [Chat Merger Report](#chat-merger-report)
  - [Conversation 1](#conversation-1)
    - [Request](#request)
  - [Request](#request)
  - [Latex](#latex)
  - [Markdown](#markdown)
    - [Follow-up additions](#follow-up-additions)
    - [Response](#response)
  - [ต. ูุงู HTML ููููู (ุฌุงูุน โ ูุงุฑุณ/ุงูฺฏูุณ)](#ต-ูุงู-html-ููููู-ุฌุงูุน--ูุงุฑุณุงูฺฏูุณ)
- [Example: p โจ ยฌp (Law of Excluded Middle)](#example-p--p-law-of-excluded-middle)
- [Or with latexmk (recommended)](#or-with-latexmk-recommended)
  - [ถ. ูุงู DOCX โ ุฑุงูููุง ุณุงุฎุช ุจุง PowerShell](#ถ-ูุงู-docx--ุฑุงูููุง-ุณุงุฎุช-ุจุง-powershell)
    - [ุฑูุด ฑ: ุจุง Pandoc (ูพุดููุงุฏ)](#ุฑูุด-ฑ-ุจุง-pandoc-ูพุดููุงุฏ)
- [============================================================](#)
- [create-docx.ps1](#create-docxps1)
- [ุณุงุฎุช ูุงู DOCX ููููู ุงุฒ Markdown ุจุง pandoc](#ุณุงุฎุช-ูุงู-docx-ููููู-ุงุฒ-markdown-ุจุง-pandoc)
- [============================================================](#)
- [ุจุฑุฑุณ ูุฌูุฏ pandoc](#ุจุฑุฑุณ-ูุฌูุฏ-pandoc)
- [ุง](#ุง)
- [ุจุฑุฑุณ ูุฌูุฏ ูุงู MD](#ุจุฑุฑุณ-ูุฌูุฏ-ูุงู-md)
- [ููุงุด ุญุฌู](#ููุงุด-ุญุฌู)
    - [ุฑูุด ฒ: ุจุง COM Object ูุฑุฏ (ุจุฏูู ูุงุฒ ุจู pandoc)](#ุฑูุด-ฒ-ุจุง-com-object-ูุฑุฏ-ุจุฏูู-ูุงุฒ-ุจู-pandoc)
- [============================================================](#)
- [create-docx-com.ps1](#create-docx-comps1)
- [ุณุงุฎุช ูุงู DOCX ุจุง COM Object ูุงฺฉุฑูุณุงูุช ูุฑุฏ](#ุณุงุฎุช-ูุงู-docx-ุจุง-com-object-ูุงฺฉุฑูุณุงูุช-ูุฑุฏ)
- [ูุงุฒ: Microsoft Word ูุตุจโุดุฏู](#ูุงุฒ-microsoft-word-ูุตุจุดุฏู)
- [============================================================](#)
- [--- ุชูุธูุงุช RTL ---](#----ุชูุธูุงุช-rtl----)
- [--- ุนููุงู ---](#----ุนููุงู----)
- [--- ุฒุฑุนููุงู ---](#----ุฒุฑุนููุงู----)
- [--- ูพุงุฑุงฺฏุฑุงู ---](#----ูพุงุฑุงฺฏุฑุงู----)
- [--- ุชุนุฑู ---](#----ุชุนุฑู----)
- [--- ูุถู ---](#----ูุถู----)
- [--- ุฌุฏูู ---](#----ุฌุฏูู----)
- [ูุฏุฑ](#ูุฏุฑ)
- [ุฏุงุฏูโูุง](#ุฏุงุฏููุง)
- [--- ุฐุฎุฑู ---](#----ุฐุฎุฑู----)
  - [ท. ูุงู PDF โ ุฑุงูููุง ุณุงุฎุช](#ท-ูุงู-pdf--ุฑุงูููุง-ุณุงุฎุช)
    - [ุฑูุด ฑ: ุงุฒ LaTeX (ุจูุชุฑู ฺฉูุช)](#ุฑูุด-ฑ-ุงุฒ-latex-ุจูุชุฑู-ฺฉูุช)
- [============================================================](#)
- [create-pdf-from-latex.ps1](#create-pdf-from-latexps1)
- [============================================================](#)
- [ุงฺฏุฑ biber ูุตุจ ุงุณุช](#ุงฺฏุฑ-biber-ูุตุจ-ุงุณุช)
    - [ุฑูุด ฒ: ุงุฒ HTML ุจุง pandoc/wkhtmltopdf](#ุฑูุด-ฒ-ุงุฒ-html-ุจุง-pandocwkhtmltopdf)
- [============================================================](#)
- [create-pdf-from-html.ps1](#create-pdf-from-htmlps1)
- [============================================================](#)
- [ุฑูุด ุงูู: pandoc](#ุฑูุด-ุงูู-pandoc)
- [ุฑูุด ุจ: wkhtmltopdf (ุงฺฏุฑ ูุตุจ ุจุงุดุฏ)](#ุฑูุด-ุจ-wkhtmltopdf-ุงฺฏุฑ-ูุตุจ-ุจุงุดุฏ)
- [wkhtmltopdf --encoding utf-8 --enable-local-file-access $htmlFile $pdfOut](#wkhtmltopdf---encoding-utf-8---enable-local-file-access-htmlfile-pdfout)
  - [ธ. ุงุณฺฉุฑูพุช ุงุตู โ ุณุงุฎุช ุชูุงู ูุงูโูุง](#ธ-ุงุณฺฉุฑูพุช-ุงุตู--ุณุงุฎุช-ุชูุงู-ูุงููุง)
- [============================================================](#)
- [create-all-test-files.ps1](#create-all-test-filesps1)
- [ุงุณฺฉุฑูพุช ุงุตู: ุณุงุฎุช ุชูุงู ูุงูโูุง ุชุณุช](#ุงุณฺฉุฑูพุช-ุงุตู-ุณุงุฎุช-ุชูุงู-ูุงููุง-ุชุณุช)
- [============================================================](#)
- [--- ุณุงุฎุช ูพูุดู ---](#----ุณุงุฎุช-ูพูุดู----)
- [--- ุชุงุจุน ุฐุฎุฑู UTF-8 BOM ---](#----ุชุงุจุน-ุฐุฎุฑู-utf-8-bom----)
- [--- ุจุฑุฑุณ ุงุจุฒุงุฑูุง ---](#----ุจุฑุฑุณ-ุงุจุฒุงุฑูุง----)
- [--- ุฑุงูููุง ---](#----ุฑุงูููุง----)
- [--- ูุงูโูุง placeholder ุจุง BOM ---](#----ูุงููุง-placeholder-ุจุง-bom----)
- [ูุญุชูุง ุฑุง ุงุฒ ฺุช ฺฉูพ ฺฉูุฏ](#ูุญุชูุง-ุฑุง-ุงุฒ-ฺุช-ฺฉูพ-ฺฉูุฏ)
- [--- ุจุฑุฑุณ encoding ---](#----ุจุฑุฑุณ-encoding----)
- [--- DOCX (ุงุฎุชุงุฑ) ---](#----docx-ุงุฎุชุงุฑ----)
- [--- PDF (ุงุฎุชุงุฑ) ---](#----pdf-ุงุฎุชุงุฑ----)
- [--- ุฎูุงุตู ููุง ---](#----ุฎูุงุตู-ููุง----)
- [--- ุฎูุงุตู ููุง (ุงุฏุงูู) ---](#----ุฎูุงุตู-ููุง-ุงุฏุงูู----)
- [--- ูุณุช ูุงูโูุง ---](#----ูุณุช-ูุงููุง----)
  - [น. ูุงู RST (reStructuredText) ููููู โ ูุงุฑุณ](#น-ูุงู-rst-restructuredtext-ููููู--ูุงุฑุณ)
- [Example: p โจ ยฌp](#example-p--p)
- [Compile with XeLaTeX](#compile-with-xelatex)
  - [ฑฐ. ูุงู AsciiDoc ููููู โ ูุงุฑุณ](#ฑฐ-ูุงู-asciidoc-ููููู--ูุงุฑุณ)
  - [ฑฑ. ุฌุฏูู ููุง ูพูุดุด ุชุณุช โ ุชูุงู ูุฑูุชโูุง](#ฑฑ-ุฌุฏูู-ููุง-ูพูุดุด-ุชุณุช--ุชูุงู-ูุฑูุชูุง)
  - [ฑฒ. ฺฺฉโูุณุช ููุง ุชุจุฏู (ููู ูุฑูุชโูุง โ MDX)](#ฑฒ-ฺฺฉูุณุช-ููุง-ุชุจุฏู-ููู-ูุฑูุชูุง--mdx)
  - [ฺฺฉโูุณุช ุชุณุช ุชุจุฏูโฺฏุฑ ูุฑูุช โ MDX](#ฺฺฉูุณุช-ุชุณุช-ุชุจุฏูฺฏุฑ-ูุฑูุช--mdx)
    - [ฑ. ูพุงู](#ฑ-ูพุงู)
    - [ฒ. ูุชู](#ฒ-ูุชู)
    - [ณ. ุณุงุฎุชุงุฑ](#ณ-ุณุงุฎุชุงุฑ)
    - [ด. ุฑุงุถ](#ด-ุฑุงุถ)
    - [ต. ฺฉุฏ](#ต-ฺฉุฏ)
    - [ถ. ุฑุณุงูู](#ถ-ุฑุณุงูู)
    - [ท. ูููุฏุงุฑ](#ท-ูููุฏุงุฑ)
    - [ธ. ุฌุนุจูโูุง](#ธ-ุฌุนุจููุง)
    - [น. ููฺฉ ู ุงุฑุฌุงุน](#น-ููฺฉ-ู-ุงุฑุฌุงุน)
    - [ฑฐ. ุฏูุฒุจุงูู](#ฑฐ-ุฏูุฒุจุงูู)
    - [ฑฑ. HTML ุฎุงุต](#ฑฑ-html-ุฎุงุต)
    - [ฑฒ. ูุฑูุชโูุง ูุฑูุฏ](#ฑฒ-ูุฑูุชูุง-ูุฑูุฏ)
    - [Overlap Report](#overlap-report)
  - [Conversation 2](#conversation-2)
    - [Request](#request)
    - [Response](#response)
- [ูพุฑุงููพุช ุฌุงูุน ุทุฑุงุญ ุงุจุฒุงุฑ ุชุจุฏู ูุฑูุช ุจู MDX](#ูพุฑุงููพุช-ุฌุงูุน-ุทุฑุงุญ-ุงุจุฒุงุฑ-ุชุจุฏู-ูุฑูุช-ุจู-mdx)
  - [ูพุฑุงููพุช ุงุตู (Master Prompt)](#ูพุฑุงููพุช-ุงุตู-master-prompt)
- [๐ FormatForge: ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ฺูุฏูุฑูุช ุจู MDX](#formatforge-ุงุจุฒุงุฑ-ุฌุงูุน-ุชุจุฏู-ุงุณูุงุฏ-ฺูุฏูุฑูุช-ุจู-mdx)
  - [ฑ. ุดูุงุณูุงูู ูพุฑูฺู](#ฑ-ุดูุงุณูุงูู-ูพุฑูฺู)
  - [ฒ. ุจุงู ูุณุฆูู ู ูุฏู](#ฒ-ุจุงู-ูุณุฆูู-ู-ูุฏู)
    - [ูฺฺฏโูุง ฺฉูุฏ ูุญุชูุง ูู:](#ูฺฺฏูุง-ฺฉูุฏ-ูุญุชูุง-ูู)
  - [ณ. ูุนูุงุฑ ฺฉู ุณุณุชู](#ณ-ูุนูุงุฑ-ฺฉู-ุณุณุชู)
    - [ณ.ฑ ุฎุท ูููู ูพุฑุฏุงุฒุด (Processing Pipeline)](#ณฑ-ุฎุท-ูููู-ูพุฑุฏุงุฒุด-processing-pipeline)
    - [ณ.ฒ ุณุงุฎุชุงุฑ ูุงฺููุงุฑ](#ณฒ-ุณุงุฎุชุงุฑ-ูุงฺููุงุฑ)
  - [ด. ูุดุฎุตุงุช ุฏูู ูุฑ ูุฑุญูู (Stage)](#ด-ูุดุฎุตุงุช-ุฏูู-ูุฑ-ูุฑุญูู-stage)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 1: ุงุณฺฉู ู ุดูุงุณุง ูุฑูุฏ](#stage-1-ุงุณฺฉู-ู-ุดูุงุณุง-ูุฑูุฏ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ฑ.ฑ ุงููุงุน ูุฑูุฏโูุง ูพุดุชุจุงูโุดุฏู](#ดฑฑ-ุงููุงุน-ูุฑูุฏูุง-ูพุดุชุจุงูุดุฏู)
      - [ด.ฑ.ฒ ุงูฺฏูุฑุชู ุดูุงุณุง](#ดฑฒ-ุงูฺฏูุฑุชู-ุดูุงุณุง)
      - [ด.ฑ.ณ ุฎุฑูุฌ ูุฑุญูู ฑ: ScanReport](#ดฑณ-ุฎุฑูุฌ-ูุฑุญูู-ฑ-scanreport)
- [ูุซุงู ScanReport](#ูุซุงู-scanreport)
- [multi_chapter_book | related_collection](#multi_chapter_book--related_collection)
- [...](#)
      - [ด.ฑ.ด ุชุนุงูู ุจุง ฺฉุงุฑุจุฑ (ุชุฃุฏ)](#ดฑด-ุชุนุงูู-ุจุง-ฺฉุงุฑุจุฑ-ุชุฃุฏ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 2: ุงุณุชุฎุฑุงุฌ ู ุชฺฉูู ูุชุงุฏุชุง ู Frontmatter](#stage-2-ุงุณุชุฎุฑุงุฌ-ู-ุชฺฉูู-ูุชุงุฏุชุง-ู-frontmatter)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ฒ.ฑ ุดููุง ูุชุงุฏุชุง (Metadata Schema)](#ดฒฑ-ุดููุง-ูุชุงุฏุชุง-metadata-schema)
      - [ด.ฒ.ฒ ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง ุงุฒ ูุฑูุชโูุง ูุฎุชูู](#ดฒฒ-ุงุณุชุฎุฑุงุฌ-ูุชุงุฏุชุง-ุงุฒ-ูุฑูุชูุง-ูุฎุชูู)
      - [ด.ฒ.ณ ุชููุฏ Slug](#ดฒณ-ุชููุฏ-slug)
- [ููุงุนุฏ ุชููุฏ slug:](#ููุงุนุฏ-ุชููุฏ-slug)
- [1. ุงฺฏุฑ ุนููุงู ุงูฺฏูุณ ูุฌูุฏ ุฏุงุฑุฏ โ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉู](#1-ุงฺฏุฑ-ุนููุงู-ุงูฺฏูุณ-ูุฌูุฏ-ุฏุงุฑุฏ--ุงุฒ-ุขู-ุงุณุชูุงุฏู-ฺฉู)
- [2. ุงฺฏุฑ ููุท ูุงุฑุณ ุงุณุช โ ุชุฑุฌูู AI ุง transliterate](#2-ุงฺฏุฑ-ููุท-ูุงุฑุณ-ุงุณุช--ุชุฑุฌูู-ai-ุง-transliterate)
- [3. slug ููุท ุดุงูู: [a-z0-9-]](#3-slug-ููุท-ุดุงูู-a-z0-9-)
- [4. ุญุฏุงฺฉุซุฑ ถฐ ฺฉุงุฑุงฺฉุชุฑ](#4-ุญุฏุงฺฉุซุฑ-ถฐ-ฺฉุงุฑุงฺฉุชุฑ)
- [5. ุจุฏูู ุฎุทโุชุฑู ุชฺฉุฑุงุฑ ุง ุงุจุชุฏุง/ุงูุชูุง](#5-ุจุฏูู-ุฎุทุชุฑู-ุชฺฉุฑุงุฑ-ุง-ุงุจุชุฏุงุงูุชูุง)
- [6. ฺฉุชุง ุจูุฏู ุฏุฑ ุณุงุช (ุจุฑุฑุณ ุจุง ฺฏุฒุงุฑุด ูุฑฺฉุฒ)](#6-ฺฉุชุง-ุจูุฏู-ุฏุฑ-ุณุงุช-ุจุฑุฑุณ-ุจุง-ฺฏุฒุงุฑุด-ูุฑฺฉุฒ)
- [ูุซุงูโูุง:](#ูุซุงููุง)
- ["ูุงููู ุฏููุฑฺฏุงู" โ "de-morgans-laws"](#ูุงููู-ุฏููุฑฺฏุงู--de-morgans-laws)
- ["ูุจุงู ููุทู ุฑุงุถ โ ูุตู ฑ" โ "foundations-mathematical-logic-ch1"](#ูุจุงู-ููุทู-ุฑุงุถ--ูุตู-ฑ--foundations-mathematical-logic-ch1)
- ["Proof of Completeness Theorem" โ "proof-completeness-theorem"](#proof-of-completeness-theorem--proof-completeness-theorem)
- [ุจุฑุง ฺฉุชุงุจ ฺูุฏูุตู:](#ุจุฑุง-ฺฉุชุงุจ-ฺูุฏูุตู)
- [series_slug/chapter_slug](#series_slugchapter_slug)
- ["logic-foundations/ch01-introduction"](#logic-foundationsch01-introduction)
- ["logic-foundations/ch02-propositional-logic"](#logic-foundationsch02-propositional-logic)
      - [ด.ฒ.ด ุชฺฉูู ุจุง AI](#ดฒด-ุชฺฉูู-ุจุง-ai)
      - [ด.ฒ.ต ุชุนุงูู ุจุง ฺฉุงุฑุจุฑ](#ดฒต-ุชุนุงูู-ุจุง-ฺฉุงุฑุจุฑ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 2.5: ุชุณุช ุณุฑุน ู ูพุดโุจุฑุฑุณ](#stage-25-ุชุณุช-ุณุฑุน-ู-ูพุดุจุฑุฑุณ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ฒ.ต.ฑ ุจุฑุฑุณโูุง ูพุด ุงุฒ ุชุจุฏู](#ดฒตฑ-ุจุฑุฑุณูุง-ูพุด-ุงุฒ-ุชุจุฏู)
      - [ด.ฒ.ต.ฒ ฺฏุฒุงุฑุด ูพุดโุจุฑุฑุณ](#ดฒตฒ-ฺฏุฒุงุฑุด-ูพุดุจุฑุฑุณ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 3: ุชุจุฏู ุงุตู ุจู MDX](#stage-3-ุชุจุฏู-ุงุตู-ุจู-mdx)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ณ.ฑ ููุงุนุฏ ุชุจุฏู ุนููู (ุชูุงู ูุฑูุชโูุง)](#ดณฑ-ููุงุนุฏ-ุชุจุฏู-ุนููู-ุชูุงู-ูุฑูุชูุง)
      - [ด.ณ.ฒ ููุงุนุฏ ุชุจุฏู ุงุฎุชุตุงุต ูุฑ ูุฑูุช](#ดณฒ-ููุงุนุฏ-ุชุจุฏู-ุงุฎุชุตุงุต-ูุฑ-ูุฑูุช)
      - [ด.ณ.ณ ุณุงุฎุชุงุฑ ุฎุฑูุฌ MDX](#ดณณ-ุณุงุฎุชุงุฑ-ุฎุฑูุฌ-mdx)
- [ูุงููู ุฏููุฑฺฏุงู ู ฺฉุงุฑุจุฑุฏูุง ุขู](#ูุงููู-ุฏููุฑฺฏุงู-ู-ฺฉุงุฑุจุฑุฏูุง-ุขู)
      - [ด.ณ.ด ููุงุด ูพุดุฑูุช ู ุฎุทุงูุง](#ดณด-ููุงุด-ูพุดุฑูุช-ู-ุฎุทุงูุง)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 4: ุชุณุช ฺฉูุช ุฎุฑูุฌ](#stage-4-ุชุณุช-ฺฉูุช-ุฎุฑูุฌ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ด.ฑ ุณุทูุญ ุชุณุช](#ดดฑ-ุณุทูุญ-ุชุณุช)
      - [ด.ด.ฒ ุงูุชุงุฒ ฺฉูุช (Quality Score)](#ดดฒ-ุงูุชุงุฒ-ฺฉูุช-quality-score)
- [ูุญุงุณุจู ุงูุชุงุฒ ฺฉูุช 0-100](#ูุญุงุณุจู-ุงูุชุงุฒ-ฺฉูุช-0-100)
- [ุณุงุฎุชุงุฑ (25 ุงูุชุงุฒ)](#ุณุงุฎุชุงุฑ-25-ุงูุชุงุฒ)
- [ูุญุชูุง (25 ุงูุชุงุฒ)](#ูุญุชูุง-25-ุงูุชุงุฒ)
- [ุฑุงุถ (20 ุงูุชุงุฒ)](#ุฑุงุถ-20-ุงูุชุงุฒ)
- [ูุงุฑุณ (20 ุงูุชุงุฒ)](#ูุงุฑุณ-20-ุงูุชุงุฒ)
- [ููฺฉโูุง (10 ุงูุชุงุฒ)](#ููฺฉูุง-10-ุงูุชุงุฒ)
- [ุฏุฑุฌูโุจูุฏ:](#ุฏุฑุฌูุจูุฏ)
- [90-100: ุนุงู โ โ ุขูุงุฏู ุงูุชุดุงุฑ](#90-100-ุนุงู---ุขูุงุฏู-ุงูุชุดุงุฑ)
- [75-89:  ุฎูุจ ๐ก โ ุจุฑุฑุณ ุฏุณุช ุฌุฒุฆ](#75-89--ุฎูุจ---ุจุฑุฑุณ-ุฏุณุช-ุฌุฒุฆ)
- [50-74:  ูุชูุณุท ๐ โ ูุงุฒ ุจู ุงุตูุงุญ](#50-74--ูุชูุณุท---ูุงุฒ-ุจู-ุงุตูุงุญ)
- [0-49:   ุถุนู ๐ด โ ุชุจุฏู ูุฌุฏุฏ](#0-49---ุถุนู---ุชุจุฏู-ูุฌุฏุฏ)
      - [ด.ด.ณ ฺฏุฒุงุฑุด ุชุณุช](#ดดณ-ฺฏุฒุงุฑุด-ุชุณุช)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 5: ุงุณุชูุฑุงุฑ ุฎุฑูุฌ](#stage-5-ุงุณุชูุฑุงุฑ-ุฎุฑูุฌ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ต.ฑ ุชูุธูุงุช ูุจโุณุงุช](#ดตฑ-ุชูุธูุงุช-ูุจุณุงุช)
- [config/website_config.yaml](#configwebsite_configyaml)
- [ุงูฺฏู ูุงูโฺฏุฐุงุฑ ูพูุดูโูุง](#ุงูฺฏู-ูุงูฺฏุฐุงุฑ-ูพูุดููุง)
- [ุงูฺฏู ูุงู ูุงู ุงุตู](#ุงูฺฏู-ูุงู-ูุงู-ุงุตู)
- [ุงูฺฏู ูุงู ุชุตุงูุฑ](#ุงูฺฏู-ูุงู-ุชุตุงูุฑ)
- [ูุณุฑ ฺฉุงููพูููุชโูุง MDX](#ูุณุฑ-ฺฉุงููพูููุชูุง-mdx)
      - [ด.ต.ฒ ูุฑุขูุฏ ุงุณุชูุฑุงุฑ](#ดตฒ-ูุฑุขูุฏ-ุงุณุชูุฑุงุฑ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
    - [STAGE 6: ฺฏุฒุงุฑุด ูุฑฺฉุฒ](#stage-6-ฺฏุฒุงุฑุด-ูุฑฺฉุฒ)
    - [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
      - [ด.ถ.ฑ ุณุงุฎุชุงุฑ ฺฏุฒุงุฑุด ูุฑฺฉุฒ](#ดถฑ-ุณุงุฎุชุงุฑ-ฺฏุฒุงุฑุด-ูุฑฺฉุฒ)
- [reports/central_log.yaml](#reportscentral_logyaml)
- [ุงู ูุงู ุชุงุฑุฎฺู ฺฉุงูู ุชูุงู ุชุจุฏูโูุง ุฑุง ูฺฏู ูโุฏุงุฑุฏ](#ุงู-ูุงู-ุชุงุฑุฎฺู-ฺฉุงูู-ุชูุงู-ุชุจุฏููุง-ุฑุง-ูฺฏู-ูุฏุงุฑุฏ)
- [...](#)
- [ุขูุงุฑ ุชุฌูุน](#ุขูุงุฑ-ุชุฌูุน)
- [...](#)
      - [ด.ถ.ฒ ููุงุด ฺฏุฒุงุฑุด](#ดถฒ-ููุงุด-ฺฏุฒุงุฑุด)
- [โ ุชุงุฑุฎ       โ ุนููุงู                     โ ูุฑูุช โ ฺฉูุช โ ูุถุนุช](#ุชุงุฑุฎ--------ุนููุงู----------------------ูุฑูุช--ฺฉูุช--ูุถุนุช)
  - [ต. ูุงุจุณุชฺฏโูุง ู ุงุจุฒุงุฑูุง ุฎุงุฑุฌ](#ต-ูุงุจุณุชฺฏูุง-ู-ุงุจุฒุงุฑูุง-ุฎุงุฑุฌ)
    - [ต.ฑ ูุงุจุณุชฺฏโูุง Python](#ตฑ-ูุงุจุณุชฺฏูุง-python)
- [requirements.txt](#requirementstxt)
- [=== ูุณุชู ===](#ูุณุชู)
- [=== ุชุดุฎุต ูุงู ===](#ุชุดุฎุต-ูุงู)
- [=== ุชุจุฏูโฺฏุฑูุง ===](#ุชุจุฏูฺฏุฑูุง)
- [=== ุฑุงุถ ===](#ุฑุงุถ)
- [ุง](#ุง)
- [=== ุชุตูุฑ ===](#ุชุตูุฑ)
- [=== AI (ุงุฎุชุงุฑ) ===](#ai-ุงุฎุชุงุฑ)
- [=== ุชุณุช ===](#ุชุณุช)
- [=== ฺฏุฒุงุฑุด ===](#ฺฏุฒุงุฑุด)
    - [ต.ฒ ุงุจุฒุงุฑูุง ุฎุงุฑุฌ](#ตฒ-ุงุจุฒุงุฑูุง-ุฎุงุฑุฌ)
  - [ถ. ุชูุธูุงุช ู ุณูุงุฑุดโุณุงุฒ](#ถ-ุชูุธูุงุช-ู-ุณูุงุฑุดุณุงุฒ)
    - [ถ.ฑ ูุงู ุชูุธูุงุช ฺฉุงุฑุจุฑ](#ถฑ-ูุงู-ุชูุธูุงุช-ฺฉุงุฑุจุฑ)
- [config/user_config.yaml](#configuser_configyaml)
- [=== ุนููู ===](#ุนููู)
- [=== ุงุณฺฉู ===](#ุงุณฺฉู)
- [=== ูุชุงุฏุชุง ===](#ูุชุงุฏุชุง)
- [=== ุชุจุฏู ===](#ุชุจุฏู)
- [--- ุฑุงุถ ---](#----ุฑุงุถ----)
- [--- ูููุฏุงุฑ ---](#----ูููุฏุงุฑ----)
- [--- ุชุตูุฑ ---](#----ุชุตูุฑ----)
- [--- ฺฉุฏ ---](#----ฺฉุฏ----)
- [--- ุฌุฏูู ---](#----ุฌุฏูู----)
- [--- ูุงุฑุณ ---](#----ูุงุฑุณ----)
- [--- MDX ---](#----mdx----)
- [=== ุชุณุช ===](#ุชุณุช)
- [=== ุงุณุชูุฑุงุฑ ===](#ุงุณุชูุฑุงุฑ)
- [=== ฺฏุฒุงุฑุด ===](#ฺฏุฒุงุฑุด)
  - [ท. ุฏุณุชูุฑุงุช CLI](#ท-ุฏุณุชูุฑุงุช-cli)
- [=== ูุตุจ ===](#ูุตุจ)
- [ุง](#ุง)
- [=== ุฑุงูููุง ===](#ุฑุงูููุง)
- [=== ุงุณฺฉู ===](#ุงุณฺฉู)
- [=== ุชุจุฏู ===](#ุชุจุฏู)
- [=== ุชุจุฏู ุชุนุงูู (wizard) ===](#ุชุจุฏู-ุชุนุงูู-wizard)
- [=== ุชุณุช ===](#ุชุณุช)
- [=== ุงุณุชูุฑุงุฑ ===](#ุงุณุชูุฑุงุฑ)
- [=== ฺฏุฒุงุฑุด ===](#ฺฏุฒุงุฑุด)
- [=== ุชูุธูุงุช ===](#ุชูุธูุงุช)
- [=== ฺฉุฌุง (all-in-one) ===](#ฺฉุฌุง-all-in-one)
- [ูุนุงุฏู: scan โ metadata โ precheck โ convert โ test โ deploy](#ูุนุงุฏู-scan--metadata--precheck--convert--test--deploy)
- [=== ุจุฑุฑุณ ุณูุงูุช ===](#ุจุฑุฑุณ-ุณูุงูุช)
- [ุจุฑุฑุณ ูุตุจ ุจูุฏู ุชูุงู ูุงุจุณุชฺฏโูุง ู ุงุจุฒุงุฑูุง](#ุจุฑุฑุณ-ูุตุจ-ุจูุฏู-ุชูุงู-ูุงุจุณุชฺฏูุง-ู-ุงุจุฒุงุฑูุง)
  - [ธ. ูุฏุฑุช ุฎุทุง ู ุจุงุฒุงุจ](#ธ-ูุฏุฑุช-ุฎุทุง-ู-ุจุงุฒุงุจ)
  - [น. ููุงุญุธุงุช ุนููฺฉุฑุฏ](#น-ููุงุญุธุงุช-ุนููฺฉุฑุฏ)
  - [ฑฐ. ุชุณุชโูพุฐุฑ ู CI/CD](#ฑฐ-ุชุณุชูพุฐุฑ-ู-cicd)
- [ุชุณุชโูุง ูุงุญุฏ ุจุง pytest](#ุชุณุชูุง-ูุงุญุฏ-ุจุง-pytest)
- [test_scanner.py](#test_scannerpy)
- [test_converter_latex.py](#test_converter_latexpy)
- [test_converter_latex.py (ุงุฏุงูู)](#test_converter_latexpy-ุงุฏุงูู)
- [test_converter_html.py](#test_converter_htmlpy)
- [test_converter_md.py](#test_converter_mdpy)
- [test_converter_docx.py](#test_converter_docxpy)
- [test_converter_pdf.py](#test_converter_pdfpy)
- [test_persian.py](#test_persianpy)
- [test_quality.py](#test_qualitypy)
- [test_e2e.py (End-to-End)](#test_e2epy-end-to-end)
- [ูุงูโูุง ุชุณุช (fixtures)](#ูุงููุง-ุชุณุช-fixtures)
- [tests/test_files/ ุญุงู ูููููโูุง ุงุณุช ฺฉู ุฏุฑ ุงุจุชุฏุง ูฺฉุงููู ุณุงุฎุชู:](#teststest_files-ุญุงู-ููููููุง-ุงุณุช-ฺฉู-ุฏุฑ-ุงุจุชุฏุง-ูฺฉุงููู-ุณุงุฎุชู)
- [- sample-book.tex         (LaTeX ุฌุงูุน)](#--sample-booktex---------latex-ุฌุงูุน)
- [- sample-mermaid.md       (Markdown + Mermaid)](#--sample-mermaidmd-------markdown--mermaid)
- [- sample-page.html        (HTML ุฌุงูุน)](#--sample-pagehtml--------html-ุฌุงูุน)
- [- sample-page.rst         (RST)](#--sample-pagerst---------rst)
- [- sample-page.adoc        (AsciiDoc)](#--sample-pageadoc--------asciidoc)
- [- sample-book.docx        (DOCX)](#--sample-bookdocx--------docx)
- [- sample-book.pdf         (PDF)](#--sample-bookpdf---------pdf)
- [.github/workflows/ci.yml  (ุง ูุนุงุฏู ุขู ุจุฑุง CI/CD ูุญู)](#githubworkflowsciyml--ุง-ูุนุงุฏู-ุขู-ุจุฑุง-cicd-ูุญู)
  - [ฑฑ. ฺฉุงููพูููุชโูุง MDX ููุฑุฏ ูุงุฒ ุฏุฑ ูุจโุณุงุช](#ฑฑ-ฺฉุงููพูููุชูุง-mdx-ููุฑุฏ-ูุงุฒ-ุฏุฑ-ูุจุณุงุช)
    - [ฑฑ.ฑ Theorem Component](#ฑฑฑ-theorem-component)
    - [ฑฑ.ฒ Definition Component](#ฑฑฒ-definition-component)
    - [ฑฑ.ณ Proof Component](#ฑฑณ-proof-component)
    - [ฑฑ.ด Admonition Component](#ฑฑด-admonition-component)
    - [ฑฑ.ต Figure Component](#ฑฑต-figure-component)
    - [ฑฑ.ถ MermaidDiagram Component](#ฑฑถ-mermaiddiagram-component)
    - [ฑฑ.ท Citation & Bibliography Components](#ฑฑท-citation--bibliography-components)
    - [ฑฑ.ธ CrossRef Component](#ฑฑธ-crossref-component)
    - [ฑฑ.น BilingualBlock Component](#ฑฑน-bilingualblock-component)
    - [ฑฑ.ฑฐ ุชููุฏ ุฎูุฏฺฉุงุฑ ฺฉุงููพูููุชโูุง](#ฑฑฑฐ-ุชููุฏ-ุฎูุฏฺฉุงุฑ-ฺฉุงููพูููุชูุง)
- [ุฏุณุชูุฑ ุชููุฏ ฺฉุงููพูููุชโูุง MDX ุจุฑุง ูุจโุณุงุช ุดูุง](#ุฏุณุชูุฑ-ุชููุฏ-ฺฉุงููพูููุชูุง-mdx-ุจุฑุง-ูุจุณุงุช-ุดูุง)
- [ุฎุฑูุฌ:](#ุฎุฑูุฌ)
- [components/mdx/](#componentsmdx)
- [โโโ Theorem.tsx](#theoremtsx)
- [โโโ Definition.tsx](#definitiontsx)
- [โโโ Proof.tsx](#prooftsx)
- [โโโ Example.tsx](#exampletsx)
- [โโโ Admonition.tsx](#admonitiontsx)
- [โโโ Figure.tsx](#figuretsx)
- [โโโ FigureGrid.tsx](#figuregridtsx)
- [โโโ MermaidDiagram.tsx](#mermaiddiagramtsx)
- [โโโ Citation.tsx](#citationtsx)
- [โโโ Bibliography.tsx](#bibliographytsx)
- [โโโ CrossRef.tsx](#crossreftsx)
- [โโโ BilingualBlock.tsx](#bilingualblocktsx)
- [โโโ CodeBlock.tsx](#codeblocktsx)
- [โโโ TableWrapper.tsx](#tablewrappertsx)
- [โโโ Details.tsx](#detailstsx)
- [โโโ index.ts          โ re-exports ููู](#indexts-----------re-exports-ููู)
- [โโโ styles/](#styles)
- [โโโ mdx-components.css](#mdx-componentscss)
- [โโโ rtl-overrides.css](#rtl-overridescss)
  - [ฑฒ. ููุดู ุฑุงู ุชูุณุนู (Roadmap)](#ฑฒ-ููุดู-ุฑุงู-ุชูุณุนู-roadmap)
  - [ฑณ. ูุซุงู ฺฉุงูู: ุณูุงุฑู ูุงูุน](#ฑณ-ูุซุงู-ฺฉุงูู-ุณูุงุฑู-ูุงูุน)
  - [ฑด. ุฎูุงุตู ููุง ู ฺฺฉโูุณุช ุณุงุฎุช](#ฑด-ุฎูุงุตู-ููุง-ู-ฺฺฉูุณุช-ุณุงุฎุช)
  - [ฑต. ูุญูู ุงุณุชูุงุฏู ุงุฒ ุงู ูพุฑุงููพุช](#ฑต-ูุญูู-ุงุณุชูุงุฏู-ุงุฒ-ุงู-ูพุฑุงููพุช)
    - [ุจุฑุง ุดุฑูุน ุชูุณุนู:](#ุจุฑุง-ุดุฑูุน-ุชูุณุนู)
    - [ุจุฑุง ฺฏุณุชุฑุด:](#ุจุฑุง-ฺฏุณุชุฑุด)
  - [ุฎูุงุตู](#ุฎูุงุตู)
  - [Conversation 3](#conversation-3)
    - [Request](#request)
    - [Response](#response)
- [ููุงโุณุงุฒ ูพุฑุงููพุช + ูุฏู ุงุฌุฑุง ูพุงุฏูโุณุงุฒ](#ููุงุณุงุฒ-ูพุฑุงููพุช--ูุฏู-ุงุฌุฑุง-ูพุงุฏูุณุงุฒ)
  - [ุงุณุชุฑุงุชฺ ูพุงุฏูโุณุงุฒ ุจุง LLM (ูุฏุฑุช ูุญุฏูุฏุช ุชูฺฉู)](#ุงุณุชุฑุงุชฺ-ูพุงุฏูุณุงุฒ-ุจุง-llm-ูุฏุฑุช-ูุญุฏูุฏุช-ุชูฺฉู)
    - [ูุดฺฉู ุงุตู](#ูุดฺฉู-ุงุตู)
    - [ุฑุงูโุญู: **ูุฏู ฺฏูุชฺฏู ูุงูโุง (Layered Conversation Model)**](#ุฑุงูุญู-ูุฏู-ฺฏูุชฺฏู-ูุงูุง-layered-conversation-model)
  - [System Prompt ุซุงุจุช (ุฏุฑ ูุฑ ฺุช ุงุณุชูุงุฏู ุดูุฏ)](#system-prompt-ุซุงุจุช-ุฏุฑ-ูุฑ-ฺุช-ุงุณุชูุงุฏู-ุดูุฏ)
- [System Prompt โ FormatForge](#system-prompt--formatforge)
  - [ุฎูุงุตู ูพุฑูฺู](#ุฎูุงุตู-ูพุฑูฺู)
  - [ููุงุนุฏ ุญุงุช ูุงุฑุณ (ุฏุฑ ุชูุงู ฺฉุฏูุง ุฑุนุงุช ุดูุฏ)](#ููุงุนุฏ-ุญุงุช-ูุงุฑุณ-ุฏุฑ-ุชูุงู-ฺฉุฏูุง-ุฑุนุงุช-ุดูุฏ)
  - [ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูพุฑูฺู)
  - [ุณุจฺฉ ฺฉุฏููุณ](#ุณุจฺฉ-ฺฉุฏููุณ)
  - [ูุงุฒุจูุฏ ุงุฌุฑุง (ฑฒ ุงุณูพุฑูุช โ ูุฑ ุงุณูพุฑูุช โ ณ-ต ุฑูุฒ)](#ูุงุฒุจูุฏ-ุงุฌุฑุง-ฑฒ-ุงุณูพุฑูุช--ูุฑ-ุงุณูพุฑูุช--ณ-ต-ุฑูุฒ)
    - [ููุง ฺฉู](#ููุง-ฺฉู)
    - [ุงุณูพุฑูุช S01: ุฒุฑุณุงุฎุช ู ูุฏูโูุง ุฏุงุฏู](#ุงุณูพุฑูุช-s01-ุฒุฑุณุงุฎุช-ู-ูุฏููุง-ุฏุงุฏู)
      - [ฺุช ฑ: ุณุงุฎุชุงุฑ ูพุฑูฺู ู setup](#ฺุช-ฑ-ุณุงุฎุชุงุฑ-ูพุฑูฺู-ู-setup)
      - [ฺุช ฒ: ูุฏูโูุง ุฏุงุฏู (Pydantic)](#ฺุช-ฒ-ูุฏููุง-ุฏุงุฏู-pydantic)
      - [ฺุช ณ: ุชูุธูุงุช (Config)](#ฺุช-ณ-ุชูุธูุงุช-config)
      - [ฺุช ด: CLI ูพุงู](#ฺุช-ด-cli-ูพุงู)
      - [ฺุช ต: ฺฉูุงุณ ูพุงู ุชุจุฏูโฺฏุฑ](#ฺุช-ต-ฺฉูุงุณ-ูพุงู-ุชุจุฏูฺฏุฑ)
      - [ฺุช ถ: Logger ู Utilities](#ฺุช-ถ-logger-ู-utilities)
    - [ุงุณูพุฑูุช S02: ุงุณฺฉูุฑ ูุฑูุฏ](#ุงุณูพุฑูุช-s02-ุงุณฺฉูุฑ-ูุฑูุฏ)
      - [ฺุช ฑ: ุชุดุฎุต ูุฑูุช ูุงู](#ฺุช-ฑ-ุชุดุฎุต-ูุฑูุช-ูุงู)
      - [ฺุช ฒ: ุชุญูู ุณุงุฎุชุงุฑ](#ฺุช-ฒ-ุชุญูู-ุณุงุฎุชุงุฑ)
      - [ฺุช ณ: ูุฏุฑุช ุขุฑุดู](#ฺุช-ณ-ูุฏุฑุช-ุขุฑุดู)
      - [ฺุช ด: ุงุณฺฉูุฑ ุงุตู + ุชุนุงูู](#ฺุช-ด-ุงุณฺฉูุฑ-ุงุตู--ุชุนุงูู)
    - [ุงุณูพุฑูุช S03: ูุงฺูู ูุงุฑุณ](#ุงุณูพุฑูุช-s03-ูุงฺูู-ูุงุฑุณ)
      - [ฺุช ฑ: ูุฏุฑุช ููโูุงุตูู (ZWNJ)](#ฺุช-ฑ-ูุฏุฑุช-ูููุงุตูู-zwnj)
      - [ฺุช ฒ: ูุฏุฑุช ุฏูุฌูุช (BiDi)](#ฺุช-ฒ-ูุฏุฑุช-ุฏูุฌูุช-bidi)
      - [ฺุช ณ: ุชุงูพูฺฏุฑุงู ูุงุฑุณ](#ฺุช-ณ-ุชุงูพูฺฏุฑุงู-ูุงุฑุณ)
      - [ฺุช ด: ูพุฑุฏุงุฒุดฺฏุฑ RTL ุจุฑุง MDX](#ฺุช-ด-ูพุฑุฏุงุฒุดฺฏุฑ-rtl-ุจุฑุง-mdx)
    - [ุงุณูพุฑูุช S04: ูพุฑุฏุงุฒุดฺฏุฑูุง ูพุงู](#ุงุณูพุฑูุช-s04-ูพุฑุฏุงุฒุดฺฏุฑูุง-ูพุงู)
      - [ฺุช ฑ: ูพุฑุฏุงุฒุดฺฏุฑ ุฑุงุถ](#ฺุช-ฑ-ูพุฑุฏุงุฒุดฺฏุฑ-ุฑุงุถ)
      - [ฺุช ฒ: ูพุฑุฏุงุฒุดฺฏุฑ ฺฉุฏ](#ฺุช-ฒ-ูพุฑุฏุงุฒุดฺฏุฑ-ฺฉุฏ)
      - [ฺุช ณ: ูพุฑุฏุงุฒุดฺฏุฑ ููฺฉ ู ุงุฑุฌุงุนุงุช](#ฺุช-ณ-ูพุฑุฏุงุฒุดฺฏุฑ-ููฺฉ-ู-ุงุฑุฌุงุนุงุช)
      - [ฺุช ด: ูพุฑุฏุงุฒุดฺฏุฑ ูพุงููุดุช ู ฺฉุชุงุจโูุงูู](#ฺุช-ด-ูพุฑุฏุงุฒุดฺฏุฑ-ูพุงููุดุช-ู-ฺฉุชุงุจูุงูู)
    - [ุงุณูพุฑูุช S05: ูพุฑุฏุงุฒุดฺฏุฑูุง ูพุดุฑูุชู](#ุงุณูพุฑูุช-s05-ูพุฑุฏุงุฒุดฺฏุฑูุง-ูพุดุฑูุชู)
      - [ฺุช ฑ: ูพุฑุฏุงุฒุดฺฏุฑ ุฌุฏูู](#ฺุช-ฑ-ูพุฑุฏุงุฒุดฺฏุฑ-ุฌุฏูู)
      - [ฺุช ฒ: ูพุฑุฏุงุฒุดฺฏุฑ ุชุตูุฑ](#ฺุช-ฒ-ูพุฑุฏุงุฒุดฺฏุฑ-ุชุตูุฑ)
      - [ฺุช ณ: ูพุฑุฏุงุฒุดฺฏุฑ ูููุฏุงุฑ (TikZ + Mermaid)](#ฺุช-ณ-ูพุฑุฏุงุฒุดฺฏุฑ-ูููุฏุงุฑ-tikz--mermaid)
      - [ฺุช ด: ูพุฑุฏุงุฒุดฺฏุฑ Admonition ู ูุญุทโูุง ุฎุงุต](#ฺุช-ด-ูพุฑุฏุงุฒุดฺฏุฑ-admonition-ู-ูุญุทูุง-ุฎุงุต)
- [tcolorbox ุณูุงุฑุด โ ุจุฑ ุงุณุงุณ ุนููุงู/ุฑูฺฏ ุชุดุฎุต](#tcolorbox-ุณูุงุฑุด--ุจุฑ-ุงุณุงุณ-ุนููุงูุฑูฺฏ-ุชุดุฎุต)
    - [ุงุณูพุฑูุช S06: ุชุจุฏูโฺฏุฑ Markdown โ MDX](#ุงุณูพุฑูุช-s06-ุชุจุฏูฺฏุฑ-markdown--mdx)
      - [ฺุช ฑ: ุชุจุฏูโฺฏุฑ ุงุตู MD](#ฺุช-ฑ-ุชุจุฏูฺฏุฑ-ุงุตู-md)
      - [ฺุช ฒ: ุชุจุฏูโูุง JSX ู Import Generator](#ฺุช-ฒ-ุชุจุฏููุง-jsx-ู-import-generator)
      - [ฺุช ณ: ุชุณุช E2E ูุงุฑฺฉโุฏุงูู](#ฺุช-ณ-ุชุณุช-e2e-ูุงุฑฺฉุฏุงูู)
    - [ุงุณูพุฑูุช S07: ุชุจุฏูโฺฏุฑ HTML โ MDX](#ุงุณูพุฑูุช-s07-ุชุจุฏูฺฏุฑ-html--mdx)
      - [ฺุช ฑ: ุชุญููโฺฏุฑ HTML](#ฺุช-ฑ-ุชุญููฺฏุฑ-html)
      - [ฺุช ฒ: ุชุจุฏู ุนูุงุตุฑ ูพฺุฏู HTML](#ฺุช-ฒ-ุชุจุฏู-ุนูุงุตุฑ-ูพฺุฏู-html)
      - [ฺุช ณ: ุชุณุช E2E ุงฺโุชโุงูโุงู](#ฺุช-ณ-ุชุณุช-e2e-ุงฺุชุงูุงู)
    - [ุงุณูพุฑูุช S08: ุชุจุฏูโฺฏุฑ LaTeX โ MDX (ูพุงู)](#ุงุณูพุฑูุช-s08-ุชุจุฏูฺฏุฑ-latex--mdx-ูพุงู)
      - [ฺุช ฑ: ุชุญููโฺฏุฑ LaTeX (Parser)](#ฺุช-ฑ-ุชุญููฺฏุฑ-latex-parser)
      - [ฺุช ฒ: ุชุจุฏู ุณุงุฎุชุงุฑ LaTeX](#ฺุช-ฒ-ุชุจุฏู-ุณุงุฎุชุงุฑ-latex)
      - [ฺุช ณ: ุชุจุฏู ูุญุทโูุง LaTeX](#ฺุช-ณ-ุชุจุฏู-ูุญุทูุง-latex)
      - [ฺุช ด: ุงุณุชุฎุฑุงุฌ Metadata ุงุฒ LaTeX](#ฺุช-ด-ุงุณุชุฎุฑุงุฌ-metadata-ุงุฒ-latex)
    - [ุงุณูพุฑูุช S09: ุชุจุฏูโฺฏุฑ LaTeX โ MDX (ูพุดุฑูุชู)](#ุงุณูพุฑูุช-s09-ุชุจุฏูฺฏุฑ-latex--mdx-ูพุดุฑูุชู)
      - [ฺุช ฑ: ูุฏุฑุช ฺฉุชุงุจ ฺูุฏูุตู](#ฺุช-ฑ-ูุฏุฑุช-ฺฉุชุงุจ-ฺูุฏูุตู)
      - [ฺุช ฒ: ุญุฐู ุฏุณุชูุฑุงุช ุบุฑุถุฑูุฑ LaTeX](#ฺุช-ฒ-ุญุฐู-ุฏุณุชูุฑุงุช-ุบุฑุถุฑูุฑ-latex)
      - [ฺุช ณ: TikZ โ SVG Pipeline](#ฺุช-ณ-tikz--svg-pipeline)
      - [ฺุช ด: ุชุณุช E2E ูุงุชฺฉุณ](#ฺุช-ด-ุชุณุช-e2e-ูุงุชฺฉุณ)
    - [ุงุณูพุฑูุช S10: ุชุณุช ฺฉูุช + ูุชุงุฏุชุง](#ุงุณูพุฑูุช-s10-ุชุณุช-ฺฉูุช--ูุชุงุฏุชุง)
      - [ฺุช ฑ: ุชุณุชโูุง ฺฉูุช](#ฺุช-ฑ-ุชุณุชูุง-ฺฉูุช)
      - [ฺุช ฒ: ูุชุงุฏุชุง + AI Completer](#ฺุช-ฒ-ูุชุงุฏุชุง--ai-completer)
      - [ฺุช ณ: Pre-flight Check (Stage 2.5)](#ฺุช-ณ-pre-flight-check-stage-25)
    - [ุงุณูพุฑูุช S11: ุงุณุชูุฑุงุฑ + ฺฏุฒุงุฑุด](#ุงุณูพุฑูุช-s11-ุงุณุชูุฑุงุฑ--ฺฏุฒุงุฑุด)
      - [ฺุช ฑ: ุงุณุชูุฑุงุฑ ุฎุฑูุฌ](#ฺุช-ฑ-ุงุณุชูุฑุงุฑ-ุฎุฑูุฌ)
    - [ุงุณูพุฑูุช S11: ุงุณุชูุฑุงุฑ + ฺฏุฒุงุฑุด (ุงุฏุงูู)](#ุงุณูพุฑูุช-s11-ุงุณุชูุฑุงุฑ--ฺฏุฒุงุฑุด-ุงุฏุงูู)
      - [ฺุช ฑ (ุงุฏุงูู): ุงุณุชูุฑุงุฑ ุฎุฑูุฌ](#ฺุช-ฑ-ุงุฏุงูู-ุงุณุชูุฑุงุฑ-ุฎุฑูุฌ)
      - [ฺุช ฒ: ฺฏุฒุงุฑุด ูุฑฺฉุฒ](#ฺุช-ฒ-ฺฏุฒุงุฑุด-ูุฑฺฉุฒ)
      - [ฺุช ณ: CLI Commands ุชฺฉูู](#ฺุช-ณ-cli-commands-ุชฺฉูู)
    - [ุงุณูพุฑูุช S12: ฺฉูพุงุฑฺูโุณุงุฒ + E2E](#ุงุณูพุฑูุช-s12-ฺฉูพุงุฑฺูุณุงุฒ--e2e)
      - [ฺุช ฑ: Pipeline ฺฉูพุงุฑฺู](#ฺุช-ฑ-pipeline-ฺฉูพุงุฑฺู)
      - [ฺุช ฒ: ุชุณุชโูุง E2E ฺฉุงูู](#ฺุช-ฒ-ุชุณุชูุง-e2e-ฺฉุงูู)
      - [ฺุช ณ: Doctor + Init Components](#ฺุช-ณ-doctor--init-components)
      - [ฺุช ด: ูุณุชูุฏุณุงุฒ ููุง](#ฺุช-ด-ูุณุชูุฏุณุงุฒ-ููุง)
  - [ุฌุฏูู ุฎูุงุตู: ูุงูโูุงุ ฺุชโูุงุ ู ุงูููุช](#ุฌุฏูู-ุฎูุงุตู-ูุงููุงุ-ฺุชูุงุ-ู-ุงูููุช)
  - [ุงูฺฏู ูุฑ ฺุช ุจุง LLM (Template)](#ุงูฺฏู-ูุฑ-ฺุช-ุจุง-llm-template)
    - [ูุงูุจ ูพุงู ุงูู ูุฑ ฺุช](#ูุงูุจ-ูพุงู-ุงูู-ูุฑ-ฺุช)
- [[System Prompt ุซุงุจุช โ ููุงู ุจุฎุด ุจุงูุง]](#system-prompt-ุซุงุจุช--ููุงู-ุจุฎุด-ุจุงูุง)
  - [Context: [ูุงู ูุงฺูู]](#context-ูุงู-ูุงฺูู)
    - [ูุงูโูุง ฺฉู ูุจูุงู ุณุงุฎุชูโุงู (interface ูุง):](#ูุงููุง-ฺฉู-ูุจูุงู-ุณุงุฎุชูุงู-interface-ูุง)
- [ุฎูุงุตู interface ูุงูโูุง ูุงุจุณุชู](#ุฎูุงุตู-interface-ูุงููุง-ูุงุจุณุชู)
- [ูุซุงู:](#ูุซุงู)
- [... (ุฎูุงุตู ููุฏูุง)](#ุฎูุงุตู-ููุฏูุง)
    - [ูุงูโูุง ฺฉู ุงูุงู ุจุงุฏ ุจุณุงุฒู:](#ูุงููุง-ฺฉู-ุงูุงู-ุจุงุฏ-ุจุณุงุฒู)
    - [ูุดุฎุตุงุช ุฏูู:](#ูุดุฎุตุงุช-ุฏูู)
    - [ููููู ูุฑูุฏ/ุฎุฑูุฌ:](#ููููู-ูุฑูุฏุฎุฑูุฌ)
    - [ูุทูุงู:](#ูุทูุงู)
    - [ูุงูุจ ูพุงูโูุง ุงุฏุงูู ุฏุฑ ููุงู ฺุช](#ูุงูุจ-ูพุงููุง-ุงุฏุงูู-ุฏุฑ-ููุงู-ฺุช)
  - [ูฺฉุงุช ุนูู ูุฏุฑุช ฺุชโูุง](#ูฺฉุงุช-ุนูู-ูุฏุฑุช-ฺุชูุง)
    - [โ ุจุงุฏูุง](#ุจุงุฏูุง)
    - [โ ูุจุงุฏูุง](#ูุจุงุฏูุง)
    - [๐ ูุฑูุช ุซุจุช ูพุดุฑูุช](#ูุฑูุช-ุซุจุช-ูพุดุฑูุช)
- [progress.yaml โ ุจุนุฏ ุงุฒ ูุฑ ฺุช ุจุฑูุฒุฑุณุงู ุดูุฏ](#progressyaml--ุจุนุฏ-ุงุฒ-ูุฑ-ฺุช-ุจุฑูุฒุฑุณุงู-ุดูุฏ)
  - [ูููุฏุงุฑ ูุงุจุณุชฺฏ ุณุงุฎุช (Build Order)](#ูููุฏุงุฑ-ูุงุจุณุชฺฏ-ุณุงุฎุช-build-order)
  - [ููุทูโูุง ุจุฑุฑุณ (Checkpoints)](#ููุทููุง-ุจุฑุฑุณ-checkpoints)
  - [ุณุงุฎุชุงุฑ ูุงู ููุง ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูุงู-ููุง-ูพุฑูฺู)
  - [ูุฑูุงูโูุง ุงุฌุฑุง ุงุณูพุฑูุชโูุง](#ูุฑูุงููุง-ุงุฌุฑุง-ุงุณูพุฑูุชูุง)
- [=== ุดุฑูุน ูพุฑูฺู ===](#ุดุฑูุน-ูพุฑูฺู)
- [ุณุงุฎุช ุณุงุฎุชุงุฑ ุงููู (S01-C1)](#ุณุงุฎุช-ุณุงุฎุชุงุฑ-ุงููู-s01-c1)
- [=== ูุฑ ุงุณูพุฑูุช ===](#ูุฑ-ุงุณูพุฑูุช)
- [1. ุณุงุฎุช branch](#1-ุณุงุฎุช-branch)
- [2. ูพุงุฏูโุณุงุฒ (ุจุง LLM)](#2-ูพุงุฏูุณุงุฒ-ุจุง-llm)
- [... ฺุชโูุง ุทุจู ุจุฑูุงูู ...](#ฺุชูุง-ุทุจู-ุจุฑูุงูู)
- [3. ุชุณุช](#3-ุชุณุช)
- [4. ูุฑุฌ](#4-ูุฑุฌ)
- [=== ุจุฑุฑุณ ุณูุงูุช ===](#ุจุฑุฑุณ-ุณูุงูุช)
- [ุจุนุฏ ุงุฒ ูุฑ ุงุณูพุฑูุช:](#ุจุนุฏ-ุงุฒ-ูุฑ-ุงุณูพุฑูุช)
- [=== ุชุณุช E2E ===](#ุชุณุช-e2e)
- [ุจุนุฏ ุงุฒ S06, S07, S09, S12:](#ุจุนุฏ-ุงุฒ-s06-s07-s09-s12)
  - [ุฎูุงุตู ููุง](#ุฎูุงุตู-ููุง)
    - [Overlap Report](#overlap-report)
  - [Conversation 4](#conversation-4)
    - [Request](#request)
    - [Response](#response)
- [ุงุณูพุฑูุช S01 โ ฺุช ฑ: ุณุงุฎุชุงุฑ ูพุฑูฺู ู ุฒุฑุณุงุฎุช](#ุงุณูพุฑูุช-s01--ฺุช-ฑ-ุณุงุฎุชุงุฑ-ูพุฑูฺู-ู-ุฒุฑุณุงุฎุช)
  - [ุงุณฺฉุฑูพุช PowerShell: ุณุงุฎุช ฺฉุงูู ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุงุณฺฉุฑูพุช-powershell-ุณุงุฎุช-ฺฉุงูู-ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [============================================================](#)
- [S01-C1: FormatForge โ ุณุงุฎุช ุณุงุฎุชุงุฑ ูพุฑูฺู](#s01-c1-formatforge--ุณุงุฎุช-ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [ุงุฌุฑุง: .\init-project.ps1 [-ProjectRoot "C:\Projects\formatforge"]](#ุงุฌุฑุง-init-projectps1--projectroot-cprojectsformatforge)
- [============================================================](#)
- [--- ุฑูฺฏโูุง ---](#----ุฑูฺฏูุง----)
- [--- ุชุงุจุน ุฐุฎุฑู ูุงู ---](#----ุชุงุจุน-ุฐุฎุฑู-ูุงู----)
- [============================================================](#)
- [--- ุณุงุฎุชุงุฑ ูพูุดูโูุง ---](#----ุณุงุฎุชุงุฑ-ูพูุดููุง----)
- [Root](#root)
- [Main package](#main-package)
- [Tests](#tests)
- [============================================================](#)
- [============================================================](#)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [pyproject.toml](#pyprojecttoml)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [CLI](#cli)
- [Data](#data)
- [File detection](#file-detection)
- [Conversion](#conversion)
- [Image](#image)
- [Templates](#templates)
- [Logging](#logging)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [.gitignore](#gitignore)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [Python](#python)
- [Virtual environment](#virtual-environment)
- [IDE](#ide)
- [OS](#os)
- [LaTeX](#latex)
- [FormatForge](#formatforge)
- [Test output](#test-output)
- [Coverage](#coverage)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [Makefile](#makefile)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [formatforge/__init__.py](#formatforge__init__py)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [formatforge/exceptions.py](#formatforgeexceptionspy)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [โโโโโโโโโโโโโโโโ ุงุณฺฉู / Scanner โโโโโโโโโโโโโโโโ](#ุงุณฺฉู--scanner)
- [โโโโโโโโโโโโโโโโ ูุชุงุฏุชุง / Metadata โโโโโโโโโโโโโโโโ](#ูุชุงุฏุชุง--metadata)
- [โโโโโโโโโโโโโโโโ ุชุจุฏู / Conversion โโโโโโโโโโโโโโโโ](#ุชุจุฏู--conversion)
- [โโโโโโโโโโโโโโโโ ูุงุฑุณ / Persian โโโโโโโโโโโโโโโโ](#ูุงุฑุณ--persian)
- [โโโโโโโโโโโโโโโโ ฺฉูุช / Quality โโโโโโโโโโโโโโโโ](#ฺฉูุช--quality)
- [โโโโโโโโโโโโโโโโ ุงุณุชูุฑุงุฑ / Deployment โโโโโโโโโโโโโโโโ](#ุงุณุชูุฑุงุฑ--deployment)
- [โโโโโโโโโโโโโโโโ AI โโโโโโโโโโโโโโโโ](#ai)
- [โโโโโโโโโโโโโโโโ ูพฺฉุฑุจูุฏ / Config โโโโโโโโโโโโโโโโ](#ูพฺฉุฑุจูุฏ--config)
- [โโโโโโโโโโโโโโโโ ุงุจุฒุงุฑ ุฎุงุฑุฌ / External Tools โโโโโโโโโโโโโโโโ](#ุงุจุฒุงุฑ-ุฎุงุฑุฌ--external-tools)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [formatforge/cli/__init__.py](#formatforgecli__init__py)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [formatforge/cli/__main__.py](#formatforgecli__main__py)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [Exact match](#exact-match)
- [Prefix match](#prefix-match)
- [โโโโโโโโโโโโโโโโ ุฏุณุชูุฑุงุช โโโโโโโโโโโโโโโโ](#ุฏุณุชูุฑุงุช)
- [โโโโโโโโโโโโโโโโ ููุทู ูุฑูุฏ โโโโโโโโโโโโโโโโ](#ููุทู-ูุฑูุฏ)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [CLI Command Stubs (ุงุณฺฉูุช ุฏุณุชูุฑุงุช)](#cli-command-stubs-ุงุณฺฉูุช-ุฏุณุชูุฑุงุช)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [TODO: S02 โ Scanner implementation](#todo-s02--scanner-implementation)
- [TODO: S06-S09 โ Converter implementations](#todo-s06-s09--converter-implementations)
- [TODO: S10 โ Quality tests](#todo-s10--quality-tests)
- [TODO: S11 โ Deployer](#todo-s11--deployer)
- [TODO: S11 โ Central log & reports](#todo-s11--central-log--reports)
- [TODO: S12 โ Full pipeline](#todo-s12--full-pipeline)
- [โโ Python โโ](#python)
- [โโ ุงุจุฒุงุฑูุง ุฎุงุฑุฌ โโ](#ุงุจุฒุงุฑูุง-ุฎุงุฑุฌ)
- [โโ ูพฺฉุฌโูุง Python โโ](#ูพฺฉุฌูุง-python)
- [โโ ูุชุฌู โโ](#ูุชุฌู)
- [TODO: S12 โ Component generation](#todo-s12--component-generation)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [__init__.py ูุงูโูุง ุฎุงู ุจุฑุง ูพฺฉุฌโูุง](#__init__py-ูุงููุง-ุฎุงู-ุจุฑุง-ูพฺฉุฌูุง)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [tests/conftest.py](#testsconftestpy)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [โโโโโโโโโโโโ ูุณุฑูุง โโโโโโโโโโโโ](#ูุณุฑูุง)
- [โโโโโโโโโโโโ ูุชูู ููููู โโโโโโโโโโโโ](#ูุชูู-ููููู)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [tests/test_files/ โ ูุงู placeholder](#teststest_files--ูุงู-placeholder)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [ูุงูโูุง ุชุณุช](#ูุงููุง-ุชุณุช)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [config/default_config.yaml](#configdefault_configyaml)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [============================================================](#)
- [FormatForge โ ุชูุธูุงุช ูพุดโูุฑุถ](#formatforge--ุชูุธูุงุช-ูพุดูุฑุถ)
- [Default Configuration](#default-configuration)
- [============================================================](#)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [README.md](#readmemd)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [๐ FormatForge](#formatforge)
  - [โจ ูฺฺฏโูุง](#ูฺฺฏูุง)
  - [๐ ุดุฑูุน ุณุฑุน](#ุดุฑูุน-ุณุฑุน)
- [ูุตุจ](#ูุตุจ)
- [ุจุฑุฑุณ ุณูุงูุช](#ุจุฑุฑุณ-ุณูุงูุช)
- [ุชุจุฏู](#ุชุจุฏู)
- [ุงุฌุฑุง ฺฉุงูู](#ุงุฌุฑุง-ฺฉุงูู)
  - [๐ ูุถุนุช ุชูุณุนู](#ูุถุนุช-ุชูุณุนู)
  - [๐ ูุฌูุฒ](#ูุฌูุฒ)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [progress.yaml](#progressyaml)
- [----------------------------------------------------------](#----------------------------------------------------------)
- [FormatForge โ ูพุดุฑูุช ุชูุณุนู](#formatforge--ูพุดุฑูุช-ุชูุณุนู)
- [ุจุนุฏ ุงุฒ ูุฑ ฺุช ุจุฑูุฒุฑุณุงู ุดูุฏ](#ุจุนุฏ-ุงุฒ-ูุฑ-ฺุช-ุจุฑูุฒุฑุณุงู-ุดูุฏ)
- [============================================================](#)
- [============================================================](#)
- [ุดูุงุฑุด ูุงูโูุง](#ุดูุงุฑุด-ูุงููุง)
- [ุจุฑุฑุณ encoding](#ุจุฑุฑุณ-encoding)
- [============================================================](#)
  - [ุฏุณุชูุฑุงุช ุจุนุฏ ุงุฒ ุงุฌุฑุง ุงุณฺฉุฑูพุช](#ุฏุณุชูุฑุงุช-ุจุนุฏ-ุงุฒ-ุงุฌุฑุง-ุงุณฺฉุฑูพุช)
- [ฑ. ุงุฌุฑุง ุงุณฺฉุฑูพุช](#ฑ-ุงุฌุฑุง-ุงุณฺฉุฑูพุช)
- [ฒ. ูุฑูุฏ ุจู ูพุฑูฺู](#ฒ-ูุฑูุฏ-ุจู-ูพุฑูฺู)
- [ณ. ุณุงุฎุช ูุญุท ูุฌุงุฒ](#ณ-ุณุงุฎุช-ูุญุท-ูุฌุงุฒ)
- [ด. ูุตุจ ูุงุจุณุชฺฏโูุง](#ด-ูุตุจ-ูุงุจุณุชฺฏูุง)
- [ต. ุจุฑุฑุณ ุณูุงูุช](#ต-ุจุฑุฑุณ-ุณูุงูุช)
- [ถ. ุชุณุช CLI](#ถ-ุชุณุช-cli)
- [ท. ุงุฌุฑุง ุชุณุชโูุง (ูุนูุงู ุฎุงู โ ุจุงุฏ ูพุงุณ ุดููุฏ)](#ท-ุงุฌุฑุง-ุชุณุชูุง-ูุนูุงู-ุฎุงู--ุจุงุฏ-ูพุงุณ-ุดููุฏ)
- [ธ. Git init](#ธ-git-init)
  - [ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ `formatforge doctor`](#ุฎุฑูุฌ-ููุฑุฏ-ุงูุชุธุงุฑ-formatforge-doctor)
  - [ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ `formatforge --help`](#ุฎุฑูุฌ-ููุฑุฏ-ุงูุชุธุงุฑ-formatforge---help)
- [ุงุณูพุฑูุช S01 โ ฺุช ฒ: ูุฏูโูุง Pydantic](#ุงุณูพุฑูุช-s01--ฺุช-ฒ-ูุฏููุง-pydantic)
- [============================================================](#)
- [S01-C2: FormatForge โ ูุฏูโูุง ุฏุงุฏู (Pydantic)](#s01-c2-formatforge--ูุฏููุง-ุฏุงุฏู-pydantic)
- [ุงุฌุฑุง: .\s01-c2-models.ps1 [-ProjectRoot ".\formatforge"]](#ุงุฌุฑุง-s01-c2-modelsps1--projectroot-formatforge)
- [============================================================](#)
- [============================================================](#)
- [1. models/enums.py โ ุดูุงุฑุดโูุง (Enums)](#1-modelsenumspy--ุดูุงุฑุดูุง-enums)
- [============================================================](#)
- [============================================================](#)
- [2. models/metadata.py โ ูุชุงุฏุชุง ุณูุฏ](#2-modelsmetadatapy--ูุชุงุฏุชุง-ุณูุฏ)
- [============================================================](#)
- [โโโโโโโโโโโโ ุซุงุจุชโูุง โโโโโโโโโโโโ](#ุซุงุจุชูุง)
- [โโโโโโโโโโโโ ูุฏูโูุง ูุฑุน โโโโโโโโโโโโ](#ูุฏููุง-ูุฑุน)
- [โโโโโโโโโโโโ ูุฏู ุงุตู โโโโโโโโโโโโ](#ูุฏู-ุงุตู)
- [โโโ ุงุฌุจุงุฑ (Required) โโโ](#ุงุฌุจุงุฑ-required)
- [โโโ ููุณูุฏู โโโ](#ููุณูุฏู)
- [โโโ ุนููุงู ุงูฺฏูุณ โโโ](#ุนููุงู-ุงูฺฏูุณ)
- [โโโ ุฏุณุชูโุจูุฏ โโโ](#ุฏุณุชูุจูุฏ)
- [โโโ ูุญุชูุง โโโ](#ูุญุชูุง)
- [โโโ ูุงูโูุง โโโ](#ูุงููุง)
- [โโโ SEO ู ูุจ โโโ](#seo-ู-ูุจ)
- [โโโ ุชุจุฏู โโโ](#ุชุจุฏู)
- [โโโ ุงุนุชุจุงุฑุณูุฌ (Validators) โโโ](#ุงุนุชุจุงุฑุณูุฌ-validators)
- [ุงฺฏุฑ ุฒุจุงู ุงูฺฏูุณ ุงุณุช ูู RTL ุชูุธู ุดุฏูุ ุงุตูุงุญ ููโฺฉูู](#ุงฺฏุฑ-ุฒุจุงู-ุงูฺฏูุณ-ุงุณุช-ูู-rtl-ุชูุธู-ุดุฏูุ-ุงุตูุงุญ-ููฺฉูู)
- [ููฺฉู ุงุณุช ุนูุฏ ุจุงุดุฏ](#ููฺฉู-ุงุณุช-ุนูุฏ-ุจุงุดุฏ)
- [โโโ ูุชุฏูุง ฺฉูฺฉ โโโ](#ูุชุฏูุง-ฺฉูฺฉ)
- [============================================================](#)
- [3. models/scan_report.py โ ฺฏุฒุงุฑุด ุงุณฺฉู](#3-modelsscan_reportpy--ฺฏุฒุงุฑุด-ุงุณฺฉู)
- [============================================================](#)
- [โโโโโโโโโโโโ ูุฏูโูุง ูุฑุน โโโโโโโโโโโโ](#ูุฏููุง-ูุฑุน)
- [ูุงุจุณุชฺฏโูุง](#ูุงุจุณุชฺฏูุง)
- [ูฺฺฏโูุง ูุญุชูุง](#ูฺฺฏูุง-ูุญุชูุง)
- [ุขูุงุฑ ุณุฑุน](#ุขูุงุฑ-ุณุฑุน)
- [โโโโโโโโโโโโ ูุฏู ุงุตู โโโโโโโโโโโโ](#ูุฏู-ุงุตู)
- [ุดูุงุณู ู ุฒูุงู](#ุดูุงุณู-ู-ุฒูุงู)
- [ูุฑูุฏ](#ูุฑูุฏ)
- [ุณุงุฎุชุงุฑ](#ุณุงุฎุชุงุฑ)
- [ุงุณูุงุฏ ู ูุงูโูุง](#ุงุณูุงุฏ-ู-ูุงููุง)
- [ูุดฺฉูุงุช](#ูุดฺฉูุงุช)
- [ุชุฃุฏ](#ุชุฃุฏ)
- [โโโ ููุฏูุง ูุญุงุณุจูโุง โโโ](#ููุฏูุง-ูุญุงุณุจูุง)
- [โโโ ูุชุฏูุง โโโ](#ูุชุฏูุง)
- [ุงฺฏุฑ main_entry ูุจูุฏุ ุงููู standalone](#ุงฺฏุฑ-main_entry-ูุจูุฏุ-ุงููู-standalone)
- [============================================================](#)
- [4. models/conversion_result.py โ ูุชุฌู ุชุจุฏู](#4-modelsconversion_resultpy--ูุชุฌู-ุชุจุฏู)
- [============================================================](#)
- [โโโโโโโโโโโโ ูุฏูโูุง ุขูุงุฑ โโโโโโโโโโโโ](#ูุฏููุง-ุขูุงุฑ)
- [โโโโโโโโโโโโ ูุดฺฉูุงุช ุชุจุฏู โโโโโโโโโโโโ](#ูุดฺฉูุงุช-ุชุจุฏู)
- [โโโโโโโโโโโโ ูุงู ุฎุฑูุฌ โโโโโโโโโโโโ](#ูุงู-ุฎุฑูุฌ)
- [โโโโโโโโโโโโ ฺฏุฒุงุฑุด ฺฉูุช โโโโโโโโโโโโ](#ฺฏุฒุงุฑุด-ฺฉูุช)
- [ุงูุชุงุฒูุง ุฌุฒุฆ (ูุฑ ฺฉุฏุงู 0-100)](#ุงูุชุงุฒูุง-ุฌุฒุฆ-ูุฑ-ฺฉุฏุงู-0-100)
- [ุฌุฒุฆุงุช](#ุฌุฒุฆุงุช)
- [ูุดฺฉูุงุช](#ูุดฺฉูุงุช)
- [ูุฒูโูุง: ุณุงุฎุชุงุฑ 25%, ูุญุชูุง 25%, ุฑุงุถ 20%, ูุงุฑุณ 20%, ููฺฉ 10%](#ูุฒููุง-ุณุงุฎุชุงุฑ-25-ูุญุชูุง-25-ุฑุงุถ-20-ูุงุฑุณ-20-ููฺฉ-10)
- [โโโโโโโโโโโโ ูุชุฌู ุชุจุฏู ุงุตู โโโโโโโโโโโโ](#ูุชุฌู-ุชุจุฏู-ุงุตู)
- [ุดูุงุณู ู ูุถุนุช](#ุดูุงุณู-ู-ูุถุนุช)
- [ูุฑูุฏ](#ูุฑูุฏ)
- [ุฎุฑูุฌ](#ุฎุฑูุฌ)
- [ูุชุงุฏุชุง](#ูุชุงุฏุชุง)
- [ุขูุงุฑ](#ุขูุงุฑ)
- [ฺฉูุช](#ฺฉูุช)
- [ูุดฺฉูุงุช](#ูุดฺฉูุงุช)
- [โโโ ููุฏูุง ูุญุงุณุจูโุง โโโ](#ููุฏูุง-ูุญุงุณุจูุง)
- [โโโ ูุชุฏูุง โโโ](#ูุชุฏูุง)
- [โโโโโโโโโโโโ ูุชุงุฌ ุฏุณุชูโุง โโโโโโโโโโโโ](#ูุชุงุฌ-ุฏุณุชูุง)
- [============================================================](#)
- [5. models/__init__.py โ ุจุงุฒุตุงุฏุฑุงุช](#5-models__init__py--ุจุงุฒุตุงุฏุฑุงุช)
- [============================================================](#)
- [Enums](#enums)
- [Metadata](#metadata)
- [Scan](#scan)
- [Conversion](#conversion)
- [============================================================](#)
- [6. tests/test_models.py โ ุชุณุชโูุง](#6-teststest_modelspy--ุชุณุชูุง)
- [============================================================](#)
- [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
- [ุชุณุช Enums](#ุชุณุช-enums)
- [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
- [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
- [ุชุณุช DocumentMetadata](#ุชุณุช-documentmetadata)
- [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
- [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)
- [ุชุณุช ScanReport](#ุชุณุช-scanreport)
- [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ](#)

---


# Chat Merger Report

| Metric | Value |
|--------|-------|
| Conversations | 4 |
| Total segments merged | 10 |
| Overlaps detected | 2 |
| Blocks needing review | 2 |

---

## Conversation 1
*(3 segments merged)*
*Model: claude-opus-4-6*

<!-- ๐ง MANUAL INTERVENTION NEEDED -->
> **Review needed:** Overlap detection flagged some areas

### Request

## Request
ุฑ ุฑุง ุฏุฑ ุตูุฑุช ูุงุฒ ุฏุฑ ฺูุฏ ุจุฎุด ุจู ุดฺฉู ุฌุงูุน ุชูู ฺฉู ุชุง ุจุชูุงูู ุงุฒ ุขู ุฏุฑ ุชุณุช ฺฉุฑุฏู ูุฑู ุงูุฒุงุฑ ุชุจุฏู ููุงูุงุช ู ฺฉุชุงุจ ูุง ุจุงููโูุง ู ุงุซุจุงุชโูุง ููุทู ุฑุงุถโุงู ุงุฒ ููุน ูุฑูุชโูุง ูุฎุชูู ูุธุฑ ูุงุชฺฉุณุ html, md, docs, pdf, ุจู mdx ุจุฑุง ูุจ ุณุงุช ุฎูุฏู ุงุณุชูุงุฏู ฺฉูู.
ูุญุชูุงูุง ุนููุญุชูุงูุง ุฒ
ุฏุชุง ูุงุฑุณ ุจุง ูุฌูุฏ ูุชูู ุงูฺฏูุณ ุฏุฑ ุขููุง ุง ุงูฺฏูุณ ูุณุชูุฏ. 
ูุฑ ููุน ุดฺฉู ู ูุงูุจ ู ููุฑุช ููุฑุฏ ูุงุฒ ุฑุง ุฏุฑ ูููููโูุง ุจฺฏูุฌุงู ุชุง ุชุณุช ุฏูู ุตูุฑุช ุจฺฏุฑุฏ. 
ุฏุฑ ุตูุฑุช ุงูฺฉุงู ุงุฒ ุฏุณุชูุฑ powershell ุจุฑุง ุณุงุฎุชู ูุงูโูุง ููููู ุงุณุชูุงุฏู ฺฉูุ ุงฺฏุฑ ูุชู ุฏุฑ ฺุช ุฒูุงู ฺฉู ุจู ูู ุงุฑุงุฆู ูโฺฉู ุฎุฑุงุจ ููโุดูุฏ. ูุงูุง ุฎูุฏู ฺฉูพ ุจุณุช ุฎูุงูู ฺฉุฑุฏ. 

## Latex
`````Markdown
# [Code extracted to: code_block_001.md]
# See: output\formatForge_20260215_164352\code_blocks\code_block_001.md
`````

## Markdown
`````markdown
# [Code extracted to: code_block_002.md]
# See: output\formatForge_20260215_164352\code_blocks\code_block_002.md
`````

### Follow-up additions

**Follow-up 1:** ุฏ ุงุฏุงูู ุจุฏู

**Follow-up 2:** ุงฺฏุฑ ุชูุงู ูุดุฏู ุงุฏุงูู ุจุฏู

### Response

ูุญุชูุง ุงุตู (LaTeX ู Markdown+Mermaid) ฺฉุงูู ุดุฏู ุจูุฏ. ุงูุง ุดูุง ุฏุฑ ุฏุฑุฎูุงุณุช ุงููู ุงุฒ ูุฑูุชโูุง **HTML** ู **DOCX** ู **PDF** ูู ูุงู ุจุฑุฏุฏ. ุจูุงุจุฑุงู ูุงูโูุง ุชฺฉูู ุฒุฑ ุฑุง ุงุถุงูู ูโฺฉูู:

---

## ต. ูุงู HTML ููููู (ุฌุงูุน โ ูุงุฑุณ/ุงูฺฏูุณ)

```html
# [Code extracted to: code_block_003.html]
# See: output\formatForge_20260215_164352\code_blocks\code_block_003.html
```html
        ู ูุชูู ุจูฺฉู ุฑูุฒูุงูู ู ูุฌูู ุฏุฑ ุณุชูู ู ุณุทุฑุขูฺูุงู ฺฉู
        ูุงุฒู ุงุณุช ู ุจุฑุง ุดุฑุงุท ูุนู ุชฺฉููููฺ ููุฑุฏ ูุงุฒ ู
        ฺฉุงุฑุจุฑุฏูุง ูุชููุน ุจุง ูุฏู ุจูุจูุฏ ุงุจุฒุงุฑูุง ฺฉุงุฑุจุฑุฏ ูโุจุงุดุฏ.
        ฺฉุชุงุจโูุง ุฒุงุฏ ุฏุฑ ุดุตุช ู ุณู ุฏุฑุตุฏ ฺฏุฐุดุชูุ ุญุงู ู ุขูุฏู
        ุดูุงุฎุช ูุฑุงูุงู ุฌุงูุนู ู ูุชุฎุตุตุงู ุฑุง ูโุทูุจุฏ.
      </p>
      <div style="clear:both;"></div>

      <h3>ด.ณ ุชุตูุฑ ุจุง ููฺฉ</h3>
      <figure>
        <a href="https://en.wikipedia.org/wiki/Mathematical_logic" target="_blank" rel="noopener">
          <img
            src="https://via.placeholder.com/500x200/FB8C00/FFFFFF?text=Click+to+visit+Wikipedia"
            alt="ููฺฉ ุจู ูฺฉโูพุฏุง โ ููุทู ุฑุงุถ"
            loading="lazy"
            width="500"
            height="200"
          >
        </a>
        <figcaption>ุดฺฉู ณ โ ฺฉูฺฉ ฺฉูุฏ ุชุง ุจู ูฺฉโูพุฏุง ุจุฑูุฏ</figcaption>
      </figure>

      <h3>ด.ด ุชุตุงูุฑ ฺฉูุงุฑ ูู (Gallery)</h3>
      <div style="display:flex; gap:1rem; flex-wrap:wrap; justify-content:center; margin:1.5rem 0;">
        <figure style="flex:1; min-width:200px; max-width:45%;">
          <img
            src="https://via.placeholder.com/300x200/1A73E8/FFFFFF?text=Subfig+1"
            alt="ุฒุฑุดฺฉู ฑ"
            loading="lazy"
            style="width:100%; border-radius:8px;"
          >
          <figcaption>(ุงูู) ุชุงุจุน ูุฑุง</figcaption>
        </figure>
        <figure style="flex:1; min-width:200px; max-width:45%;">
          <img
            src="https://via.placeholder.com/300x200/00897B/FFFFFF?text=Subfig+2"
            alt="ุฒุฑุดฺฉู ฒ"
            loading="lazy"
            style="width:100%; border-radius:8px;"
          >
          <figcaption>(ุจ) ุชุงุจุน ุณฺฏููุฏ</figcaption>
        </figure>
      </div>

      <h3>ด.ต ูุฏุฆู (Embed)</h3>
      <figure>
        <div style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:8px;">
          <iframe
            src="https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ"
            title="ูุฏุฆู ููููู"
            style="position:absolute; top:0; right:0; width:100%; height:100%; border:none;"
            loading="lazy"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </div>
        <figcaption>ูุฏุฆู ฑ โ ูุฏุฆู ููููู (YouTube Embed)</figcaption>
      </figure>

      <h3>ด.ถ ุตูุช (Audio)</h3>
      <figure>
        <audio controls preload="none" style="width:100%;">
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
          ูุฑูุฑฺฏุฑ ุดูุง ุงุฒ ุนูุตุฑ audio ูพุดุชุจุงู ููโฺฉูุฏ.
        </audio>
        <figcaption>ุตูุช ฑ โ ูุงู ุตูุช ููููู</figcaption>
      </figure>

      <h3>ด.ท SVG ุฏุฑููโุฎุท</h3>
      <figure>
        <svg width="400" height="150" viewBox="0 0 400 150"
             xmlns="http://www.w3.org/2000/svg"
             style="display:block; margin:0 auto;">
          <!-- ูพุณโุฒููู -->
          <rect width="400" height="150" rx="10" fill="#E3F2FD"/>

          <!-- ุฏุงุฑูโูุง โ ูููุฏุงุฑ ูู -->
          <circle cx="150" cy="75" r="55" fill="#1A73E8" fill-opacity="0.4"
                  stroke="#1A73E8" stroke-width="2"/>
          <circle cx="230" cy="75" r="55" fill="#00897B" fill-opacity="0.4"
                  stroke="#00897B" stroke-width="2"/>

          <!-- ุจุฑฺุณุจโูุง -->
          <text x="120" y="78" text-anchor="middle"
                font-family="Vazirmatn, sans-serif"
                font-size="14" fill="#0D47A1" font-weight="bold">P</text>
          <text x="260" y="78" text-anchor="middle"
                font-family="Vazirmatn, sans-serif"
                font-size="14" fill="#004D40" font-weight="bold">Q</text>
          <text x="190" y="78" text-anchor="middle"
                font-family="Vazirmatn, sans-serif"
                font-size="12" fill="#333">PโงQ</text>

          <!-- ุนููุงู -->
          <text x="200" y="20" text-anchor="middle"
                font-family="Vazirmatn, sans-serif"
                font-size="13" fill="#616161">ูููุฏุงุฑ ูู โ ุงุดุชุฑุงฺฉ ุฏู ูุฌููุนู</text>
        </svg>
        <figcaption>ุดฺฉู ด โ ูููุฏุงุฑ ูู SVG ุฏุฑููโุฎุท</figcaption>
      </figure>
    </section>

    <hr>

    <!-- ==========================================
         ูุตู ต: ฺฉุฏ ู ุงูฺฏูุฑุชู
    ========================================== -->
    <section id="chap5">
      <h2>ต. ฺฉุฏ ู ุงูฺฏูุฑุชู</h2>

      <h3>ต.ฑ ุจููฺฉ ฺฉุฏ Python</h3>
      <pre><code class="language-python">from itertools import product

def is_tautology(formula, variables):
    """Check if a propositional formula is a tautology."""
    for values in product([True, False], repeat=len(variables)):
        env = dict(zip(variables, values))
        if not formula(env):
            return False
    return True

# Example: p โจ ยฌp (Law of Excluded Middle)
result = is_tautology(
    lambda e: e['p'] or (not e['p']),
    ['p']
)
print(f"p โจ ยฌp is tautology: {result}")  # True</code></pre>

      <h3>ต.ฒ ุจููฺฉ ฺฉุฏ JavaScript</h3>
      <pre><code class="language-javascript">// De Morgan's Law verification
function verifyDeMorgan(p, q) {
  const left  = !(p && q);
  const right = (!p) || (!q);
  return left === right;
}

// Test all cases
for (const p of [true, false]) {
  for (const q of [true, false]) {
    console.log(`p=${p}, q=${q}: ${verifyDeMorgan(p, q)}`);
  }
}</code></pre>

      <h3>ต.ณ ุจููฺฉ ฺฉุฏ LaTeX</h3>
      <pre><code class="language-latex">\begin{theorem}{ูุงููู ุฏููุฑฺฏุงู}{demorgan}
  ุจุฑุง ูุฑ ุฏู ฺฏุฒุงุฑู $p$ ู $q$:
  \begin{align}
    \neg(p \land q) &amp;\equiv (\neg p) \lor (\neg q) \\
    \neg(p \lor q)  &amp;\equiv (\neg p) \land (\neg q)
  \end{align}
\end{theorem}</code></pre>

      <h3>ต.ด ุจููฺฉ ฺฉุฏ Bash</h3>
      <pre><code class="language-bash"># Compile LaTeX document
xelatex -interaction=nonstopmode document.tex
biber document
xelatex -interaction=nonstopmode document.tex
xelatex -interaction=nonstopmode document.tex

# Or with latexmk (recommended)
latexmk -xelatex document.tex</code></pre>

      <h3>ต.ต ุจููฺฉ ฺฉุฏ CSS</h3>
      <pre><code class="language-css">/* RTL Support for Persian Content */
html[dir="rtl"] {
  font-family: 'Vazirmatn', 'Tahoma', sans-serif;
  line-height: 1.8;
  text-align: right;
}

html[dir="rtl"] blockquote {
  border-right: 4px solid #1A73E8;
  border-left: none;
  padding-right: 16px;
}

/* Mermaid diagrams always LTR */
.mermaid {
  direction: ltr;
  text-align: center;
}</code></pre>

      <h3>ต.ถ ฺฉุฏ ุฏุฑููโุฎุท</h3>
      <p>
        ุงุฒ ุชุงุจุน <code>is_tautology()</code> ุจุฑุง ุจุฑุฑุณ ุชุงุชูููฺ
        ุงุณุชูุงุฏู ฺฉูุฏ. ุฎุฑูุฌ ุขู <code>True</code> ุง
        <code>False</code> ุงุณุช.
        ูุงู ุงุตู ุฏุฑ ูุณุฑ <code dir="ltr">src/logic/evaluator.py</code>
        ูุฑุงุฑ ุฏุงุฑุฏ.
      </p>

      <h3>ต.ท ุดุจูโฺฉุฏ ุงูฺฏูุฑุชู</h3>
      <div class="note box">
        <div class="box-title">ุงูฺฏูุฑุชู ฑ โ ุจุฑุฑุณ ุชุงุชูููฺ ุจุง ุดูุงุฑุด ฺฉุงูู</div>
        <pre style="background:transparent; border:none; padding:0; font-family:'Vazirmatn',sans-serif; direction:rtl; text-align:right;">
<strong>ูุฑูุฏ:</strong> ูุฑููู ฺฏุฒุงุฑูโุง ฯ ุจุง n ูุชุบุฑ
<strong>ุฎุฑูุฌ:</strong> ุขุง ฯ ุชุงุชูููฺ ุงุณุชุ

<strong>ุจุฑุง</strong> i ุงุฒ ฐ <strong>ุชุง</strong> 2โฟ โ 1 <strong>ุงูุฌุงู ุจุฏู:</strong>
    v โ ุชุฎุตุต ุงุฑุฒุด ูุชูุงุธุฑ ุจุง i
    <strong>ุงฺฏุฑ</strong> Eval(ฯ, v) = โฅ <strong>ุขูฺฏุงู:</strong>
        <strong>ุจุฑฺฏุฑุฏุงู</strong> ยซุฎุฑยป
<strong>ุจุฑฺฏุฑุฏุงู</strong> ยซุจููยป</pre>
      </div>
    </section>

    <hr>

    <!-- ==========================================
         ูุตู ถ: ุนูุงุตุฑ HTML ุฎุงุต
    ========================================== -->
    <section id="chap6">
      <h2>ถ. ุนูุงุตุฑ HTML ุฎุงุต</h2>

      <h3>ถ.ฑ ุจููฺฉ ุชุงุดู (Details / Summary)</h3>
      <details>
        <summary><strong>ุฌุฒุฆุงุช ุงุซุจุงุช ูุงููู ุฏููุฑฺฏุงู (ฺฉูฺฉ ฺฉูุฏ)</strong></summary>
        <p>
          ุงุซุจุงุช ุงุฒ ุทุฑู ุฌุฏูู ุงุฑุฒุด: ูุฑ ฺูุงุฑ ุญุงูุช ููฺฉู ุฑุง ุจุฑุฑุณ ูโฺฉูู.
        </p>
        $$\neg(p \land q) \equiv (\neg p) \lor (\neg q)$$
        <table>
          <tr><th>$p$</th><th>$q$</th><th>ฺูพ</th><th>ุฑุงุณุช</th><th>ุจุฑุงุจุฑุ</th></tr>
          <tr><td>T</td><td>T</td><td>F</td><td>F</td><td>โ</td></tr>
          <tr><td>T</td><td>F</td><td>T</td><td>T</td><td>โ</td></tr>
          <tr><td>F</td><td>T</td><td>T</td><td>T</td><td>โ</td></tr>
          <tr><td>F</td><td>F</td><td>T</td><td>T</td><td>โ</td></tr>
        </table>
        <p>ุชูุงู ุณุชููโูุง ุจุฑุงุจุฑูุฏ. โ</p>
      </details>

      <details>
        <summary><strong>๐ ููุงุจุน ุจุดุชุฑ</strong></summary>
        <ul>
          <li><a href="https://en.wikipedia.org/wiki/De_Morgan%27s_laws" target="_blank">ูฺฉโูพุฏุง โ ููุงูู ุฏููุฑฺฏุงู</a></li>
          <li><a href="https://plato.stanford.edu/entries/logic-classical/" target="_blank">Stanford Encyclopedia โ Classical Logic</a></li>
        </ul>
      </details>

      <h3>ถ.ฒ ูุงูุงุช ู ุนูุงูุชโฺฏุฐุงุฑ</h3>
      <p>
        ุงู ฺฉ <mark>ูุชู ูุงูุงุชโุดุฏู</mark> ุงุณุช.
        ุงู ฺฉ ูุชู <ins>ุงุถุงููโุดุฏู (inserted)</ins> ู
        ุงู ฺฉ ูุชู <del>ุญุฐูโุดุฏู (deleted)</del> ุงุณุช.
        ุงู ฺฉ <small>ูุชู ฺฉูฺฺฉ</small> ู
        ุงู <sup>ุจุงูุงููุดุช</sup> ู ุงู <sub>ุฒุฑููุดุช</sub> ุงุณุช.
      </p>

      <h3>ถ.ณ ฺฉุจูุฑุฏ ู ูุชุบุฑ</h3>
      <p>
        ุจุฑุง ููโูุงุตูู ุฏุฑ ููุฏูุฒ: <kbd>Shift</kbd> + <kbd>Space</kbd>
        <br>
        ุจุฑุง ฺฉุงููพุงู: <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>B</kbd>
        <br>
        ูุชุบุฑ ุฑุงุถ: <var>x</var> = <var>y</var> + <var>z</var>
      </p>

      <h3>ถ.ด ุขุฏุฑุณ ู ุฒูุงู</h3>
      <address>
        ููุณูุฏู: <a href="mailto:ali@example.com">ููุฏ ุณุงูู</a><br>
        ุฏุงูุดฺฏุงู ุชูุฑุงูุ ุฏุงูุดฺฉุฏู ุฑุงุถ<br>
        ุชูุฑุงูุ ุงุฑุงู
      </address>
      <p>
        ุชุงุฑุฎ ุงูุชุดุงุฑ:
        <time datetime="2025-07-13">ฒฒ ุชุฑ ฑดฐด</time>
        โ ุขุฎุฑู ูุฑุงุด:
        <time datetime="2025-07-13T15:30:00+03:30">ุณุงุนุช ฑต:ณฐ</time>
      </p>

      <h3>ถ.ต ููุงุฑ ูพุดุฑูุช (Progress)</h3>
      <p>
        ูพุดุฑูุช ูพุฑูฺู:
        <progress value="72" max="100" style="width:200px;">72%</progress>
        ทฒูช
      </p>
      <p>
        ุชฺฉูู ุชุณุชโูุง:
        <meter value="0.85" min="0" max="1" low="0.3" high="0.7" optimum="0.9"
               style="width:200px;">85%</meter>
        ธตูช
      </p>

      <h3>ถ.ถ ุฌุนุจูโูุง ูุดุฏุงุฑ (Admonitions)</h3>

      <div class="note box">
        <div class="box-title">๐ ูฺฉุชู</div>
        <p>ุฏุฑ MDX ูุนูููุงู ุงุฒ ฺฉุงููพูููุชโูุง ุณูุงุฑุด ุจุฑุง Admonition ุงุณุชูุงุฏู ูโุดูุฏ.</p>
      </div>

      <div class="warning box">
        <div class="box-title">โ ูุดุฏุงุฑ</div>
        <p>
          ูููุช ูุงุฑุณ ุฏุฑ ูููุฏุงุฑูุง Mermaid ููฺฉู ุงุณุช ุฏุฑ ุจุฑุฎ
          ูุฑูุฑฺฏุฑูุง ุจูโุฏุฑุณุช ููุงุด ุฏุงุฏู ูุดูุฏ.
        </p>
      </div>

      <div class="box" style="background:#FCE4EC; border-color:#C62828;">
        <div class="box-title" style="color:#C62828;">๐ซ ุงุญุชุงุท</div>
        <p>
          ูุจู ุงุฒ ุชุจุฏูุ ูุทูุฆู ุดูุฏ ฺฉู encoding ูุงู
          <code>UTF-8 with BOM</code> ุงุณุช.
        </p>
      </div>

      <div class="box" style="background:#E8F5E9; border-color:#2E7D32;">
        <div class="box-title" style="color:#2E7D32;">๐ก ุฑุงูููุง</div>
        <p>ุจุฑุง ุฑูุฏุฑ ุฑุงุถุงุช ุฏุฑ MDXุ ุงุฒ KaTeX ุง MathJax ุงุณุชูุงุฏู ฺฉูุฏ.</p>
      </div>

      <h3>ถ.ท ูุณุช ูุธุงู</h3>
      <ul style="list-style:none; padding-right:0.5em;">
        <li>โ๏ธ ููุดุชู ุชุนุงุฑู ูพุงู</li>
        <li>โ๏ธ ุงุซุจุงุช ูุถู ุฏููุฑฺฏุงู</li>
        <li>โฌ ุงุซุจุงุช ูุถู ุชูุงูุช ฺฏูุฏู</li>
        <li>โฌ ุจุงุฒุจู ููุง</li>
      </ul>

      <h3>ถ.ธ ูููโููู ุชู ุฏุฑ ุชู</h3>
      <blockquote>
        <p>ยซููุทู ุขุบุงุฒ ุฎุฑุฏ ุงุณุชุ ูู ูพุงุงู ุขู.ยป โ ุงุณูพุงฺฉ</p>
        <blockquote>
          <p>
            <strong>ูุถู ูุงุชูุงูุช ฺฏูุฏู:</strong>
            ุฏุฑ ูุฑ ุณุณุชู ุตูุฑ ุณุงุฒฺฏุงุฑ ฺฉู ุจูโุงูุฏุงุฒู ฺฉุงู ูู ุจุงุดุฏุ
            ฺฏุฒุงุฑูโูุง ูุฌูุฏ ุฏุงุฑูุฏ ฺฉู ูู ุงุซุจุงุชโูพุฐุฑูุฏ ู ูู ุงุจุทุงูโูพุฐุฑ.
          </p>
          <blockquote>
            <p>
              ุงู ูุถู ุฏุฑ ุณุงู ฑนณฑ ุชูุณุท <strong>ฺฉูุฑุช ฺฏูุฏู</strong>
              ููุชุดุฑ ุดุฏ.
              <sup><a href="#fn2" class="footnote-ref" id="fnref2">[ฒ]</a></sup>
            </p>
          </blockquote>
        </blockquote>
      </blockquote>

      <h3>ถ.น Ordered List ุจุง ุงููุงุน ูุฎุชูู</h3>

      <h4>ุนุฏุฏ</h4>
      <ol>
        <li>ุชุนุฑู ูุณุฆูู</li>
        <li>ูุฑููููโุณุงุฒ</li>
        <li>ุงุซุจุงุช</li>
      </ol>

      <h4>ุญุฑูู ูุงุชู</h4>
      <ol type="a">
        <li>ุฑูุด ูุณุชูู</li>
        <li>ุฑูุด ุจุฑูุงู ุฎูู</li>
        <li>ุฑูุด ุงุณุชูุฑุงุก</li>
      </ol>

      <h4>ุฑูู</h4>
      <ol type="i">
        <li>ููุฏูู</li>
        <li>ุจุฏูู ุงุตู</li>
        <li>ูุชุฌูโฺฏุฑ</li>
      </ol>

      <h3>ถ.ฑฐ ูุฑู (ุจุฑุง ุชุณุช ุชุจุฏู ุนูุตุฑ)</h3>
      <form onsubmit="return false;" style="background:var(--bg-light); padding:1rem; border-radius:8px; margin:1rem 0;">
        <fieldset style="border:1px solid var(--border-light); border-radius:8px; padding:1rem;">
          <legend style="font-weight:700; color:var(--primary); padding:0 0.5em;">
            ุจุฑุฑุณ ูุฑููู ููุทู
          </legend>

          <label for="formula-input" style="display:block; margin-bottom:0.3em; font-weight:600;">
            ูุฑููู:
          </label>
          <input
            type="text"
            id="formula-input"
            placeholder="ูุซุงู: p โง q โ p"
            dir="ltr"
            style="width:100%; padding:0.5rem; border:1px solid var(--border-light); border-radius:4px; font-family:monospace; margin-bottom:1rem;"
          >

          <label for="method-select" style="display:block; margin-bottom:0.3em; font-weight:600;">
            ุฑูุด ุงุซุจุงุช:
          </label>
          <select id="method-select"
                  style="width:100%; padding:0.5rem; border:1px solid var(--border-light); border-radius:4px; margin-bottom:1rem;">
            <option value="truth-table">ุฌุฏูู ุงุฑุฒุด</option>
            <option value="natural-deduction">ุงุณุชูุชุงุฌ ุทุจุน</option>
            <option value="tableau">ุชุงุจูู</option>
            <option value="resolution">ุฑุฒูููุดู</option>
          </select>

          <div style="margin-bottom:1rem;">
            <label style="font-weight:600;">ฺฏุฒููโูุง:</label><br>
            <label><input type="checkbox" checked> ููุงุด ุฌุฏูู ุงุฑุฒุด</label><br>
            <label><input type="checkbox"> ููุงุด ุฏุฑุฎุช ุงุซุจุงุช</label><br>
            <label><input type="checkbox"> ุฎุฑูุฌ LaTeX</label>
          </div>

          <div style="margin-bottom:1rem;">
            <label style="font-weight:600;">ุฎุฑูุฌ:</label><br>
            <label><input type="radio" name="output" value="html" checked> HTML</label>
            <label><input type="radio" name="output" value="pdf"> PDF</label>
            <label><input type="radio" name="output" value="mdx"> MDX</label>
          </div>

          <button type="submit"
                  style="background:var(--primary); color:white; border:none; padding:0.6rem 1.5rem; border-radius:6px; font-size:1em; cursor:pointer; font-family:inherit;">
            ๐งฎ ุจุฑุฑุณ ฺฉู
          </button>
        </fieldset>
      </form>
    </section>

    <hr>

    <!-- ==========================================
         ูุตู ท: ูุญุชูุง ุฏูุฒุจุงูู
    ========================================== -->
    <section id="chap7">
      <h2>ท. ูุญุชูุง ุฏูุฒุจุงูู</h2>

      <h3>ท.ฑ ูพุงุฑุงฺฏุฑุงู ุชุฑฺฉุจ ูุงุฑุณ-ุงูฺฏูุณ</h3>
      <p>
        ุฏุฑ ููุทู ุฑุงุถ (<span dir="ltr" lang="en">Mathematical Logic</span>)ุ
        ฺฉ <strong>ฺฏุฒุงุฑู</strong>
        (<span dir="ltr" lang="en">Proposition</span>)
        ุฌูููโุง ุฎุจุฑ ุงุณุช ฺฉู ุฏููุงู ฺฉ ุงุฒ ุฏู ุงุฑุฒุด
        <strong>ุฏุฑุณุช</strong>
        (<span dir="ltr" lang="en">True, $\top$</span>)
        ุง <strong>ูุงุฏุฑุณุช</strong>
        (<span dir="ltr" lang="en">False, $\bot$</span>)
        ุฑุง ุฏุงุฑุฏ. ุงู ููููู ูพุงูโุงโุชุฑู ูุงุญุฏ ุฏุฑ
        <strong>ููุทู ฺฏุฒุงุฑูโุง</strong>
        (<span dir="ltr" lang="en">Propositional Logic</span>) ุงุณุช.
      </p>

      <h3>ท.ฒ ุจููฺฉ ฺฉุงูู ุงูฺฏูุณ ุฏุฑูู ุณูุฏ ูุงุฑุณ</h3>
      <div dir="ltr" lang="en" class="ltr-block"
           style="background:#F5F5F5; padding:1.5rem; border-radius:8px; border-left:4px solid var(--primary); margin:1.5rem 0;">
        <h4 style="color:var(--primary); margin-top:0;">
          Definition (Tautology)
        </h4>
        <p>
          A compound proposition $\varphi$ is a <strong>tautology</strong>
          if and only if it evaluates to <strong>true</strong> under
          every possible truth assignment:
        </p>
        $$\models \varphi \iff \forall\, v : v(\varphi) = \top$$
        <p>
          <strong>Example:</strong> $p \lor \neg p$ is a tautology
          (Law of Excluded Middle).
        </p>
      </div>

      <h3>ท.ณ ุจููฺฉ ฺฉุงูู ุงูฺฏูุณ โ ุงุซุจุงุช</h3>
      <div dir="ltr" lang="en" class="ltr-block"
           style="background:#FFFDE7; padding:1.5rem; border-radius:8px; border-left:4px solid var(--accent-orange); margin:1.5rem 0;">
        <h4 style="color:var(--accent-orange); margin-top:0;">
          Proof (De Morgan's First Law)
        </h4>
        <p>We need to show: $\neg(p \land q) \equiv (\neg p) \lor (\neg q)$</p>
        <p><strong>Forward direction ($\Rightarrow$):</strong></p>
        <p>
          Assume $\neg(p \land q)$. For contradiction, suppose
          $\neg[(\neg p) \lor (\neg q)]$, i.e., $p \land q$.
          This contradicts our assumption.
        </p>
        <p><strong>Backward direction ($\Leftarrow$):</strong></p>
        <p>
          Assume $(\neg p) \lor (\neg q)$. If $p \land q$, then both
          $p$ and $q$ hold, contradicting $\neg p$ or $\neg q$. โ
        </p>
      </div>

      <h3>ท.ด ุฌุฏูู ุฏูุฒุจุงูู</h3>
      <table>
        <caption>ุฌุฏูู ด โ ูุงฺูโูุงูู ูุงุฑุณ-ุงูฺฏูุณ</caption>
        <thead>
          <tr>
            <th>ูุงุฑุณ</th>
            <th dir="ltr">English</th>
            <th>ููุงุฏ</th>
            <th>ุชูุถุญ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ฺฏุฒุงุฑู</td>
            <td dir="ltr">Proposition</td>
            <td>$p, q, r$</td>
            <td>ุฌููู ุฎุจุฑ ุจุง ุงุฑุฒุด ุฏุฑุณุช/ูุงุฏุฑุณุช</td>
          </tr>
          <tr>
            <td>ุชุงุชูููฺ</td>
            <td dir="ltr">Tautology</td>
            <td>$\top$</td>
            <td>ููุดู ุฏุฑุณุช</td>
          </tr>
          <tr>
            <td>ุชูุงูุถ</td>
            <td dir="ltr">Contradiction</td>
            <td>$\bot$</td>
            <td>ููุดู ูุงุฏุฑุณุช</td>
          </tr>
          <tr>
            <td>ุณูุฑ ุนููู</td>
            <td dir="ltr">Universal Quantifier</td>
            <td>$\forall$</td>
            <td>ุจุฑุง ููู</td>
          </tr>
          <tr>
            <td>ุณูุฑ ูุฌูุฏ</td>
            <td dir="ltr">Existential Quantifier</td>
            <td>$\exists$</td>
            <td>ูุฌูุฏ ุฏุงุฑุฏ</td>
          </tr>
        </tbody>
      </table>
    </section>

    <hr>

    <!-- ==========================================
         ูุตู ธ: ูุฑูููโูุง ูพุดุฑูุชู
    ========================================== -->
    <section id="chap8">
      <h2>ธ. ูุฑูููโูุง ูพุดุฑูุชู ุฑุงุถ</h2>

      <h3>ธ.ฑ ูุงุชุฑุณ</h3>
      $$
      A = \begin{pmatrix}
        a_{11} & a_{12} & \cdots & a_{1n} \\
        a_{21} & a_{22} & \cdots & a_{2n} \\
        \vdots & \vdots & \ddots & \vdots \\
        a_{m1} & a_{m2} & \cdots & a_{mn}
      \end{pmatrix}
      ,\qquad
      \vec{x} = \begin{pmatrix} x_1 \\ x_2 \\ \vdots \\ x_n \end{pmatrix}
      $$

      <h3>ธ.ฒ ูุฌููุน ู ุงูุชฺฏุฑุงู</h3>
      $$
      \sum_{k=0}^{\infty} \frac{x^k}{k!} = e^x
      ,\qquad
      \int_{-\infty}^{+\infty} e^{-x^2}\,dx = \sqrt{\pi}
      $$

      <h3>ธ.ณ ูุฑูููโูุง ูุฒฺฉ (ูุนุงุฏูุงุช ูุงฺฉุณูู)</h3>
      $$
      \begin{aligned}
        \nabla \cdot \mathbf{E} &= \frac{\rho}{\epsilon_0}
          &\quad& \text{(ูุงููู ฺฏุงูุณ)} \\
        \nabla \cdot \mathbf{B} &= 0
          &\quad& \text{(ูุจูุฏ ุชฺฉโูุทุจ ูุบูุงุทุณ)} \\
        \nabla \times \mathbf{E} &= -\frac{\partial \mathbf{B}}{\partial t}
          &\quad& \text{(ูุงููู ูุงุฑุงุฏู)} \\
        \nabla \times \mathbf{B} &= \mu_0 \mathbf{J}
          + \mu_0 \epsilon_0 \frac{\partial \mathbf{E}}{\partial t}
          &\quad& \text{(ูุงููู ุขููพุฑ-ูุงฺฉุณูู)}
      \end{aligned}
      $$

      <h3>ธ.ด ุญุงูุชโูุง (Cases)</h3>
      $$
      |x| = \begin{cases}
        x  & \text{ุงฺฏุฑ } x \geq 0 \\
        -x & \text{ุงฺฏุฑ } x < 0
      \end{cases}
      $$

      <h3>ธ.ต ุงุณุชูุฑุงุก ุฑุงุถ</h3>
      <p><strong>ูุถู:</strong> $\displaystyle\sum_{k=1}^{n} k = \frac{n(n+1)}{2}$</p>

      <p><strong>ูพุงู:</strong></p>
      $$\sum_{k=1}^{1} k = 1 = \frac{1 \cdot 2}{2} \;\checkmark$$

      <p><strong>ฺฏุงู ุงุณุชูุฑุงุก:</strong></p>
      $$
      \begin{aligned}
        \sum_{k=1}^{m+1} k
        &= \left(\sum_{k=1}^{m} k\right) + (m+1) \\
        &= \frac{m(m+1)}{2} + (m+1) \\
        &= \frac{(m+1)(m+2)}{2} \quad\blacksquare
      \end{aligned}
      $$

      <h3>ธ.ถ ุฒูุฌุฑู ุงุณุชุฏูุงู</h3>
      <div class="proof box">
        <div class="box-title">ุงุซุจุงุช: $\{p \to q,\; q \to r\} \vdash p \to r$</div>
        <table style="width:auto; margin:0;">
          <thead>
            <tr><th>ุฎุท</th><th>ูุฑููู</th><th>ุชูุฌู</th></tr>
          </thead>
          <tbody>
            <tr><td>ฑ</td><td>$p \to q$</td><td>ูุฑุถ</td></tr>
            <tr><td>ฒ</td><td>$q \to r$</td><td>ูุฑุถ</td></tr>
            <tr><td>ณ</td><td>$p$</td><td>ูุฑุถ (ุจุฑุง ูุนุฑู ุดุฑุท)</td></tr>
            <tr><td>ด</td><td>$q$</td><td>ุญุฐู ุดุฑุท: ฑุ ณ</td></tr>
            <tr><td>ต</td><td>$r$</td><td>ุญุฐู ุดุฑุท: ฒุ ด</td></tr>
            <tr><td>ถ</td><td>$p \to r$</td><td>ูุนุฑู ุดุฑุท: ณโต โ</td></tr>
          </tbody>
        </table>
      </div>

      <h3>ธ.ท ูุฑูููโูุง ูุธุฑู ูุฌููุนูโูุง</h3>
      $$
      \begin{aligned}
        A \cup B &= \{x \mid x \in A \lor x \in B\} \\
        A \cap B &= \{x \mid x \in A \land x \in B\} \\
        \mathcal{P}(A) &= \{S \mid S \subseteq A\} \\
        |A \cup B| &= |A| + |B| - |A \cap B|
      \end{aligned}
      $$

      <h3>ธ.ธ ุชุงุจุน ุฒุชุง ุฑูุงู</h3>
      $$
      \zeta(s) = \sum_{n=1}^{\infty} \frac{1}{n^s}
               = \prod_{p \text{ prime}} \frac{1}{1 - p^{-s}}
      \qquad (\operatorname{Re}(s) > 1)
      $$

      <h3>ธ.น ุชุนุฑู ุงูพุณููู-ุฏูุชุง ุญุฏ</h3>
      $$
      \lim_{x \to a} f(x) = L
      \;\;\Longleftrightarrow\;\;
      \forall \epsilon > 0\;\;
      \exists \delta > 0\;\;
      \forall x\;\;
      \Big(0 < |x - a| < \delta \implies |f(x) - L| < \epsilon\Big)
      $$

      <h3>ธ.ฑฐ ูุฑููู ุฏุฑููโุฎุท ูุงุฑุณ-ุงูฺฏูุณ</h3>
      <p>
        ูุทุงุจู <a href="#thm-demorgan">ูุถู ฑ.ฑ</a>ุ
        ุงฺฏุฑ $p$ ุจุงูฺฏุฑ ยซููุง ุจุงุฑุงู ุงุณุชยป ู $q$ ุจุงูฺฏุฑ
        ยซููุง ุณุฑุฏ ุงุณุชยป ุจุงุดุฏุ ุขูฺฏุงู
        $\neg(p \land q)$ ุนู ยซ<em>ููุง ุจุงุฑุงู ู ุณุฑุฏ ูุณุช</em>ยป
        ูุนุงุฏู ุงุณุช ุจุง
        $(\neg p) \lor (\neg q)$ ุนู
        ยซ<em>ููุง ุจุงุฑุงู ูุณุช <strong>ุง</strong> ุณุฑุฏ ูุณุช</em>ยป.
      </p>
    </section>

    <hr>

    <!-- ==========================================
         ูพุงููุดุชโูุง
    ========================================== -->
    <section id="chap-footnotes" class="footnotes">
      <h2>ูพุงููุดุชโูุง</h2>
      <ol>
        <li id="fn1">
          ุงุตู ุทุฑุฏ ุดู ุซุงูุซ
          (<span dir="ltr" lang="en">Law of Excluded Middle</span>)
          ุฏุฑ ููุทู ุดููุฏ
          (<span dir="ltr" lang="en">Intuitionistic Logic</span>)
          ูพุฐุฑูุชู ูุณุช. ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจู ููุงูู ฺฏูุฏู (ฑนณฑ) ูุฑุงุฌุนู ฺฉูุฏ.
          <a href="#fnref1" title="ุจุงุฒฺฏุดุช">โฉ</a>
        </li>
        <li id="fn2">
          Kurt Gรถdel,
          <cite>"รber formal unentscheidbare Sรคtze der Principia
          Mathematica und verwandter Systeme I"</cite>,
          <span dir="ltr" lang="en">Monatshefte fรผr Mathematik und Physik</span>,
          38: 173โ198, 1931.
          <a href="#fnref2" title="ุจุงุฒฺฏุดุช">โฉ</a>
        </li>
        <li id="fn3">
          ููโูุงุตูู
          (<span dir="ltr" lang="en">Zero-Width Non-Joiner, U+200C</span>)
          ฺฉุงุฑุงฺฉุชุฑ ูุงูุฑุฆ ุงุณุช ฺฉู ุฏุฑ ูุงุฑุณ ุจู ูพุดููุฏ/ูพุณููุฏ ู ุฑุดู
          ูุฑุงุฑ ูโฺฏุฑุฏ: ยซูโุฑููยปุ ยซฺฉุชุงุจโูุงยป.
          <a href="#fnref3" title="ุจุงุฒฺฏุดุช">โฉ</a>
        </li>
      </ol>
    </section>

    <hr>

    <!-- ==========================================
         ฺฉุชุงุจโูุงูู
    ========================================== -->
    <section id="chap-bib">
      <h2>๐ ฺฉุชุงุจโูุงูู</h2>
      <ol style="font-size:0.95em;">
        <li id="ref-knuth">
          <span dir="ltr" lang="en">
            Knuth, D. E. (1997).
            <cite>The Art of Computer Programming</cite>,
            Vol. 1, 3rd ed. Addison-Wesley.
          </span>
        </li>
        <li id="ref-godel">
          <span dir="ltr" lang="en">
            Gรถdel, K. (1931).
            <cite>"รber formal unentscheidbare Sรคtze der Principia
            Mathematica und verwandter Systeme I"</cite>.
            Monatshefte fรผr Mathematik und Physik, 38, 173โ198.
          </span>
        </li>
        <li id="ref-ebrahimi">
          ุงุจุฑุงููุ ูุญูุฏ (ฑณนน).
          <cite>ูุจุงู ููุทู ุฑุงุถ</cite>.
          ุงูุชุดุงุฑุงุช ุฏุงูุดฺฏุงู ุชูุฑุงู.
        </li>
        <li id="ref-mdn">
          <span dir="ltr" lang="en">
            MDN Web Docs (2024).
            <cite>"MathML"</cite>.
            <a href="https://developer.mozilla.org/en-US/docs/Web/MathML"
               target="_blank" rel="noopener">
              developer.mozilla.org
            </a>.
            Accessed: 2024-12-01.
          </span>
        </li>
        <li id="ref-vazirmatn">
          <span dir="ltr" lang="en">
            Rastikerdar, S. (2024).
            <cite>"Vazirmatn Font"</cite>.
            <a href="https://github.com/rastikerdar/vazirmatn"
               target="_blank" rel="noopener">
              github.com/rastikerdar/vazirmatn
            </a>.
          </span>
        </li>
      </ol>
    </section>

    <hr>

    <!-- ==========================================
         ูพุงุตูุญู
    ========================================== -->
    <footer>
      <p>
        โ๏ธ ููุณูุฏู: ููุฏ ุณุงูู
        &nbsp;|&nbsp;
        ๐ ุชุงุจุณุชุงู ฑดฐด โ Summer 2025
        &nbsp;|&nbsp;
        ๐ ูุฌูุฒ:
        <a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener">MIT</a>
      </p>
      <p>
        ๐ ูุฎุฒู:
        <a href="https://github.com/example/format-converter"
           target="_blank" rel="noopener" dir="ltr">
          github.com/example/format-converter
        </a>
      </p>
      <p style="margin-top:1rem; font-size:0.8em; color:#999;">
        ุงู ุณูุฏ ุตุฑูุงู ุฌูุช ุชุณุช ุชุจุฏู ูุฑูุช HTML โ MDX ุชูู ุดุฏู ุงุณุช.
      </p>
    </footer>

  </div><!-- /.container -->
</body>
</html>
```txt
# [Code extracted to: code_block_004.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_004.txt
```powershell
# ============================================================
#  create-docx.ps1
#  ุณุงุฎุช ูุงู DOCX ููููู ุงุฒ Markdown ุจุง pandoc
# ============================================================

$OutputDir = ".\test-files"
New-Item -ItemType Directory -Force -Path $OutputDir | Out-Null

$mdFile  = Join-Path $OutputDir "sample-mermaid.md"
$docxOut = Join-Path $OutputDir "sample-book.docx"

# ุจุฑุฑุณ ูุฌูุฏ pandoc
if (-not (Get-Command "pandoc" -ErrorAction SilentlyContinue)) {
    Write-Host @"
โ pandoc ุงูุช ูุดุฏ!
ูุตุจ ฺฉูุฏ:
  winget install JohnMacFarlane.Pandoc
  # ุง
  choco install pandoc

ุง ุงุฒ https://pandoc.org/installing.html ุฏุงูููุฏ ฺฉูุฏ.
"@ -ForegroundColor Red
    exit 1
}

# ุจุฑุฑุณ ูุฌูุฏ ูุงู MD
if (-not (Test-Path $mdFile)) {
    Write-Host "โ ูุงู $mdFile ุงูุช ูุดุฏ." -ForegroundColor Red
    Write-Host "ุงุจุชุฏุง ูุญุชูุง Markdown ุฑุง ุฏุฑ $mdFile ุฐุฎุฑู ฺฉูุฏ." -ForegroundColor Yellow
    exit 1
}

Write-Host "๐ ุชุจุฏู MD โ DOCX ุจุง pandoc..." -ForegroundColor Cyan

pandoc $mdFile `
    -o $docxOut `
    --from=markdown+tex_math_dollars+pipe_tables+task_lists+definition_lists+footnotes `
    --to=docx `
    --toc `
    --toc-depth=3 `
    --number-sections `
    --highlight-style=tango `
    --metadata title="ููููู ุฌุงูุน ูุงุฑฺฉโุฏุงูู ูุงุฑุณ" `
    --metadata author="ุชู ุชุณุช" `
    --metadata date="ุชุงุจุณุชุงู ฑดฐด" `
    --metadata lang="fa" `
    --metadata dir="rtl"

if ($LASTEXITCODE -eq 0) {
    Write-Host "โ ูุงู DOCX ุณุงุฎุชู ุดุฏ: $docxOut" -ForegroundColor Green

    # ููุงุด ุญุฌู
    $size = (Get-Item $docxOut).Length
    Write-Host "   ๐ฆ ุญุฌู: $([math]::Round($size/1KB, 1)) KB" -ForegroundColor Gray
} else {
    Write-Host "โ ุฎุทุง ุฏุฑ ุชุจุฏู." -ForegroundColor Red
}
```txt
# [Code extracted to: code_block_005.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_005.txt
```powershell
# ============================================================
#  create-docx-com.ps1
#  ุณุงุฎุช ูุงู DOCX ุจุง COM Object ูุงฺฉุฑูุณุงูุช ูุฑุฏ
#  ูุงุฒ: Microsoft Word ูุตุจโุดุฏู
# ============================================================

$OutputDir = ".\test-files"
New-Item -ItemType Directory -Force -Path $OutputDir | Out-Null
$docxPath = (Resolve-Path $OutputDir).Path + "\sample-book-com.docx"

try {
    $word = New-Object -ComObject Word.Application
    $word.Visible = $false
    $doc = $word.Documents.Add()

    # --- ุชูุธูุงุช RTL ---
    $doc.Content.ParagraphFormat.ReadingOrder = 0  # wdReadingOrderRtl
    $doc.Content.Font.Name = "B Nazanin"
    $doc.Content.Font.Size = 14

    # --- ุนููุงู ---
    $range = $doc.Content
    $range.InsertAfter("ูุจุงู ููุทู ุฑุงุถ ู ุงุซุจุงุชโูุง ุตูุฑ`n")
    $range.Paragraphs.Item(1).Style = "Heading 1"
    $range.InsertParagraphAfter()

    # --- ุฒุฑุนููุงู ---
    $range = $doc.Content
    $range.InsertAfter("Foundations of Mathematical Logic and Formal Proofs`n")
    $range.InsertParagraphAfter()

    # --- ูพุงุฑุงฺฏุฑุงู ---
    $range = $doc.Content
    $range.InsertAfter(
        "ุงู ุณูุฏ ุจูโุนููุงู ฺฉ ููููู ุฌุงูุน ุชุณุช ุทุฑุงุญ ุดุฏู " +
        "ู ุดุงูู ุชูุงู ุงุฌุฒุง ฺฉ ฺฉุชุงุจ ุญุฑููโุง ุฑุงุถโููุทู ุงุณุช.`n"
    )
    $range.InsertParagraphAfter()

    # --- ุชุนุฑู ---
    $range = $doc.Content
    $range.InsertAfter("ุชุนุฑู (ฺฏุฒุงุฑู):`n")
    $range.Paragraphs.Item($doc.Paragraphs.Count).Style = "Heading 2"
    $range.InsertParagraphAfter()

    $range = $doc.Content
    $range.InsertAfter(
        "ฺฏุฒุงุฑู ุฌูููโุง ุฎุจุฑ ุงุณุช ฺฉู ุฏููุงู ฺฉ ุงุฒ ุฏู " +
        "ุงุฑุฒุด ยซุฏุฑุณุชยป (True) ุง ยซูุงุฏุฑุณุชยป (False) ุฑุง ุฏุงุฑุฏ.`n"
    )
    $range.InsertParagraphAfter()

    # --- ูุถู ---
    $range = $doc.Content
    $range.InsertAfter("ูุถู (ุฏููุฑฺฏุงู):`n")
    $range.Paragraphs.Item($doc.Paragraphs.Count).Style = "Heading 2"
    $range.InsertParagraphAfter()

    $range = $doc.Content
    $range.InsertAfter("ยฌ(p โง q) โก (ยฌp) โจ (ยฌq)`n")
    $range.InsertParagraphAfter()

    # --- ุฌุฏูู ---
    $range = $doc.Content
    $range.InsertAfter("ุฌุฏูู ุงุฑุฒุด:`n")
    $range.Paragraphs.Item($doc.Paragraphs.Count).Style = "Heading 3"
    $range.InsertParagraphAfter()

    $tableRange = $doc.Content
    $tableRange.Collapse(0) # wdCollapseEnd
    $table = $doc.Tables.Add($tableRange, 5, 4) # 5 rows x 4 cols
    $table.Borders.Enable = $true
    $table.Style = "Table Grid"

    # ูุฏุฑ
    $table.Cell(1,1).Range.Text = "p"
    $table.Cell(1,2).Range.Text = "q"
    $table.Cell(1,3).Range.Text = "ยฌ(pโงq)"
    $table.Cell(1,4).Range.Text = "(ยฌp)โจ(ยฌq)"

    # ุฏุงุฏูโูุง
    $data = @(
        @("T","T","F","F"),
        @("T","F","T","T"),
        @("F","T","T","T"),
        @("F","F","T","T")
    )
    for ($i = 0; $i -lt 4; $i++) {
        for ($j = 0; $j -lt 4; $j++) {
            $table.Cell($i+2, $j+1).Range.Text = $data[$i][$j]
        }
    }

    # --- ุฐุฎุฑู ---
    $doc.SaveAs2($docxPath, 16) # wdFormatXMLDocument = 16
    Write-Host "โ ูุงู DOCX ุณุงุฎุชู ุดุฏ: $docxPath" -ForegroundColor Green

} catch {
    Write-Host "โ ุฎุทุง: $_" -ForegroundColor Red
} finally {
    if ($doc)  { $doc.Close($false) }
    if ($word) { $word.Quit() }
    [System.Runtime.InteropServices.Marshal]::ReleaseComObject($word) | Out-Null
}
```txt
# [Code extracted to: code_block_006.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_006.txt
```powershell
# ============================================================
#  create-pdf-from-latex.ps1
# ============================================================

$texFile = ".\test-files\sample-book.tex"
$outDir  = ".\test-files"

if (-not (Get-Command "xelatex" -ErrorAction SilentlyContinue)) {
    Write-Host "โ XeLaTeX ุงูุช ูุดุฏ! TeX Live ุง MiKTeX ูุตุจ ฺฉูุฏ." -ForegroundColor Red
    exit 1
}

Write-Host "๐ ฺฉุงููพุงู LaTeX โ PDF..." -ForegroundColor Cyan

Push-Location $outDir
xelatex -interaction=nonstopmode (Resolve-Path $texFile)

# ุงฺฏุฑ biber ูุตุจ ุงุณุช
if (Get-Command "biber" -ErrorAction SilentlyContinue) {
    biber "sample-book"
    xelatex -interaction=nonstopmode (Resolve-Path $texFile)
}

xelatex -interaction=nonstopmode (Resolve-Path $texFile)
Pop-Location

$pdfPath = Join-Path $outDir "sample-book.pdf"
if (Test-Path $pdfPath) {
    $size = (Get-Item $pdfPath).Length
    Write-Host "โ ูุงู PDF ุณุงุฎุชู ุดุฏ: $pdfPath" -ForegroundColor Green
    Write-Host "   ๐ฆ ุญุฌู: $([math]::Round($size/1KB, 1)) KB" -ForegroundColor Gray
} else {
    Write-Host "โ ูุงู PDF ุณุงุฎุชู ูุดุฏ. ูุงฺฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ." -ForegroundColor Red
}
```

### ุฑูุด ฒ: ุงุฒ HTML ุจุง pandoc/wkhtmltopdf

```powershell
# ============================================================
#  create-pdf-from-html.ps1
# ============================================================

$htmlFile = ".\test-files\sample-page.html"
$pdfOut   = ".\test-files\sample-page.pdf"

# ุฑูุด ุงูู: pandoc
pandoc $htmlFile -o $pdfOut `
    --pdf-engine=xelatex `
    --variable mainfont="Vazirmatn" `
    --variable mainfontoptions="Script=Arabic" `
    --variable geometry:margin=2.5cm

# ุฑูุด ุจ: wkhtmltopdf (ุงฺฏุฑ ูุตุจ ุจุงุดุฏ)
# wkhtmltopdf --encoding utf-8 --enable-local-file-access $htmlFile $pdfOut
```

---

## ธ. ุงุณฺฉุฑูพุช ุงุตู โ ุณุงุฎุช ุชูุงู ูุงูโูุง

```powershell
# ============================================================
#  create-all-test-files.ps1
#  ุงุณฺฉุฑูพุช ุงุตู: ุณุงุฎุช ุชูุงู ูุงูโูุง ุชุณุช
# ============================================================

param(
    [string]$OutputDir = ".\test-files",
    [switch]$SkipDocx,
    [switch]$SkipPdf
)

$ErrorActionPreference = "Stop"

Write-Host @"
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ๐งช ุณุงุฎุช ูุงูโูุง ุชุณุช ุชุจุฏู ูุฑูุช ุจู MDX      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ   ูุฑูุชโูุง: LaTeX, HTML, Markdown, DOCX, PDF     โ
โ   ุฒุจุงู: ูุงุฑุณ + ุงูฺฏูุณ                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
"@ -ForegroundColor Cyan

# --- ุณุงุฎุช ูพูุดู ---
New-Item -ItemType Directory -Force -Path $OutputDir | Out-Null
Write-Host "๐ ูพูุดู: $OutputDir" -ForegroundColor Gray

# --- ุชุงุจุน ุฐุฎุฑู UTF-8 BOM ---
function Save-Utf8Bom {
    param([string]$Path, [string]$Content)
    $utf8Bom = [System.Text.UTF8Encoding]::new($true)
    [System.IO.File]::WriteAllText(
        (Join-Path (Get-Location) $Path),
        $Content,
        $utf8Bom
    )
    $size = (Get-Item $Path).Length
    Write-Host "  โ $Path ($([math]::Round($size/1KB,1)) KB)" -ForegroundColor Green
}

# --- ุจุฑุฑุณ ุงุจุฒุงุฑูุง ---
Write-Host "`n๐ ุจุฑุฑุณ ุงุจุฒุงุฑูุง ูุตุจโุดุฏู:" -ForegroundColor Yellow
$tools = @{
    "xelatex" = "XeLaTeX (TeX Live / MiKTeX)"
    "biber"   = "Biber (bibliography)"
    "pandoc"  = "Pandoc (document converter)"
}
foreach ($tool in $tools.GetEnumerator()) {
    $found = Get-Command $tool.Key -ErrorAction SilentlyContinue
    $status = if ($found) { "โ" } else { "โ (ุงุฎุชุงุฑ)" }
    Write-Host "  $status $($tool.Value)" -ForegroundColor (
        if ($found) { "Green" } else { "Yellow" }
    )
}

# --- ุฑุงูููุง ---
Write-Host @"

๐ ูุฑุงุญู:
  1. ูุญุชูุง LaTeX ุฑุง ุงุฒ ฺุช ฺฉูพ ฺฉูุฏ โ $OutputDir\sample-book.tex
  2. ูุญุชูุง Markdown ุฑุง ฺฉูพ ฺฉูุฏ    โ $OutputDir\sample-mermaid.md
  3. ูุญุชูุง HTML ุฑุง ฺฉูพ ฺฉูุฏ        โ $OutputDir\sample-page.html
  4. ุงู ุงุณฺฉุฑูพุช ุฑุง ุงุฌุฑุง ฺฉูุฏ ุจุฑุง ุณุงุฎุช DOCX ู PDF

"@ -ForegroundColor White

# --- ูุงูโูุง placeholder ุจุง BOM ---
Write-Host "๐ ุณุงุฎุช ูุงูโูุง placeholder:" -ForegroundColor Yellow

$files = @{
    "$OutputDir\sample-book.tex" = @"
% ูุญุชูุง LaTeX ุฑุง ุงุฒ ฺุช ฺฉูพ ฺฉูุฏ
% Compiler: XeLaTeX | Encoding: UTF-8 BOM
\documentclass{book}
\usepackage{fontspec}
\usepackage{xepersian}
\settextfont{IRLotus}
\begin{document}
ูุญุชูุง ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ.
\end{document}
"@
    "$OutputDir\sample-mermaid.md" = @"
---
title: "ููููู ุชุณุช"
lang: "fa"
dir: "rtl"
---
# ูุญุชูุง ุฑุง ุงุฒ ฺุช ฺฉูพ ฺฉูุฏ
"@
    "$OutputDir\sample-page.html" = @"
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head><meta charset="UTF-8"><title>ููููู</title></head>
<body><h1>ูุญุชูุง ุฑุง ุงุฒ ฺุช ฺฉูพ ฺฉูุฏ</h1></body>
</html>
"@
}

foreach ($file in $files.GetEnumerator()) {
    Save-Utf8Bom -Path $file.Key -Content $file.Value
}

# --- ุจุฑุฑุณ encoding ---
Write-Host "`n๐ ุจุฑุฑุณ encoding:" -ForegroundColor Yellow
Get-ChildItem $OutputDir -File | ForEach-Object {
    $bytes = [System.IO.File]::ReadAllBytes($_.FullName)
    $hasBom = ($bytes.Length -ge 3 -and
               $bytes[0] -eq 0xEF -and
               $bytes[1] -eq 0xBB -and
               $bytes[2] -eq 0xBF)
    $icon = if ($hasBom) { "โ" } else { "โ๏ธ" }
    $enc  = if ($hasBom) { "UTF-8 BOM" } else { "No BOM" }
    Write-Host "  $icon $($_.Name): $enc" -ForegroundColor (
        if ($hasBom) { "Green" } else { "Yellow" }
    )
}

# --- DOCX (ุงุฎุชุงุฑ) ---
if (-not $SkipDocx) {
    Write-Host "`n๐ ุณุงุฎุช DOCX:" -ForegroundColor Yellow
    $mdFile = "$OutputDir\sample-mermaid.md"
    $docxOut = "$OutputDir\sample-book.docx"

    if (Get-Command "pandoc" -ErrorAction SilentlyContinue) {
        pandoc $mdFile -o $docxOut `
            --from=markdown+tex_math_dollars+pipe_tables+task_lists+footnotes `
            --to=docx --toc --number-sections `
            --metadata title="ููููู ุฌุงูุน" `
            --metadata lang="fa" 2>$null

        if (Test-Path $docxOut) {
            $size = (Get-Item $docxOut).Length
            Write-Host "  โ $docxOut ($([math]::Round($size/1KB,1)) KB)" -ForegroundColor Green
        }
    } else {
        Write-Host "  โญ pandoc ูุตุจ ูุณุช โ DOCX ุณุงุฎุชู ูุดุฏ" -ForegroundColor Yellow
    }
}

# --- PDF (ุงุฎุชุงุฑ) ---
if (-not $SkipPdf) {
    Write-Host "`n๐ ุณุงุฎุช PDF:" -ForegroundColor Yellow
    $texFile = "$OutputDir\sample-book.tex"
    $pdfOut  = "$OutputDir\sample-book.pdf"

    if (Get-Command "xelatex" -ErrorAction SilentlyContinue) {
        Push-Location $OutputDir
        xelatex -interaction=nonstopmode "sample-book.tex" 2>$null | Out-Null
        if (Get-Command "biber" -ErrorAction SilentlyContinue) {
            biber "sample-book" 2>$null | Out-Null
            xelatex -interaction=nonstopmode "sample-book.tex" 2>$null | Out-Null
        }
        xelatex -interaction=nonstopmode "sample-book.tex" 2>$null | Out-Null
        Pop-Location

        if (Test-Path $pdfOut) {
            $size = (Get-Item $pdfOut).Length
            Write-Host "  โ $pdfOut ($([math]::Round($size/1KB,1)) KB)" -ForegroundColor Green
        }
    } else {
        Write-Host "  โญ XeLaTeX ูุตุจ ูุณุช โ PDF ุณุงุฎุชู ูุดุฏ" -ForegroundColor Yellow
    }
}

# --- ุฎูุงุตู ููุง ---
Write-Host @"

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   โ ุชูุงู ุดุฏ!                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ   ูุงูโูุง:                                      โ
โ     ๐

<!-- POSSIBLE OVERLAP DETECTED (similarity: 85%) - REVIEW BELOW -->

ุงุฏุงูู ุงุณฺฉุฑูพุช ุงุตู ู ุณูพุณ ูุงูโูุง ุชฺฉูู:

```powershell
# [Code extracted to: code_block_009.ps1]
# See: output\formatForge_20260215_164352\code_blocks\code_block_009.ps1
```

---

## น. ูุงู RST (reStructuredText) ููููู โ ูุงุฑุณ

ุจุฑุง ูพูุดุด ฺฉุงููโุชุฑ ูุฑูุชโูุงุ ฺฉ ูุงู RST ูุฒ ุงุถุงูู ูโฺฉูู:

```rst
# [Code extracted to: code_block_010.rst]
# See: output\formatForge_20260215_164352\code_blocks\code_block_010.rst
```

---

## ฑฐ. ูุงู AsciiDoc ููููู โ ูุงุฑุณ

```asciidoc
# [Code extracted to: code_block_011.asciidoc]
# See: output\formatForge_20260215_164352\code_blocks\code_block_011.asciidoc
```

---

## ฑฑ. ุฌุฏูู ููุง ูพูุดุด ุชุณุช โ ุชูุงู ูุฑูุชโูุง

| ุนูุตุฑ | LaTeX | Markdown | HTML | RST | AsciiDoc |
|:-----|:-----:|:--------:|:----:|:---:|:--------:|
| **ุนูุงูู / ุณุฑูุตู** | โ | โ | โ | โ | โ |
| **Bold / Italic / Strike** | โ | โ | โ | โ | โ |
| **ูุณุช ูุฑุชุจ/ูุงูุฑุชุจ** | โ | โ | โ | โ | โ |
| **Task List** | โ | โ | โ | โ | โ |
| **Definition List** | โ | โ | โ | โ | โ |
| **ุฌุฏูู ุณุงุฏู** | โ | โ | โ | โ | โ |
| **ุฌุฏูู ุงุฏุบุงู (colspan/rowspan)** | โ | โ | โ | โ | โ |
| **ุฌุฏูู ุฑูฺฏ** | โ | โ | โ | โ | โ |
| **ุฌุฏูู ุทููุงู** | โ | โ | โ | โ | โ |
| **ุฌุฏูู ุงูู (landscape)** | โ | โ | โ | โ | โ |
| **ุชุตูุฑ ุณุงุฏู** | โ | โ | โ | โ | โ |
| **ุชุตูุฑ ฺฉูุงุฑ ูุชู** | โ | โ | โ | โ | โ |
| **ุฒุฑุดฺฉู** | โ | โ | โ | โ | โ |
| **ุชุตูุฑ ุจุง ููฺฉ** | โ | โ | โ | โ | โ |
| **SVG ุฏุฑููโุฎุท** | โ | โ | โ | โ | โ |
| **ูุฏุฆู (embed)** | โ | โ | โ | โ | โ |
| **ุตูุช (audio)** | โ | โ | โ | โ | โ |
| **ูููุฏุงุฑ Mermaid** | โ | โ (ฑธ ููุน) | โ (ธ ููุน) | โ | โ |
| **ูููุฏุงุฑ TikZ/pgfplots** | โ (ถ ููุน) | โ | โ | โ | โ |
| **ูุฑููู ุฏุฑููโุฎุท** | โ | โ | โ | โ | โ |
| **ูุฑููู ุจููฺฉ** | โ | โ | โ | โ | โ |
| **ูุงุชุฑุณ** | โ | โ | โ | โ | โ |
| **Cases** | โ | โ | โ | โ | โ |
| **ูุฑููู ฺูุฏุฎุท** | โ | โ | โ | โ | โ |
| **ูุถู/ุชุนุฑู/ุงุซุจุงุช** | โ | โ | โ | โ | โ |
| **ุงูฺฏูุฑุชู** | โ | โ | โ | โ | โ |
| **ฺฉุฏ (ฺูุฏ ุฒุจุงู)** | โ | โ | โ | โ | โ |
| **ฺฉุฏ ุฏุฑููโุฎุท** | โ | โ | โ | โ | โ |
| **ูพุงููุดุช** | โ | โ | โ | โ | โ |
| **ูพโููุดุช** | โ | โ | โ | โ | โ |
| **ููฺฉ ุฎุงุฑุฌ** | โ | โ | โ | โ | โ |
| **ุงุฑุฌุงุน ูุชูุงุทุน** | โ | โ | โ | โ | โ |
| **ฺฉุชุงุจโูุงูู** | โ | โ | โ | โ | โ |
| **ูููโููู** | โ | โ | โ | โ | โ |
| **ูููโููู ุชู ุฏุฑ ุชู** | โ | โ | โ | โ | โ |
| **Admonition / Callout** | โ | โ | โ | โ | โ |
| **ุจููฺฉ ุชุงุดู (details)** | โ | โ | โ | โ | โ |
| **HTML ุฏุฑูู ุณูุฏ** | โ | โ | โ | โ | โ |
| **Emoji** | โ | โ | โ | โ | โ |
| **ูุงูุงุช (mark)** | โ | โ | โ | โ | โ |
| **ฺฉุจูุฑุฏ (kbd)** | โ | โ | โ | โ | โ |
| **Abbreviation (abbr)** | โ | โ | โ | โ | โ |
| **Progress / Meter** | โ | โ | โ | โ | โ |
| **ูุฑู** | โ | โ | โ | โ | โ |
| **Address / Time** | โ | โ | โ | โ | โ |
| **Ins / Del / Sup / Sub** | โ | โ | โ | โ | โ |
| **ูุญุชูุง ุฏูุฒุจุงูู** | โ | โ | โ | โ | โ |
| **RTL** | โ | โ | โ | โ | โ |
| **ููโูุงุตูู** | โ | โ | โ | โ | โ |
| **ููุฑุณุช ูุทุงูุจ** | โ | โ | โ | โ | โ |
| **ููุฑุณุช ุงุดฺฉุงู/ุฌุฏุงูู** | โ | โ | โ | โ | โ |
| **Front Matter / Metadata** | โ | โ | โ | โ | โ |
| **ุฑูฺฏโุจูุฏ ูุฏุฑู** | โ | โ | โ | โ | โ |
| **ุณุฑุตูุญู/ูพุงุตูุญู** | โ | โ | โ | โ | โ |
| **Field List** | โ | โ | โ | โ | โ |
| **Sidebar** | โ | โ | โ | โ | โ |
| **Topic** | โ | โ | โ | โ | โ |
| **Epigraph** | โ | โ | โ | โ | โ |
| **Text Substitution** | โ | โ | โ | โ | โ |
| **Version Directives** | โ | โ | โ | โ | โ |
| **Button / Menu** | โ | โ | โ | โ | โ |

**ูุฌููุน ุนูุงุตุฑ ููุญุตุฑุจูโูุฑุฏ: ถฐ+**

---

## ฑฒ. ฺฺฉโูุณุช ููุง ุชุจุฏู (ููู ูุฑูุชโูุง โ MDX)

```markdown
# [Code extracted to: code_block_012.md]
# See: output\formatForge_20260215_164352\code_blocks\code_block_012.md
```

---

ุงู ูุฌููุนู ุงฺฉููู **ฺฉุงููุงู ุชูุงู** ุดุฏู ู ุดุงูู:

| ูุฑูุช | ูุงู | ูุถุนุช |
|:-----|:-----|:-----:|
| **LaTeX** | `sample-book.tex` | โ ฺฉุงูู |
| **Markdown + Mermaid** | `sample-mermaid.md` | โ ฺฉุงูู |
| **HTML** | `sample-page.html` | โ ฺฉุงูู |
| **RST** | `sample-page.rst` | โ ฺฉุงูู |
| **AsciiDoc** | `sample-page.adoc` | โ ฺฉุงูู |
| **DOCX** | ุงุณฺฉุฑูพุช ุณุงุฎุช (pandoc / COM) | โ ฺฉุงูู |
| **PDF** | ุงุณฺฉุฑูพุช ุณุงุฎุช (xelatex / pandoc) | โ ฺฉุงูู |
| **PowerShell** | `create-all-test-files.ps1` | โ ฺฉุงูู |
| **ฺฺฉโูุณุช ุชุณุช** | ถฐ+ ุนูุตุฑ | โ ฺฉุงูู |

### Overlap Report

*1 overlap(s) detected:*

- **Overlap 1:** 51 chars, similarity 85%, Flagged

---

## Conversation 2
*(3 segments merged)*
*Model: claude-opus-4-6*

### Request

ุญุงู ุจู ูู ฺฉ ูพุฑุงููพุช ุฎูุจ ู ฺฉุงูู ู ููุฑุงู ุจุง ุฌุฒุกุงุช ุจุฏู ฺฉู ุจุชูุงูู ุงุจุฒุงุฑ ุทุฑุงุญ ฺฉูู ุฏุฑ ููุฏูุฒ ุงู ูููููโูุง ู ุณุงุฑ ูุงูโูุง ุงุฒ ุงู ุฏุณุช ุฑุง ุจู ุฏุฑุณุช ุฏุฑ ฺฉ ุงุฒ ูุงูุจโูุง ูุงู ุชฺฉุ ุชุนุฏุงุฏ ูุงู ุชฺฉ ุฏุฑ ฺฉ ูพูุดูุ ูุงู ูุง ูพุฑุงฺฉูุฏู  ูุฑุชุจุท ุจุง ฺฉ ฺฉุชุงุจ ุฏุงุฎู ฺฉ ูพูุดูุ ุชุนุฏุงุฏ ูุงู ุฒูพ ุญุงู ุชฺฉ ูุงู ู ุง ูพูุดูโูุง ุจู ูู ูุฑุชุจุทุ ุชฺฉ ูุงู ุฒูพ (ุณูุฏ ุชฺฉ ูุงู ุง ุณูุฏ ฺูุฏ ูุงู ุฏุงุฎู ฺฉ ูพูุดู) ู ูุธุงุฑ ุขู ุฏุฑุงูุช ฺฉุฑุฏู ู ูพุฑุฏุงุฒุด ู ุชุณุช ู ุฎุฑูุฌ ุฏู ฺฉูุฏ. 
ูพุณ ฑ- ูุฑูุฏ ุฑุง ุงุณฺฉู ฺฉุฑุฏู ู ุดูุงุณุง ฺฉูุฏ. (ุชุงุฏ ุจฺฏุฑุฏ)
ฒ- ุงุทูุงุนุงุช frontmatter ู Metadata   ููุฑุฏ ูุงุฒ ุฑุง ุจฺฏุฑุฏ ูุง ุจุง  AI   ุชฺฉูู ฺฉูุฏ. ุจู ุฎุตูุต ุจุฑุง slug ู ูุงูโูุง ฺฉู ุฏุงุฑุง ูุงูโูุง ูุฑุชุจุท ู ุง ูุงุฒููุฏ ุฑุณุงููโูุง ูุฑุชุจุท (ุนฺฉุณ ู png , svg ู ...) ูุณุชูุฏ. 
ฒ.ต- ุชุณุช ุณุฑุน ุชุจุฏู ุฑุง ุงูุฌุงู ุฏุงุฏู ู ุงฺฏุฑ ูุงู ูุดฺฉู ุฏุงุฑุฏ ูพุดููุงุฏ ุงุตูุงุญ ุจุฏูุฏ. 
ณ- ุจู ุฏุฑุณุช ูููโ  ุงููุงุน ูุฑูุฏ ุฑุง ุจุง ุฏุฑ ุงุฎุชุงุฑ ูุฑุงุฑ ุฏุงุฏู ุงูุชุฎุงุจ ูุง ุจุฑุง ุชุจุฏู ุฏุฑุณุช ู ฺฉุงูู (ููุฑุงู ููุงุด ูพุดุฑูุช ฺฉุงุฑ ู ุฎุทุงูุง ุงุญุชูุงู ู ุชูุตูโูุง ุชุตุญุญ ู ุชุจุฏู ุฏุฑุณุช) ุจู ุฎุฑูุฌ ููุงุณุจ ุจุฑุง ูุจ ุณุงุช ูู MDX ุชุจุฏู ฺฉุฑุฏู ู ููู  ูุงูโูุง ู ุณูุฏูุง ูุฑุชุจุท ุฑุง ุจุง ุงุฑุชุจุงุท ู ูพููุฏ ุฏุงุฏู ุตุญุญ ููุง ฺฉูุฏ.
ด- ุชุณุช ุฎุฑูุฌ ู ุฏุฑุชุณ ุจูุฏู ุชุจุฏูโูุง ู ฺฉุงูู ุจูุฏู ูุงู ุฑุง ุงูุฌุงู ุฏูุฏ. 
ต- ุฎุฑูุฌ ุฑุง ุฏุฑ ูุญู ฺฉู ุชุนู ฺฉุฑุฏูโุงู ุง ุงูุชุฎุงุจ ฺฉูู ููุชูู ฺฉูุฏ. (ุจุง ุชูุงู ุงุฌุฒุง ู ุงุจุนุงุฏ ููุฑุฏ ูุงุฒ) 
ถ- ฺฏุฒุงุฑุด ููููุช ุฑุง ุฏุฑ ฺฉ ูุงู ูุฑฺฉุฒ ุญูุธ ู ูฺฏูุฏุงุฑ ฺฉูุฏ. 

ุง ุงฺฏุฑ ูพุดููุงุฏ ุจูุชุฑ ุฏุงุฑ ุจุฏู. ุงูุฏูุงุฑู ุงุฏู ุฑุง ุจู ุฎูุจ ุจฺฏุฑ. 
ุงู ูพุฑุงููพุช ุจุงุฏ ูููโ ุงุฌุฒุง ู ูุงุฒููุฏโูุง ุชุจุฏู ุฏุฑุณุช ู ุฌุงูุน ุฑุง ุฏุงุดุชู ุจุงุดุฏ ู ูฺฉุชูโูุง ูู ุจู ุฎุตูุต ุฏุฑ ุฎุตูุต ููุงุญุธุงุช ุฒุจุงู ูุงุฑุณ ู ูุชูู ุฏู ุฒุจุงูู ุฑุง ุฏุฑ ุงููุงุน ูุฑูุชโูุง ูุฑูุฏ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ. 
ููููู

### Response

# ูพุฑุงููพุช ุฌุงูุน ุทุฑุงุญ ุงุจุฒุงุฑ ุชุจุฏู ูุฑูุช ุจู MDX

---

## ูพุฑุงููพุช ุงุตู (Master Prompt)

```markdown
# [Code extracted to: code_block_013.md]
# See: output\formatForge_20260215_164352\code_blocks\code_block_013.md
```
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ
โ  STAGE 1    โโโโโถโ  STAGE 2    โโโโโถโ  STAGE 2.5  โโโโโถโ  STAGE 3     โ
โ  ุงุณฺฉู ู    โ    โ  ูุชุงุฏุชุง ู  โ    โ  ุชุณุช ุณุฑุน   โ    โ  ุชุจุฏู ุงุตู โ
โ  ุดูุงุณุง    โ    โ frontmatter โ    โ  ู ูพุดโุจุฑุฑุณ โ    โ  ุจู MDX      โ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโฌโโโโโโโโ
                                                                โ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ          โ
โ  STAGE 6    โโโโโโ  STAGE 5    โโโโโโ  STAGE 4     โโโโโโโโโโโโ
โ  ฺฏุฒุงุฑุด     โ    โ  ุงุณุชูุฑุงุฑ    โ    โ  ุชุณุช ฺฉูุช   โ
โ  ูุฑฺฉุฒ     โ    โ  ุฎุฑูุฌ      โ    โ  ุฎุฑูุฌ       โ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ
```

### ณ.ฒ ุณุงุฎุชุงุฑ ูุงฺููุงุฑ

```
formatforge/
โโโ cli/                      # ุฑุงุจุท ุฎุท ูุฑูุงู
โ   โโโ __main__.py
โ   โโโ commands/
โ   โ   โโโ scan.py           # ุฏุณุชูุฑ ุงุณฺฉู
โ   โ   โโโ convert.py        # ุฏุณุชูุฑ ุชุจุฏู
โ   โ   โโโ test.py           # ุฏุณุชูุฑ ุชุณุช
โ   โ   โโโ deploy.py         # ุฏุณุชูุฑ ุงุณุชูุฑุงุฑ
โ   โ   โโโ report.py         # ุฏุณุชูุฑ ฺฏุฒุงุฑุด
โ   โโโ interactive.py        # ุญุงูุช ุชุนุงูู
โ
โโโ core/                     # ูุณุชู ุงุตู
โ   โโโ scanner/              # ุงุณฺฉูุฑ ูุฑูุฏ
โ   โ   โโโ file_detector.py  # ุชุดุฎุต ููุน ูุงู
โ   โ   โโโ structure_analyzer.py  # ุชุญูู ุณุงุฎุชุงุฑ
โ   โ   โโโ archive_handler.py     # ูุฏุฑุช ZIP/RAR
โ   โ   โโโ encoding_detector.py   # ุชุดุฎุต encoding
โ   โ
โ   โโโ metadata/             # ูุฏุฑุช ูุชุงุฏุชุง
โ   โ   โโโ extractor.py      # ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง
โ   โ   โโโ schema.py         # ุดููุง ูุชุงุฏุชุง
โ   โ   โโโ slug_generator.py # ุชููุฏ slug
โ   โ   โโโ ai_completer.py   # ุชฺฉูู ุจุง AI
โ   โ   โโโ validator.py      # ุงุนุชุจุงุฑุณูุฌ
โ   โ
โ   โโโ converters/           # ุชุจุฏูโฺฏุฑูุง
โ   โ   โโโ base.py           # ฺฉูุงุณ ูพุงู
โ   โ   โโโ latex_to_mdx.py
โ   โ   โโโ html_to_mdx.py
โ   โ   โโโ md_to_mdx.py
โ   โ   โโโ docx_to_mdx.py
โ   โ   โโโ pdf_to_mdx.py
โ   โ   โโโ rst_to_mdx.py
โ   โ   โโโ asciidoc_to_mdx.py
โ   โ   โโโ epub_to_mdx.py
โ   โ   โโโ notebook_to_mdx.py
โ   โ
โ   โโโ processors/           # ูพุฑุฏุงุฒุดฺฏุฑูุง ุชุฎุตุต
โ   โ   โโโ math_processor.py       # ูุฑูููโูุง ุฑุงุถ
โ   โ   โโโ mermaid_processor.py    # ูููุฏุงุฑูุง Mermaid
โ   โ   โโโ tikz_processor.py      # ุชุจุฏู TikZ ุจู SVG/ุชุตูุฑ
โ   โ   โโโ code_processor.py      # ุจููฺฉโูุง ฺฉุฏ
โ   โ   โโโ table_processor.py     # ุฌุฏุงูู ูพฺุฏู
โ   โ   โโโ image_processor.py     # ุชุตุงูุฑ ู ุฑุณุงูู
โ   โ   โโโ link_processor.py      # ููฺฉโูุง ู ุงุฑุฌุงุนุงุช
โ   โ   โโโ bibliography_processor.py  # ฺฉุชุงุจโูุงูู
โ   โ   โโโ footnote_processor.py  # ูพุงููุดุช
โ   โ   โโโ rtl_processor.py       # ูพุฑุฏุงุฒุด RTL/ูุงุฑุณ
โ   โ
โ   โโโ persian/              # ูุงฺูู ุชุฎุตุต ูุงุฑุณ
โ   โ   โโโ zwnj_handler.py   # ูุฏุฑุช ููโูุงุตูู
โ   โ   โโโ bidi_handler.py   # ูุฏุฑุช ุฏูุฌูุช
โ   โ   โโโ numeral_handler.py # ุชุจุฏู ุงุนุฏุงุฏ ูุงโen
โ   โ   โโโ font_handler.py   # ูุฏุฑุช ูููุช
โ   โ   โโโ typography.py     # ููุงุนุฏ ุชุงูพูฺฏุฑุงู ูุงุฑุณ
โ   โ
โ   โโโ quality/              # ุชุณุช ฺฉูุช
โ   โ   โโโ structural_test.py    # ุชุณุช ุณุงุฎุชุงุฑ
โ   โ   โโโ math_test.py          # ุชุณุช ุฑุงุถ
โ   โ   โโโ visual_test.py        # ุชุณุช ุจุตุฑ
โ   โ   โโโ link_test.py          # ุชุณุช ููฺฉโูุง
โ   โ   โโโ encoding_test.py      # ุชุณุช encoding
โ   โ   โโโ rtl_test.py           # ุชุณุช RTL
โ   โ   โโโ completeness_test.py  # ุชุณุช ฺฉุงูู ุจูุฏู
โ   โ   โโโ render_test.py        # ุชุณุช ุฑูุฏุฑ (headless browser)
โ   โ
โ   โโโ deployer/             # ุงุณุชูุฑุงุฑ ุฎุฑูุฌ
โ       โโโ file_organizer.py # ุณุงุฒูุงูุฏู ูุงูโูุง
โ       โโโ asset_manager.py  # ูุฏุฑุช asset ูุง
โ       โโโ deployer.py       # ุงูุชูุงู ููุง
โ
โโโ ai/                       # ูุงฺูู ููุด ูุตููุน
โ   โโโ provider.py           # ุฑุงุจุท ุจุง API ูุง AI
โ   โโโ metadata_ai.py        # ุชฺฉูู ูุชุงุฏุชุง
โ   โโโ content_ai.py         # ุงุตูุงุญ ูุญุชูุง
โ   โโโ suggestion_ai.py      # ูพุดููุงุฏุงุช
โ
โโโ reports/                  # ฺฏุฒุงุฑุดโุฏู
โ   โโโ report_engine.py
โ   โโโ templates/
โ   โโโ central_log.py
โ
โโโ config/                   # ุชูุธูุงุช
โ   โโโ default_config.yaml
โ   โโโ user_config.yaml
โ   โโโ website_config.yaml
โ
โโโ templates/                # ูุงูุจโูุง MDX
โ   โโโ article.mdx.j2
โ   โโโ book_chapter.mdx.j2
โ   โโโ proof.mdx.j2
โ   โโโ components/
โ       โโโ Theorem.jsx
โ       โโโ Definition.jsx
โ       โโโ Proof.jsx
โ       โโโ Admonition.jsx
โ       โโโ MermaidDiagram.jsx
โ
โโโ tests/                    # ุชุณุชโูุง ูุงุญุฏ
    โโโ test_files/           # ูุงูโูุง ููููู ุชุณุช
    โโโ ...
```txt
# [Code extracted to: code_block_015.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_015.txt
```
ุจุฑุง ูุฑ ูุฑูุฏ (ูุณุฑุ ูุงูุ URL):
โ
โโ ุงฺฏุฑ ZIP/RAR/7Z/TAR.GZ ุงุณุช:
โ   โโ ุงุณุชุฎุฑุงุฌ ุจู ูพูุดู ูููุช
โ   โโ ุชุญูู ูุญุชูุง ุงุณุชุฎุฑุงุฌโุดุฏู (ุจุงุฒฺฏุดุช)
โ   โโ ุชุดุฎุต: ยซุชฺฉโุณูุฏยป ุง ยซฺูุฏุณูุฏยป ุง ยซูพุฑูฺูยป
โ
โโ ุงฺฏุฑ ูพูุดู ุงุณุช:
โ   โโ ุงุณฺฉู ุจุงุฒฺฏุดุช ุชูุงู ูุงูโูุง
โ   โโ ุฏุณุชูโุจูุฏ ุจุฑ ุงุณุงุณ ููุน:
โ   โ   โโ ุงุณูุงุฏ ุงุตู (.tex, .md, .html, .docx, .pdf, .rst, .adoc, .ipynb, .epub)
โ   โ   โโ ุฑุณุงููโูุง (.png, .jpg, .svg, .gif, .mp4, .mp3, .webp)
โ   โ   โโ ุณุจฺฉโูุง (.css, .sty, .cls)
โ   โ   โโ ูุชุงุฏุชุง (.bib, .json, .yaml, .toml)
โ   โ   โโ ุณุงุฑ
โ   โโ ุชุดุฎุต ุงุฑุชุจุงุท ุจู ูุงูโูุง:
โ   โ   โโ ุชุญูู \input, \include, \bibliography ุฏุฑ LaTeX
โ   โ   โโ ุชุญูู ููฺฉโูุง ู import ูุง ุฏุฑ MD/HTML
โ   โ   โโ ุชุญูู ุงุฑุฌุงุนุงุช ุชุตูุฑ (src, \includegraphics, ![])
โ   โ   โโ ุณุงุฎุช ฺฏุฑุงู ูุงุจุณุชฺฏ
โ   โโ ุชุนู ุณุงุฎุชุงุฑ: ยซููุงูุงุช ูุณุชููยป ุง ยซฺฉุชุงุจ ฺูุฏูุตูยป ุง ยซูุฌููุนู ูุฑุชุจุทยป
โ
โโ ุงฺฏุฑ ุชฺฉโูุงู ุงุณุช:
โ   โโ ุชุดุฎุต ูุฑูุช (ุจุฑ ุงุณุงุณ ูพุณููุฏ + ุชุญูู ูุญุชูุง + magic bytes)
โ   โโ ุชุดุฎุต encoding (UTF-8/UTF-8 BOM/UTF-16/Windows-1256/ISO-8859-6)
โ   โโ ุชุดุฎุต ุฒุจุงู (ูุงุฑุณ/ุงูฺฏูุณ/ุฏูุฒุจุงูู)
โ   โโ ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง ุณุฑุน
โ
โโ ุชููุฏ ยซฺฏุฒุงุฑุด ุงุณฺฉูยป (ScanReport)
```

#### ด.ฑ.ณ ุฎุฑูุฌ ูุฑุญูู ฑ: ScanReport

```yaml
# ูุซุงู ScanReport
scan_id: "scan_20250713_153042"
timestamp: "2025-07-13T15:30:42+03:30"
input_path: "C:/Users/ali/Documents/logic-book/"
input_type: "directory"     # file | directory | archive | url | clipboard
total_files: 23
structure: "multi_chapter_book"  # single_doc | independent_articles |
                                 # multi_chapter_book | related_collection

documents:
  - id: "doc_001"
    path: "main.tex"
    format: "latex"
    encoding: "utf-8-bom"
    language: "fa+en"        # fa | en | fa+en
    role: "main_entry"       # main_entry | chapter | appendix | standalone
    size_bytes: 45200
    estimated_pages: 12
    dependencies:
      - "chapter01.tex"
      - "chapter02.tex"
      - "references.bib"
    images_referenced:
      - "figures/diagram1.png"
      - "figures/proof-tree.svg"
    has_math: true
    has_code: true
    has_tables: true
    has_bibliography: true
    has_tikz: true

  - id: "doc_002"
    path: "chapter01.tex"
    format: "latex"
    encoding: "utf-8"        # โ ุจุฏูู BOM
    language: "fa+en"
    role: "chapter"
    parent: "doc_001"
    # ...

assets:
  - path: "figures/diagram1.png"
    type: "image/png"
    size_bytes: 125400
    referenced_by: ["doc_001", "doc_002"]
  - path: "figures/proof-tree.svg"
    type: "image/svg+xml"
    size_bytes: 8900
    referenced_by: ["doc_001"]
  - path: "references.bib"
    type: "bibliography"
    entries_count: 15

warnings:
  - level: "warning"
    file: "chapter01.tex"
    message: "ูุงู ุจุฏูู BOM ุงุณุช. ููฺฉู ุงุณุช ููโูุงุตููโูุง ุงุฒ ุฏุณุช ุจุฑููุฏ."
    suggestion: "ุชุจุฏู ุจู UTF-8 with BOM"
  - level: "info"
    file: "figures/old-diagram.png"
    message: "ุงู ุชุตูุฑ ุฏุฑ ูฺ ุณูุฏ ุงุฑุฌุงุน ุฏุงุฏู ูุดุฏู."
    suggestion: "ุญุฐู ุง ุจุฑุฑุณ"

confirmation_required: true
confirmation_prompt: |
  ๐ ุณุงุฎุชุงุฑ ุดูุงุณุงโุดุฏู:
  โโโโโโโโโโโโโโโโโโโโ
  ููุน: ฺฉุชุงุจ ฺูุฏูุตู (ฒ ูุตู + ููุฏูู + ฺฉุชุงุจโูุงูู)
  ูุฑูุช ุงุตู: LaTeX
  ุฒุจุงู: ูุงุฑุณ-ุงูฺฏูุณ
  ฒ ุชุตูุฑุ ฑ ูุงู ฺฉุชุงุจโูุงูู
  โ ฑ ูุดุฏุงุฑ encoding

  ุขุง ุงู ุชุดุฎุต ุตุญุญ ุงุณุชุ [ุจูู/ุฎุฑ/ูุฑุงุด]
```

#### ด.ฑ.ด ุชุนุงูู ุจุง ฺฉุงุฑุจุฑ (ุชุฃุฏ)

```
๐ ุงุณฺฉู ูุฑูุฏ: C:\Users\ali\Documents\logic-book\

๐ ูุชุฌู ุงุณฺฉู:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  ููุน ุณุงุฎุชุงุฑ:    ๐ ฺฉุชุงุจ ฺูุฏูุตู
  ูุฑูุช ุงุตู:     ๐ LaTeX
  ุฒุจุงู:          ๐ ูุงุฑุณ + ุงูฺฏูุณ
  encoding:      โ UTF-8 (ฑ ูุงู ุจุฏูู BOM โ)
  ูุงูโูุง:       ด ุณูุฏ + ฒ ุชุตูุฑ + ฑ ฺฉุชุงุจโูุงูู

  ๐ main.tex โโโโโโโโโโ ููุทู ูุฑูุฏ ุงุตู
    โโโ chapter01.tex โโ ูุตู ฑ: ููุฏูู ู ููุงูู
    โโโ chapter02.tex โโ ูุตู ฒ: ููุทู ฺฏุฒุงุฑูโุง
    โโโ references.bib โ ฺฉุชุงุจโูุงูู (ฑต ูุฑุฌุน)
    โโโ figures/
        โโโ diagram1.png  (122 KB)
        โโโ proof-tree.svg (9 KB)

  โ ูุดุฏุงุฑูุง:
    1. chapter01.tex: ุจุฏูู BOM โ ูพุดููุงุฏ: ุชุจุฏู encoding

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  [T] ุชุฃุฏ ู ุงุฏุงูู
  [E] ูุฑุงุด ุณุงุฎุชุงุฑ
  [F] ุงุตูุงุญ ุฎูุฏฺฉุงุฑ ูุดุฏุงุฑูุง
  [A] ุชุฃุฏ + ุงุตูุงุญ ุฎูุฏฺฉุงุฑ
  [Q] ูุบู

  ุงูุชุฎุงุจ ุดูุง: โ
```txt
# [Code extracted to: code_block_018.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_018.txt
```typescript
// ุดููุง ฺฉุงูู ูุชุงุฏุชุง ูุฑ ุณูุฏ
interface DocumentMetadata {
  // --- ุงุฌุจุงุฑ ---
  title: string;                    // ุนููุงู ูุงุฑุณ
  titleEn?: string;                 // ุนููุงู ุงูฺฏูุณ (ุงุฎุชุงุฑ)
  slug: string;                     // ูุณุฑ URL (ููุท ุญุฑูู ูุงุชูุ ุนุฏุฏุ ุฎุทโุชุฑู)
  date: string;                     // ุชุงุฑุฎ ุงูุชุดุงุฑ (ISO 8601)
  lang: "fa" | "en" | "fa-en";     // ุฒุจุงู ุงุตู
  dir: "rtl" | "ltr";              // ุฌูุช ุงุตู

  // --- ููุณูุฏู ---
  author: {
    name: string;
    nameEn?: string;
    email?: string;
    url?: string;
    affiliation?: string;
  };

  // --- ุฏุณุชูโุจูุฏ ---
  type: "article" | "book" | "chapter" | "proof" | "lecture-note" | "tutorial";
  tags: string[];                   // ุจุฑฺุณุจโูุง (ูุงุฑุณ)
  tagsEn?: string[];                // ุจุฑฺุณุจโูุง (ุงูฺฏูุณ)
  categories: string[];             // ุฏุณุชูโุจูุฏโูุง
  series?: {                        // ุงฺฏุฑ ุจุฎุด ุงุฒ ฺฉ ูุฌููุนู ุจุงุดุฏ
    name: string;
    order: number;
    total?: number;
  };

  // --- ูุญุชูุง ---
  description: string;              // ุฎูุงุตู (ูุงุฑุณุ ุญุฏุงฺฉุซุฑ ณฐฐ ฺฉุงุฑุงฺฉุชุฑ)
  descriptionEn?: string;           // ุฎูุงุตู ุงูฺฏูุณ
  abstract?: string;                // ฺฺฉุฏู ููุตู
  keywords: string[];               // ฺฉููุงุช ฺฉูุฏ
  toc: boolean;                     // ููุงุด ููุฑุณุช ูุทุงูุจ
  math: boolean;                    // ุขุง ุดุงูู ุฑุงุถ ุงุณุช
  mermaid: boolean;                 // ุขุง ุดุงูู ูููุฏุงุฑ Mermaid ุงุณุช
  codeHighlight: boolean;           // ุขุง ุดุงูู ฺฉุฏ ุงุณุช

  // --- ูุงูโูุง ---
  sourceFormat: string;             // ูุฑูุช ุงุตู (latex, html, md, ...)
  sourceFile: string;               // ูุงู ูุงู ุงุตู
  assets: {                         // ูุงูโูุง ูุงุจุณุชู
    images: string[];
    files: string[];
  };
  featuredImage?: string;           // ุชุตูุฑ ุดุงุฎุต

  // --- SEO ู ูุจ ---
  canonical?: string;               // URL ฺฉุงูููฺฉุงู
  noindex?: boolean;                // ุนุฏู ุงูุฏฺฉุณ
  ogImage?: string;                 // ุชุตูุฑ Open Graph

  // --- ุชุจุฏู ---
  convertedAt: string;              // ุฒูุงู ุชุจุฏู
  converterVersion: string;         // ูุณุฎู ุงุจุฒุงุฑ ุชุจุฏู
  qualityScore: number;             // ุงูุชุงุฒ ฺฉูุช (0-100)
  conversionNotes?: string[];       // ุงุฏุฏุงุดุชโูุง ุชุจุฏู
}
```

#### ด.ฒ.ฒ ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง ุงุฒ ูุฑูุชโูุง ูุฎุชูู

```
ูุฑูุช         โ  ููุงุจุน ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
LaTeX        โ  \title{}, \author{}, \date{}, \begin{abstract}
             โ  ูพฺฉุฌ hyperref: \hypersetup{pdftitle=...}
             โ  ฺฉุงููุชโูุง ุณุฑูุงู (% Title: ...)
             โ  ูุงู .bib ุจุฑุง ฺฉุชุงุจโูุงูู
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
HTML         โ  <title>, <meta name="...">, <meta property="og:...">
             โ  Open Graph tags, Schema.org, Dublin Core
             โ  <h1> ุงููู ุนููุงู
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
Markdown     โ  YAML frontmatter (---)
             โ  TOML frontmatter (+++)
             โ  ุงููู H1 (#)
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
DOCX         โ  Core Properties (title, author, subject, keywords)
             โ  Custom Properties
             โ  ุงููู ูพุงุฑุงฺฏุฑุงู ุจุง ุณุจฺฉ Heading 1
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
PDF          โ  PDF metadata (Title, Author, Subject, Keywords)
             โ  XMP metadata
             โ  ุงููู ุฎุท ุจุฒุฑฺฏ (ุนููุงู ุงุญุชูุงู)
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
RST          โ  ุนููุงู ุงุตู (overline + underline)
             โ  :field: ููุงุฏุฑ
             โ  .. meta:: directives
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
AsciiDoc     โ  = ุนููุงู ุณุทุญ ฐ
             โ  :attribute: ููุงุฏุฑ
โโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
Jupyter NB   โ  metadata.kernelspec, metadata.title
             โ  ุงููู ุณููู Markdown
```

#### ด.ฒ.ณ ุชููุฏ Slug

```python
# ููุงุนุฏ ุชููุฏ slug:
# 1. ุงฺฏุฑ ุนููุงู ุงูฺฏูุณ ูุฌูุฏ ุฏุงุฑุฏ โ ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉู
# 2. ุงฺฏุฑ ููุท ูุงุฑุณ ุงุณุช โ ุชุฑุฌูู AI ุง transliterate
# 3. slug ููุท ุดุงูู: [a-z0-9-]
# 4. ุญุฏุงฺฉุซุฑ ถฐ ฺฉุงุฑุงฺฉุชุฑ
# 5. ุจุฏูู ุฎุทโุชุฑู ุชฺฉุฑุงุฑ ุง ุงุจุชุฏุง/ุงูุชูุง
# 6. ฺฉุชุง ุจูุฏู ุฏุฑ ุณุงุช (ุจุฑุฑุณ ุจุง ฺฏุฒุงุฑุด ูุฑฺฉุฒ)

# ูุซุงูโูุง:
# "ูุงููู ุฏููุฑฺฏุงู" โ "de-morgans-laws"
# "ูุจุงู ููุทู ุฑุงุถ โ ูุตู ฑ" โ "foundations-mathematical-logic-ch1"
# "Proof of Completeness Theorem" โ "proof-completeness-theorem"

# ุจุฑุง ฺฉุชุงุจ ฺูุฏูุตู:
# series_slug/chapter_slug
# "logic-foundations/ch01-introduction"
# "logic-foundations/ch02-propositional-logic"
```

#### ด.ฒ.ด ุชฺฉูู ุจุง AI

```
ููุฏูุง ฺฉู AI ูโุชูุงูุฏ ุชฺฉูู ุง ูพุดููุงุฏ ุฏูุฏ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. description / descriptionEn
   โ ุฎูุงุตูโุณุงุฒ ุฎูุฏฺฉุงุฑ ูุญุชูุง

2. tags / tagsEn / keywords
   โ ุงุณุชุฎุฑุงุฌ ฺฉููุงุช ฺฉูุฏ ุงุฒ ูุญุชูุง

3. titleEn (ุงฺฏุฑ ุนููุงู ููุท ูุงุฑุณ ุจุงุดุฏ)
   โ ุชุฑุฌูู ุนููุงู

4. slug
   โ ุชููุฏ slug ููุงุณุจ ุงุฒ ุนููุงู

5. categories
   โ ุฏุณุชูโุจูุฏ ุฎูุฏฺฉุงุฑ ุจุฑ ุงุณุงุณ ูุญุชูุง

6. featuredImage description / alt text
   โ ุชูุตู ุชุตุงูุฑ

7. series detection
   โ ุชุดุฎุต ุงูฺฉู ุขุง ุณูุฏ ุจุฎุด ุงุฒ ฺฉ ูุฌููุนู ุงุณุช

APIโูุง ูพุดุชุจุงูโุดุฏู:
  - OpenAI GPT-4 / GPT-4o
  - Anthropic Claude
  - Google Gemini
  - Local LLM (Ollama / LM Studio)
  - ูฺโฺฉุฏุงู (ุชฺฉูู ุฏุณุช ุชูุณุท ฺฉุงุฑุจุฑ)
```

#### ด.ฒ.ต ุชุนุงูู ุจุง ฺฉุงุฑุจุฑ

```
๐ ูุชุงุฏุชุง ุงุณุชุฎุฑุงุฌโุดุฏู:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  ุนููุงู:     โ ูุจุงู ููุทู ุฑุงุถ ู ุงุซุจุงุชโูุง ุตูุฑ
  ุนููุงู EN:  ๐ค Foundations of Mathematical Logic and Formal Proofs
  slug:      ๐ค foundations-mathematical-logic-formal-proofs
  ููุณูุฏู:  โ ููุฏ ุณุงูู
  ุชุงุฑุฎ:    โ 2025-07-13
  ุฒุจุงู:     โ ูุงุฑุณ + ุงูฺฏูุณ (fa-en)
  ููุน:      ๐ค book (ฺฉุชุงุจ)
  ุฎูุงุตู:    ๐ค ยซุงู ฺฉุชุงุจ ุจู ุจุฑุฑุณ ูุจุงู ููุทู ุฑุงุถ...ยป (ฑดต ฺฉุงุฑุงฺฉุชุฑ)
  ุจุฑฺุณุจโูุง:  ๐ค [ููุทู, ุฑุงุถ, ุฏููุฑฺฏุงู, ุงุซุจุงุช, ฺฏุฒุงุฑูโุง]
  ุฑุงุถ:    โ ุจูู
  Mermaid:   โ ุฎุฑ
  ฺฉุฏ:       โ ุจูู

  โ = ุงุณุชุฎุฑุงุฌโุดุฏู ุงุฒ ุณูุฏ
  ๐ค = ูพุดููุงุฏ AI
  โ = ูุงุดูุงุฎุชู โ ูุงุฒ ุจู ูุฑูุฏ ุฏุณุช

  [C] ุชุฃุฏ ููู
  [E] ูุฑุงุด (ุดูุงุฑู ููุฏ)
  [R] ุจุงุฒุชููุฏ ูพุดููุงุฏุงุช AI
  [Q] ูุบู

  ุงูุชุฎุงุจ ุดูุง: โ
```txt
# [Code extracted to: code_block_023.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_023.txt
```
ุจุฑุฑุณโูุง ููุฑ (Fast Checks):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

[ุงูู] ุจุฑุฑุณ encoding:
  โ ุขุง UTF-8 ุงุณุชุ
  โ ุขุง BOM ุฏุงุฑุฏุ
  โ ุขุง ููโูุงุตููโูุง ุณุงูู ูุณุชูุฏุ (ุดูุงุฑุด ZWNJ)
  โ ุขุง ฺฉุงุฑุงฺฉุชุฑูุง ุนุฌุจ/ุดฺฉุณุชู ูุฌูุฏ ุฏุงุฑุฏุ

[ุจ] ุจุฑุฑุณ ุณุงุฎุชุงุฑ ูุงู:
  โ LaTeX: ุขุง \begin{document} ู \end{document} ูุฌูุฏ ุฏุงุฑุฏุ
  โ LaTeX: ุขุง ูพฺฉุฌโูุง ุชุนุงุฑุถ ูุฏุงุฑูุฏุ (ุจุฑุฑุณ ูุณุช ุชุนุงุฑุถุงุช ุดูุงุฎุชูโุดุฏู)
  โ LaTeX: ุขุง xepersian ุขุฎุฑู ูพฺฉุฌ ุงุณุชุ
  โ HTML: ุขุง well-formed ุงุณุชุ (ุชฺฏโูุง ุจุณุชูโูุดุฏู)
  โ Markdown: ุขุง frontmatter ูุนุชุจุฑ YAML/TOML ุงุณุชุ
  โ DOCX: ุขุง ูุงู corrupt ูุณุชุ
  โ PDF: ุขุง ูุงุจู ุฎูุงูุฏู/extractable ุงุณุชุ

[ุฌ] ุจุฑุฑุณ ูุงุจุณุชฺฏโูุง:
  โ ุขุง ุชูุงู ุชุตุงูุฑ ุงุฑุฌุงุนโุดุฏู ูุฌูุฏ ุฏุงุฑูุฏุ
  โ ุขุง ุชูุงู ูุงูโูุง include/input ูุฌูุฏ ุฏุงุฑูุฏุ
  โ ุขุง ูุงู .bib ูุฌูุฏ ุฏุงุฑุฏ (ุงฺฏุฑ ุงุฑุฌุงุน ุดุฏู)ุ
  โ ุขุง ูููุชโูุง ููุฑุฏ ูุงุฒ ูุตุจ ูุณุชูุฏุ (ุจุฑุง LaTeX)

[ุฏ] ุจุฑุฑุณ ูุญุชูุง:
  โ ุขุง ูุฑูููโูุง ุฑุงุถ syntax ุตุญุญ ุฏุงุฑูุฏุ
    โ ุชุณุช ุณุฑุน: parse ูุฑูููโูุง ุจุง KaTeX/regex
  โ ุขุง ุจููฺฉโูุง ฺฉุฏ syntax ุตุญุญ ุฏุงุฑูุฏุ
  โ ุขุง ุฌุฏุงูู ุณุงุฎุชุงุฑ ุตุญุญ ุฏุงุฑูุฏุ
  โ ุขุง ููฺฉโูุง ูุนุชุจุฑูุฏุ (format check, not HTTP check)

[ู] ุชุจุฏู ุขุฒูุงุด:
  โ ุชุจุฏู ฑฐูช ุงูู ุณูุฏ (ุง ุงููู ูุตู)
  โ ุจุฑุฑุณ ุฎุฑูุฌ ุขุฒูุงุด
  โ ุชุฎูู ุฒูุงู ุชุจุฏู ฺฉุงูู
  โ ุดูุงุณุง ุนูุงุตุฑ ูพฺุฏู/ูุดฺฉูโุณุงุฒ
```

#### ด.ฒ.ต.ฒ ฺฏุฒุงุฑุด ูพุดโุจุฑุฑุณ

```
โก ุชุณุช ุณุฑุน (Pre-flight Check):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

  โ Encoding: UTF-8 BOM
  โ ุณุงุฎุชุงุฑ: ูุนุชุจุฑ
  โ ูุงุจุณุชฺฏโูุง: ฒ/ฒ ุชุตูุฑ ููุฌูุฏุ ฑ/ฑ bib ููุฌูุฏ
  โ๏ธ ุฑุงุถ: ดฒ ูุฑููู ุดูุงุณุง ุดุฏ โ ฑ ูุฑููู ูุดฺฉูฺฉ:
     ุฎุท ฑตท: \begin{align} ุจุฏูู \end{align} ูุชูุงุธุฑ
     โ ูพุดููุงุฏ: ุจุฑุฑุณ ุฎุท ฑตท ูุงู chapter02.tex
  โ ุฌุฏุงูู: ต ุฌุฏูู โ ููู ูุนุชุจุฑ
  โ๏ธ TikZ: ณ ูููุฏุงุฑ TikZ ุดูุงุณุง ุดุฏ
     โ ุงู ูููุฏุงุฑูุง ุจู SVG/PNG ุชุจุฏู ุฎูุงููุฏ ุดุฏ
     โ ูุงุฒ ุจู ูุตุจ: xelatex + dvisvgm (ุงูุช ุดุฏ โ)
  โ ฺฉุฏ: ด ุจููฺฉ ฺฉุฏ โ ุฒุจุงูโูุง: Python(2), JS(1), LaTeX(1)
  โ ููฺฉ ุดฺฉุณุชู: figures/old-diagram.png ุฏุฑ ุฎุท ธน ุงุฑุฌุงุน ุดุฏู
     ุงูุง ูุงู ูุฌูุฏ ูุฏุงุฑุฏ.
     โ ูพุดููุงุฏ: ุญุฐู ุงุฑุฌุงุน ุง ุชูู ูุงู

  ๐ ุชุฎูู:
  โโโโโโโโโ
  ุฒูุงู ุชุจุฏู: ~ดต ุซุงูู
  ุญุฌู ุฎุฑูุฌ: ~ฑฒฐ KB (MDX) + ~ณตฐ KB (assets)
  ุงูุชุงุฒ ุขูุงุฏฺฏ: ธต/ฑฐฐ

  [P] ุงุฏุงูู ุจุง ุชุจุฏู ฺฉุงูู
  [F] ุงุตูุงุญ ุฎูุฏฺฉุงุฑ ูุดฺฉูุงุช ูุงุจูโุญู
  [I] ูุงุฏุฏูโฺฏุฑูุชู ูุดุฏุงุฑูุง ู ุงุฏุงูู
  [Q] ูุบู ู ุจุงุฒฺฏุดุช

  ุงูุชุฎุงุจ ุดูุง: โ
```txt
# [Code extracted to: code_block_025.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_025.txt
```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
LaTeX: $...$ / \(...\)          โ  $...$  (KaTeX inline)
LaTeX: $$...$$ / \[...\]       โ  $$...$$ (KaTeX display)
LaTeX: \begin{equation}        โ  $$...$$ ุจุง label
LaTeX: \begin{align}           โ  $$\begin{aligned}...$$
LaTeX: \begin{cases}           โ  $$\begin{cases}...$$
LaTeX: \begin{pmatrix}         โ  $$\begin{pmatrix}...$$
HTML: MathML                    โ  $...$ (ุชุจุฏู MathMLโLaTeX)
HTML: MathJax spans             โ  $...$
RST: :math:`...`               โ  $...$
RST: .. math::                 โ  $$...$$
AsciiDoc: stem:[...]           โ  $...$
AsciiDoc: [stem]++++           โ  $$...$$

โ ูฺฉุงุช ูุงุฑุณ:
- ูุชู ูุงุฑุณ ุฏุฑูู ูุฑููู: \text{ุงฺฏุฑ} โ ุญูุธ ุดูุฏ
- ุชุฑุชุจ RTL: ูุฑูููโูุง ููุดู LTR ุฑูุฏุฑ ูโุดููุฏ
- \label{} โ id ุจุฑุง ุงุฑุฌุงุน ูุชูุงุทุน
- \ref{} / \cref{} โ ููฺฉ ุฏุงุฎู MDX
```

##### ุจ) ูููุฏุงุฑูุง

```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
LaTeX TikZ                      โ  ฺฏุฒูู ฑ: ุชุจุฏู ุจู SVG (dvisvgm)
                                โ  ฺฏุฒูู ฒ: ุชุจุฏู ุจู PNG (ImageMagick)
                                โ  ฺฏุฒูู ณ: <MermaidDiagram> ุงฺฏุฑ ูุงุจู ุชุจุฏู
LaTeX pgfplots                  โ  ุชุจุฏู ุจู SVG/PNG
Markdown ```mermaid             โ  <MermaidDiagram chart={`...`} />
HTML <div class="mermaid">      โ  <MermaidDiagram chart={`...`} />
SVG ุฏุฑููโุฎุท                     โ  ูุงู .svg ุฌุฏุงฺฏุงูู + <Image>
                                โ  ุง ุญูุธ inline SVG
```

##### ุฌ) ุฌุฏุงูู

```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุณุงุฏู (ุจุฏูู ุงุฏุบุงู)               โ  Markdown pipe table
ุงุฏุบุงู (colspan/rowspan)        โ  <table> HTML ุฏุฑูู MDX
ุฑูฺฏ                           โ  <table> ุจุง className โ CSS
ุทููุงู (longtable)              โ  <div style="overflow-x:auto"><table>
ุงูู (sidewaystable)            โ  <div className="landscape-table">
tabularx                        โ  <table> ุจุง ุนุฑุถ ฑฐฐูช
CSV table                       โ  Markdown pipe table

โ ูฺฉุงุช ูุงุฑุณ:
- ุฌูุช ุฌุฏูู: direction: rtl
- ูุญุชูุง ุฑุงุถ ุฏุฑ ุณููู: ุญูุธ $...$
- header ูุงุฑุณ: text-align: right
- ุนููุงู ุฌุฏูู (caption): ุฒุฑ ุฌุฏูู (ุทุจู ุณูุช ูุงุฑุณ)
  ุง ุจุงูุง ุฌุฏูู (ุทุจู ุณูุช ุงูฺฏูุณ) โ ูุงุจู ุชูุธู
```

##### ุฏ) ุชุตุงูุฑ ู ุฑุณุงูู

```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
\includegraphics{path}          โ  <Image src="path" alt="..." />
![alt](path)                    โ  <Image src="path" alt="..." />
<img src="path">                โ  <Image src="path" alt="..." />
\begin{figure}...\caption       โ  <Figure> ฺฉุงููพูููุช
\begin{wrapfigure}              โ  <Figure float="right"> ุง CSS
\begin{subfigure}               โ  <FigureGrid> ฺฉุงููพูููุช
<video>/<iframe>                โ  <Video> / <Embed> ฺฉุงููพูููุช
<audio>                         โ  <Audio> ฺฉุงููพูููุช
SVG inline                      โ  ูุงู ูุฌุฒุง ุง inline

ูุณุฑุฏู:
- ุชุตุงูุฑ ฺฉูพ ูโุดููุฏ ุจู: assets/images/{slug}/
- ูุงูโฺฏุฐุงุฑ: {slug}-fig-{number}.{ext}
- ุจูููโุณุงุฒ: WebP/AVIF ุจุฑุง ุชุตุงูุฑ ุฑุณุชุฑ
- SVG: ุจูููโุณุงุฒ ุจุง SVGO
- alt text: ุงุฌุจุงุฑ (ุงุฒ caption ุง AI)
```

##### ู) ูุถู / ุชุนุฑู / ุงุซุจุงุช

```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
LaTeX: \begin{theorem}          โ  <Theorem id="..." title="...">
LaTeX: \begin{definition}       โ  <Definition id="..." title="...">
LaTeX: \begin{proof}            โ  <Proof for="...">
LaTeX: \begin{example}          โ  <Example id="..." title="...">
LaTeX: \begin{lemma}            โ  <Theorem type="lemma" ...>
LaTeX: \begin{corollary}        โ  <Theorem type="corollary" ...>
tcolorbox (custom)              โ  ฺฉุงููพูููุช ูุชูุงุธุฑ
Admonition (MD/RST/AsciiDoc)   โ  <Admonition type="note|warning|...">

MD: > [!NOTE]                   โ  <Admonition type="note">
MD: > [!WARNING]                โ  <Admonition type="warning">
MD: > [!TIP]                    โ  <Admonition type="tip">
```

##### ู) ฺฉุฏ

```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
LaTeX: \begin{lstlisting}       โ  ```python {title="...",lines=true}
LaTeX: \begin{minted}           โ  ```python {title="..."}
LaTeX: \begin{verbatim}         โ  ```text
MD: ```python                   โ  ```python
HTML: <pre><code>               โ  ```language
MD: `inline`                    โ  `inline`
LaTeX: \texttt{...}             โ  `...`
LaTeX: \verb|...|               โ  `...`

โ ุฌูุช: ุจููฺฉโูุง ฺฉุฏ ููุดู LTR
   direction: ltr; text-align: left; unicode-bidi: isolate;
```

##### ุฒ) ููฺฉโูุง ู ุงุฑุฌุงุนุงุช

```
ูุฑูุฏ                           โ  ุฎุฑูุฌ MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
\href{url}{text}                โ  [text](url)
\url{url}                       โ  [url](url)
\ref{label}                     โ  [ุดูุงุฑู](#label) ุง <InternalRef>
\cref{label}                    โ  <CrossRef id="label" />
\cite{key}                      โ  <Citation id="key" /> ุง [^cite-key]
\footnote{text}                 โ  [^fn-N] ... [^fn-N]: text
\endnote{text}                  โ  ุฌูุนโุขูุฑ ุฏุฑ ุงูุชูุง ุณูุฏ
[text](url)                     โ  [text](url) (ุญูุธ)
<a href="url">                  โ  [text](url)

โ ุงุฑุฌุงุนุงุช ุจู ูุตูโูุง:
  - \ref{ch2:thm:demorgan} โ
    [ูุถู ฑ.ฑ](/series-slug/ch02#thm-demorgan)
  - ููฺฉโูุง ูุณุจ ุจู ูุงูโูุง MDX
```

##### ุญ) ูพุงููุดุช ู ฺฉุชุงุจโูุงูู

```
ูพุงููุดุช:
โโโโโโ
LaTeX \footnote{text}     โ [^fn-1] ... [^fn-1]: text
LaTeX \LTRfootnote{text}  โ [^fn-1] ... [^fn-1]: text (LTR)
LaTeX \endnote{text}      โ ุฌูุนโุขูุฑ ุฏุฑ ุจุฎุด ยซูพโููุดุชโูุงยป
MD [^1]                   โ ุญูุธ
HTML <sup><a href="#fn">  โ [^fn-N]

ฺฉุชุงุจโูุงูู:
โโโโโโโโโ
LaTeX biblatex/bibtex     โ ุชุจุฏู .bib ุจู JSON
                          โ ุฑูุฏุฑ ุจุง <Bibliography> ฺฉุงููพูููุช
                          โ ุง ุชุจุฏู ุจู ูุณุช ูุฑุชุจ MD
APA/IEEE/... ุณุจฺฉ         โ ูุงุจู ุชูุธู
ุงุฑุฌุงุน \cite{key}         โ [ููุณูุฏู, ุณุงู] ุจุง ููฺฉ ุจู entry
```

##### ุท) ูุฏุฑุช RTL ู ูุงุฑุณ

```
ููุงุนุฏ ุญุงุช RTL/ูุงุฑุณ:
โโโโโโโโโโโโโโโโโโโโโโโ

1. ููโูุงุตูู (ZWNJ, U+200C):
   - ูุฑฺฏุฒ ุญุฐู ูุดูุฏ
   - ุฏุฑ ูุฑ ูุฑุญูู ุชุจุฏู ุจุฑุฑุณ ุดูุฏ
   - ุดูุงุฑุด ZWNJ ูุจู ู ุจุนุฏ ุชุจุฏู: ุจุงุฏ ุจุฑุงุจุฑ ุจุงุดุฏ
   - ุงฺฏุฑ ุงุฎุชูุงู > 0: ูุดุฏุงุฑ + ฺฏุฒุงุฑุด ูุญู ุญุฐู

2. ุฌูุชโุฏู:
   - ุจุฏูู ุงุตู: dir="rtl"
   - ุจููฺฉโูุง ฺฉุฏ: dir="ltr", unicode-bidi: isolate
   - ูุฑูููโูุง ุฑุงุถ: LTR (ุฎูุฏฺฉุงุฑ)
   - ูููุฏุงุฑูุง Mermaid: LTR container, RTL text labels
   - ุฌุฏุงูู: dir="rtl"
   - ุจููฺฉโูุง ุชูุงูโุงูฺฏูุณ: <div dir="ltr" lang="en">

3. ฺฏููู:
   - ูุงุฑุณ: ยซ...ยป  (U+00AB, U+00BB)
   - ูู "..." ุง '...'

4. ุงุนุฏุงุฏ:
   - ูุชู ูุงุฑุณ: ฐฑฒณดตถทธน (ุงุฎุชุงุฑ โ ูุงุจู ุชูุธู)
   - ฺฉุฏ/ุฑุงุถ: 0123456789 (ููุดู ูุงุชู)
   - ุชุงุฑุฎ ูุงุฑุณ: ฑดฐด/ฐด/ฒฒ

5. ุชุงูพูฺฏุฑุงู:
   - ูุงุตูู ูุจู ุงุฒ ยซ:ยป ู ยซุยป ู ยซ?ยป ู ยซ!ยป โ ุญุฐู (ุทุจู ุณูุช ูุงุฑุณ)
   - ูุงุตูู ุจุนุฏ ุงุฒ ยซ.ยป ู ยซ,ยป โ ุญูุธ
   - ูโ + ูุนู โ ููโูุงุตูู (ูู ูุงุตูู)
   - ยซูุงยป / ยซุงยป / ยซุชุฑยป / ยซุชุฑูยป โ ููโูุงุตูู

6. LaTeX ุฎุงุต:
   - \lr{...} โ <span dir="ltr">...</span>
   - \rl{...} โ <span dir="rtl">...</span>
   - \begin{latin} โ <div dir="ltr" lang="en">
   - \begin{persian} โ <div dir="rtl" lang="fa">
   - \LTRfootnote โ ูพุงููุดุช ุจุง dir="ltr"

7. Frontmatter:
   - lang: "fa"
   - dir: "rtl"
   - ููุดู ุญุงุถุฑ ุจุงุดูุฏ
```txt
# [Code extracted to: code_block_036.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_036.txt
```
ูพุฑุฏุงุฒุด ุชุฑุชุจ:
โโโโโโโโโโโโโโ

ฑ. ุชุญูู preamble:
   - ุงุณุชุฎุฑุงุฌ ูพฺฉุฌโูุง ู ุชูุธูุงุช
   - ุดูุงุณุง ูููุชโูุง
   - ุดูุงุณุง ูุญุทโูุง ุณูุงุฑุด (newtheorem, newtcbtheorem, etc.)
   - ุดูุงุณุง ุฏุณุชูุฑุงุช ุณูุงุฑุด (\newcommand)

ฒ. ุจุงุฒฺฏุดุง ูุงฺฉุฑููุง:
   - \newcommand โ ุจุงุฒููุณ inline
   - \input{file} โ ุงุฏุบุงู ูุงู
   - \include{file} โ ุงุฏุบุงู ูุงู

ณ. ุชุจุฏู ุณุงุฎุชุงุฑ:
   - \chapter โ # (H1)
   - \section โ ## (H2)
   - \subsection โ ### (H3)
   - \subsubsection โ #### (H4)
   - \paragraph โ ##### (H5)

ด. ุชุจุฏู ูุงูุจโุจูุฏ:
   - \textbf{} โ **...**
   - \emph{} / \textit{} โ *...*
   - \underline{} โ <u>...</u>
   - \sout{} โ ~~...~~
   - \texttt{} โ `...`
   - \textsc{} โ <span style="font-variant:small-caps">
   - \footnotesize / \small โ <small>

ต. ุชุจุฏู ูุญุทโูุง:
   - itemize โ - ูุณุช
   - enumerate โ 1. ูุณุช
   - description โ Definition List
   - figure โ <Figure>
   - table โ <table> ุง pipe table
   - equation/align/gather โ $$...$$
   - theorem/definition/proof โ ฺฉุงููพูููุชโูุง
   - lstlisting/minted โ ```code```txt
# [Code extracted to: code_block_037.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_037.txt
```

##### HTML โ MDX

```txt
# [Code extracted to: code_block_038.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_038.txt
```code```txt
# [Code extracted to: code_block_039.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_039.txt
```

##### Markdown โ MDX

```
ูพุฑุฏุงุฒุด ุชุฑุชุจ:
โโโโโโ

ุงุฏุงูู ูพุฑุงููพุช ุฌุงูุน:

```markdown
##### Markdown โ MDX (ุงุฏุงูู)

```txt
# [Code extracted to: code_block_041.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_041.txt
```mermaid โ <MermaidDiagram chart={`...`} />
   - ![alt](src) โ <Image src={src} alt={alt} />  (ุงุฎุชุงุฑ)
   - > [!NOTE] โ <Admonition type="note">
   - > [!WARNING] โ <Admonition type="warning">
   - > [!TIP] โ <Admonition type="tip">
   - > [!CAUTION] โ <Admonition type="caution">
   - > [!IMPORTANT] โ <Admonition type="important">
   - <details> โ <Details> ุง <Collapsible>

ด. ุงุถุงูู ฺฉุฑุฏู import ูุง:
   - ุจุฑุฑุณ ฺฉุงููพูููุชโูุง ุงุณุชูุงุฏูโุดุฏู
   - ุงุถุงูู ฺฉุฑุฏู import ุฎูุฏฺฉุงุฑ ุฏุฑ ุจุงูุง ูุงู:
     import Theorem from '@/components/Theorem';
     import MermaidDiagram from '@/components/MermaidDiagram';
     ...

ต. ุจุฑุฑุณ ุณุงุฒฺฏุงุฑ JSX:
   - class โ className
   - for โ htmlFor
   - style="..." โ style={{...}}
   - <!-- comment --> โ {/* comment */}
   - ุฎูุฏ-ุจุณุชูโุดููุฏู: <br> โ <br />
   - <img> โ <img /> ุง <Image />

ถ. ุญูุธ HTML ุฏุฑูู MD:
   - HTML ูุนุชุจุฑ โ ุญูุธ (MDX ุงุฒ HTML ูพุดุชุจุงู ูโฺฉูุฏ)
   - ุชุจุฏู ุจู JSX syntax ุฏุฑ ุตูุฑุช ูุงุฒ
```

##### DOCX โ MDX

```
ูพุฑุฏุงุฒุด ุชุฑุชุจ:
โโโโโโโโโโโโโโ

ฑ. ุงุณุชุฎุฑุงุฌ ูุญุชูุง:
   - ุงุณุชูุงุฏู ุงุฒ python-docx ุง pandoc
   - ุงุณุชุฎุฑุงุฌ Core Properties โ frontmatter
   - ุญูุธ ุณุงุฎุชุงุฑ Heading Levels

ฒ. ุชุจุฏู ุณุจฺฉโูุง:
   - Heading 1-6 โ # ุชุง ######
   - Normal โ ูพุงุฑุงฺฏุฑุงู
   - List Bullet โ - ูุณุช
   - List Number โ 1. ูุณุช
   - Quote โ > ูููโููู
   - Code โ ```code```txt
# [Code extracted to: code_block_043.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_043.txt
```

##### PDF โ MDX

```txt
# [Code extracted to: code_block_044.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_044.txt
```

##### RST โ MDX

```txt
# [Code extracted to: code_block_045.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_045.txt
```lang
   - .. math:: โ $$...$$
   - .. figure:: โ <Figure>
   - .. image:: โ <Image>
   - .. table:: โ <table>
   - .. csv-table:: โ pipe table
   - .. list-table:: โ pipe table
   - .. topic:: โ <Box>
   - .. sidebar:: โ <Sidebar>
   - .. epigraph:: โ <Blockquote>
   - .. pull-quote:: โ <Blockquote>
   - .. container:: class โ <div className="class">
   - .. raw:: html โ ุญูุธ HTML

ณ. ุชุจุฏู Roles:
   - :math:`...` โ $...$
   - :ref:`label` โ [text](#label)
   - :doc:`path` โ [text](path)
   - :download:`path` โ [text](path)
   - :abbr:`text (explanation)` โ <abbr title="explanation">text</abbr>
   - :kbd:`key` โ <kbd>key</kbd>

ด. ุชุจุฏู ูพุงููุดุช/ุงุฑุฌุงุน:
   - [#fn]_ โ [^fn]
   - [label]_ โ [text](#label) ุง [text](url)
   - .. [label] โ ุชุนุฑู ุงุฑุฌุงุน

ต. Field Lists:
   - :field: value โ ูุชุงุฏุชุง ุง definition list
```

##### AsciiDoc โ MDX

```
ูพุฑุฏุงุฒุด ุชุฑุชุจ:
โโโโโโโโโโโโโโ

ฑ. ุชุญูู Header:
   - = Title โ # (H1)
   - :attribute: โ frontmatter
   - Author line โ author metadata

ฒ. ุชุจุฏู ุณุงุฎุชุงุฑ:
   - == Section โ ## (H2)
   - === Subsection โ ### (H3)
   - .Title โ ุนููุงู ุจููฺฉ
   - [options] โ ุชูุธูุงุช ุจููฺฉ

ณ. ุชุจุฏู ุจููฺฉโูุง:
   - [source,lang]---- โ ```lang
# [Code extracted to: code_block_047.lang]
# See: output\formatForge_20260215_164352\code_blocks\code_block_047.lang
```

##### EPUB โ MDX

```txt
# [Code extracted to: code_block_048.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_048.txt
```

##### Jupyter Notebook โ MDX

```txt
# [Code extracted to: code_block_049.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_049.txt
```python ... ```txt
# [Code extracted to: code_block_050.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_050.txt
```

#### ด.ณ.ณ ุณุงุฎุชุงุฑ ุฎุฑูุฌ MDX

```txt
# [Code extracted to: code_block_051.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_051.txt
```

```mdx
# [Code extracted to: code_block_052.mdx]
# See: output\formatForge_20260215_164352\code_blocks\code_block_052.mdx
```

#### ด.ณ.ด ููุงุด ูพุดุฑูุช ู ุฎุทุงูุง

```txt
# [Code extracted to: code_block_053.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_053.txt
```

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### STAGE 4: ุชุณุช ฺฉูุช ุฎุฑูุฌ
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

#### ด.ด.ฑ ุณุทูุญ ุชุณุช

```txt
# [Code extracted to: code_block_054.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_054.txt
```

#### ด.ด.ฒ ุงูุชุงุฒ ฺฉูุช (Quality Score)

```python
# [Code extracted to: code_block_055.py]
# See: output\formatForge_20260215_164352\code_blocks\code_block_055.py
```

#### ด.ด.ณ ฺฏุฒุงุฑุด ุชุณุช

```txt
# [Code extracted to: code_block_056.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_056.txt
```

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### STAGE 5: ุงุณุชูุฑุงุฑ ุฎุฑูุฌ
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

#### ด.ต.ฑ ุชูุธูุงุช ูุจโุณุงุช

```yaml
# [Code extracted to: code_block_057.yaml]
# See: output\formatForge_20260215_164352\code_blocks\code_block_057.yaml
```

#### ด.ต.ฒ ูุฑุขูุฏ ุงุณุชูุฑุงุฑ

```txt
# [Code extracted to: code_block_058.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_058.txt
```

---

### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
### STAGE 6: ฺฏุฒุงุฑุด ูุฑฺฉุฒ
### โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

#### ด.ถ.ฑ ุณุงุฎุชุงุฑ ฺฏุฒุงุฑุด ูุฑฺฉุฒ

```yaml
# [Code extracted to: code_block_059.yaml]
# See: output\formatForge_20260215_164352\code_blocks\code_block_059.yaml
```

#### ด.ถ.ฒ ููุงุด ฺฏุฒุงุฑุด

```txt
# [Code extracted to: code_block_060.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_060.txt
```

---

## ต. ูุงุจุณุชฺฏโูุง ู ุงุจุฒุงุฑูุง ุฎุงุฑุฌ

### ต.ฑ ูุงุจุณุชฺฏโูุง Python

```txt
# [Code extracted to: code_block_061.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_061.txt
```

### ต.ฒ ุงุจุฒุงุฑูุง ุฎุงุฑุฌ

```txt
# [Code extracted to: code_block_062.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_062.txt
```

---

## ถ. ุชูุธูุงุช ู ุณูุงุฑุดโุณุงุฒ

### ถ.ฑ ูุงู ุชูุธูุงุช ฺฉุงุฑุจุฑ

```yaml
# [Code extracted to: code_block_063.yaml]
# See: output\formatForge_20260215_164352\code_blocks\code_block_063.yaml
```

---

## ท. ุฏุณุชูุฑุงุช CLI

```bash
# [Code extracted to: code_block_064.sh]
# See: output\formatForge_20260215_164352\code_blocks\code_block_064.sh
```

---

## ธ. ูุฏุฑุช ุฎุทุง ู ุจุงุฒุงุจ

```txt
# [Code extracted to: code_block_065.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_065.txt
```

---

## น. ููุงุญุธุงุช ุนููฺฉุฑุฏ

```txt
# [Code extracted to: code_block_066.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_066.txt
```

---

## ฑฐ. ุชุณุชโูพุฐุฑ ู CI/CD

```python
# [Code extracted to: code_block_067.py]
# See: output\formatForge_20260215_164352\code_blocks\code_block_067.py
```markdown
# test_converter_latex.py (ุงุฏุงูู)

def test_tikz_to_svg():
    """ุชุจุฏู ูููุฏุงุฑ TikZ ุจู SVG"""

def test_bibliography_conversion():
    """ุชุจุฏู ฺฉุชุงุจโูุงูู biblatex ุจู JSON"""

def test_cross_references():
    """ุชุจุฏู ุงุฑุฌุงุนุงุช ูุชูุงุทุน \\ref ู \\cref"""

def test_footnotes_persian():
    """ุชุจุฏู ูพุงููุดุช ูุงุฑุณ ู LTRfootnote"""

def test_nested_environments():
    """ุชุจุฏู ูุญุทโูุง ุชูุฏุฑุชู (theorem ุฏุฑูู section)"""

def test_custom_commands():
    """ุจุงุฒฺฏุดุง \\newcommand ูุง ุณูุงุฑุด"""

def test_multi_chapter_book():
    """ุชุจุฏู ฺฉุชุงุจ ฺูุฏูุตู ุจุง \\input"""

def test_table_with_merged_cells():
    """ุชุจุฏู ุฌุฏูู ุจุง multirow/multicolumn"""

def test_wrapfigure():
    """ุชุจุฏู ุชุตูุฑ ฺฉูุงุฑ ูุชู"""

def test_algorithm2e():
    """ุชุจุฏู ูุญุท ุงูฺฏูุฑุชู"""

def test_color_boxes():
    """ุชุจุฏู tcolorbox ุจู Admonition"""

# test_converter_html.py
def test_html_meta_extraction():
    """ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง ุงุฒ ุชฺฏโูุง meta"""

def test_html_dir_preservation():
    """ุญูุธ dir=rtl ู dir=ltr"""

def test_html_math_katex():
    """ุชุจุฏู ูุฑูููโูุง KaTeX/MathJax ุงุฒ HTML"""

def test_html_table_colspan():
    """ุชุจุฏู ุฌุฏูู ุจุง colspan/rowspan"""

def test_html_form_elements():
    """ุชุจุฏู ุนูุงุตุฑ ูุฑู"""

def test_html_media_elements():
    """ุชุจุฏู video/audio/iframe"""

def test_html_svg_inline():
    """ุชุจุฏู SVG ุฏุฑููโุฎุท"""

def test_html_details_summary():
    """ุชุจุฏู details/summary"""

# test_converter_md.py
def test_md_frontmatter_yaml():
    """ุชุญูู frontmatter YAML"""

def test_md_mermaid_to_component():
    """ุชุจุฏู ุจููฺฉ mermaid ุจู MermaidDiagram"""

def test_md_callouts():
    """ุชุจุฏู > [!NOTE] ุจู Admonition"""

def test_md_task_list():
    """ุชุจุฏู task list"""

def test_md_definition_list():
    """ุชุจุฏู definition list"""

def test_md_footnotes():
    """ุชุจุฏู ูพุงููุดุชโูุง"""

def test_md_jsx_compatibility():
    """ุจุฑุฑุณ ุณุงุฒฺฏุงุฑ JSX (classโclassName, etc.)"""

# test_converter_docx.py
def test_docx_heading_levels():
    """ุชุจุฏู ุณุทูุญ Heading"""

def test_docx_omml_to_latex():
    """ุชุจุฏู ูุฑููู OMML ุจู LaTeX"""

def test_docx_embedded_images():
    """ุงุณุชุฎุฑุงุฌ ุชุตุงูุฑ embed ุดุฏู"""

def test_docx_rtl_paragraphs():
    """ุญูุธ ุฌูุช RTL ูพุงุฑุงฺฏุฑุงูโูุง"""

# test_converter_pdf.py
def test_pdf_text_extraction():
    """ุงุณุชุฎุฑุงุฌ ูุชู ุงุฒ PDF ูุชู"""

def test_pdf_structure_detection():
    """ุชุดุฎุต ุนูุงูู ู ูพุงุฑุงฺฏุฑุงูโูุง"""

def test_pdf_table_extraction():
    """ุงุณุชุฎุฑุงุฌ ุฌุฏุงูู"""

def test_pdf_image_extraction():
    """ุงุณุชุฎุฑุงุฌ ุชุตุงูุฑ embed ุดุฏู"""

def test_pdf_formula_detection():
    """ุชุดุฎุต ู ุชุจุฏู ูุฑูููโูุง"""

# test_persian.py
def test_zwnj_count_preserved():
    """ุดูุงุฑุด ZWNJ ูุจู ู ุจุนุฏ ุจุงุฏ ุจุฑุงุจุฑ ุจุงุดุฏ"""

def test_arabic_yeh_to_persian():
    """ุชุจุฏู ู ุจู """

def test_arabic_keh_to_persian():
    """ุชุจุฏู ู ุจู ฺฉ"""

def test_guillemet_quotes():
    """ุจุฑุฑุณ ุงุณุชูุงุฏู ุงุฒ ฺฏููู ยซยป"""

def test_bidi_blocks():
    """ุจุฑุฑุณ ุตุญุช ุจููฺฉโูุง LTR ุฏุฑูู RTL"""

def test_persian_numerals():
    """ุชุจุฏู ุงุนุฏุงุฏ ูุงุชู ุจู ูุงุฑุณ (ุฏุฑ ุตูุฑุช ุชูุธู)"""

def test_persian_typography_spacing():
    """ุจุฑุฑุณ ูุงุตููโฺฏุฐุงุฑ ุตุญุญ ูุงุฑุณ"""

# test_quality.py
def test_quality_score_perfect_document():
    """ุณูุฏ ุจุฏูู ูุดฺฉู ุจุงุฏ ุงูุชุงุฒ >95 ุจฺฏุฑุฏ"""

def test_quality_score_with_issues():
    """ุณูุฏ ุจุง ูุดฺฉูุงุช ุดูุงุฎุชูโุดุฏู"""

def test_structural_validation():
    """ุงุนุชุจุงุฑุณูุฌ ุณุงุฎุชุงุฑ MDX"""

def test_link_validation():
    """ุงุนุชุจุงุฑุณูุฌ ุชูุงู ููฺฉโูุง"""

# test_e2e.py (End-to-End)
def test_full_pipeline_latex_article():
    """ุชุณุช ฺฉุงูู: ููุงูู LaTeX โ MDX"""

def test_full_pipeline_latex_book():
    """ุชุณุช ฺฉุงูู: ฺฉุชุงุจ LaTeX ฺูุฏูุตู โ MDX"""

def test_full_pipeline_html():
    """ุชุณุช ฺฉุงูู: ุตูุญู HTML โ MDX"""

def test_full_pipeline_markdown():
    """ุชุณุช ฺฉุงูู: ูุงู MD ุจุง Mermaid โ MDX"""

def test_full_pipeline_docx():
    """ุชุณุช ฺฉุงูู: ูุงู DOCX โ MDX"""

def test_full_pipeline_zip():
    """ุชุณุช ฺฉุงูู: ูุงู ZIP ุญุงู ูพุฑูฺู โ MDX"""

def test_full_pipeline_mixed_folder():
    """ุชุณุช ฺฉุงูู: ูพูุดู ุชุฑฺฉุจ โ MDX"""


# ูุงูโูุง ุชุณุช (fixtures)
# tests/test_files/ ุญุงู ูููููโูุง ุงุณุช ฺฉู ุฏุฑ ุงุจุชุฏุง ูฺฉุงููู ุณุงุฎุชู:
#   - sample-book.tex         (LaTeX ุฌุงูุน)
#   - sample-mermaid.md       (Markdown + Mermaid)
#   - sample-page.html        (HTML ุฌุงูุน)
#   - sample-page.rst         (RST)
#   - sample-page.adoc        (AsciiDoc)
#   - sample-book.docx        (DOCX)
#   - sample-book.pdf         (PDF)
```

```yaml
# .github/workflows/ci.yml  (ุง ูุนุงุฏู ุขู ุจุฑุง CI/CD ูุญู)

name: FormatForge CI

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: windows-latest
    strategy:
      matrix:
        python-version: ["3.11", "3.12"]

    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install TeX Live
        run: |
          choco install texlive --params="'/scheme:full'"

      - name: Install Pandoc
        run: choco install pandoc

      - name: Install Node.js & Mermaid CLI
        uses: actions/setup-node@v4
        with:
          node-version: 20
      - run: npm install -g @mermaid-js/mermaid-cli

      - name: Install Python dependencies
        run: pip install -e ".[dev]"

      - name: Run tests
        run: pytest tests/ -v --cov=formatforge --cov-report=xml

      - name: Test with sample files
        run: |
          formatforge doctor
          formatforge convert tests/test_files/sample-book.tex --output tests/output/
          formatforge test tests/output/ --quality-min 85
```txt
# [Code extracted to: code_block_069.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_069.txt
```bash
formatforge init-components --framework next --output ./components/mdx/
```

### ฑฑ.ฑ Theorem Component

```jsx
// components/mdx/Theorem.jsx
'use client';

const typeConfig = {
  theorem:    { label: 'ูุถู',      labelEn: 'Theorem',    color: '#1A73E8', bg: '#E3F2FD' },
  lemma:      { label: 'ูู',        labelEn: 'Lemma',      color: '#1565C0', bg: '#E3F2FD' },
  corollary:  { label: 'ูุชุฌู',     labelEn: 'Corollary',  color: '#0D47A1', bg: '#E3F2FD' },
  conjecture: { label: 'ุญุฏุณ',       labelEn: 'Conjecture', color: '#4A148C', bg: '#F3E5F5' },
  axiom:      { label: 'ุงุตู ููุถูุน', labelEn: 'Axiom',      color: '#B71C1C', bg: '#FFEBEE' },
};

export default function Theorem({
  id,
  type = 'theorem',
  title,
  titleEn,
  number,
  children,
}) {
  const config = typeConfig[type] || typeConfig.theorem;

  return (
    <div
      id={id}
      dir="rtl"
      className="theorem-box"
      style={{
        background: config.bg,
        borderRight: `5px solid ${config.color}`,
        borderRadius: '0 8px 8px 0',
        padding: '1rem 1.5rem',
        margin: '1.5rem 0',
      }}
    >
      <div
        className="theorem-title"
        style={{
          fontWeight: 700,
          color: config.color,
          marginBottom: '0.5rem',
          fontSize: '1.05em',
        }}
      >
        {config.label}
        {number && ` ${number}`}
        {title && ` โ ${title}`}
        {titleEn && (
          <span dir="ltr" style={{ fontSize: '0.9em', opacity: 0.8, marginRight: '0.5em' }}>
            ({titleEn})
          </span>
        )}
      </div>
      <div className="theorem-content">{children}</div>
    </div>
  );
}
```

### ฑฑ.ฒ Definition Component

```jsx
// components/mdx/Definition.jsx
export default function Definition({ id, title, titleEn, number, children }) {
  return (
    <div
      id={id}
      dir="rtl"
      className="definition-box"
      style={{
        background: '#E8F5E9',
        borderRight: '5px solid #00897B',
        borderRadius: '0 8px 8px 0',
        padding: '1rem 1.5rem',
        margin: '1.5rem 0',
      }}
    >
      <div style={{ fontWeight: 700, color: '#00897B', marginBottom: '0.5rem' }}>
        ุชุนุฑู{number && ` ${number}`}
        {title && ` โ ${title}`}
        {titleEn && (
          <span dir="ltr" style={{ fontSize: '0.9em', opacity: 0.8, marginRight: '0.5em' }}>
            ({titleEn})
          </span>
        )}
      </div>
      <div>{children}</div>
    </div>
  );
}
```

### ฑฑ.ณ Proof Component

```jsx
// components/mdx/Proof.jsx
'use client';
import { useState } from 'react';

export default function Proof({ id, forRef, title = 'ุงุซุจุงุช', collapsible = false, children }) {
  const [open, setOpen] = useState(!collapsible);

  const content = (
    <div
      id={id}
      className="proof-box"
      style={{
        background: '#FFFDE7',
        borderRight: '5px solid #FB8C00',
        borderRadius: '0 8px 8px 0',
        padding: '1rem 1.5rem',
        margin: '1.5rem 0',
      }}
    >
      <div style={{ fontWeight: 700, color: '#E65100', marginBottom: '0.5rem' }}>
        {title}
        {forRef && (
          <span style={{ fontSize: '0.9em', opacity: 0.8 }}>
            {' '}
            (ุจุฑุง <a href={`#${forRef}`}>โ</a>)
          </span>
        )}
      </div>
      <div>{children}</div>
      <div style={{ textAlign: 'left', fontSize: '1.2em', marginTop: '0.5rem' }}>โ</div>
    </div>
  );

  if (!collapsible) return content;

  return (
    <details open={open} onToggle={(e) => setOpen(e.target.open)}>
      <summary style={{ cursor: 'pointer', fontWeight: 700, color: '#E65100' }}>
        {open ? '๐ฝ' : 'โถ๏ธ'} {title}
      </summary>
      {content}
    </details>
  );
}
```

### ฑฑ.ด Admonition Component

```jsx
// components/mdx/Admonition.jsx

const types = {
  note:      { icon: '๐', label: 'ูฺฉุชู',    color: '#546E7A', bg: '#ECEFF1' },
  tip:       { icon: '๐ก', label: 'ุฑุงูููุง', color: '#2E7D32', bg: '#E8F5E9' },
  info:      { icon: 'โน๏ธ', label: 'ุงุทูุงุนุงุช', color: '#1565C0', bg: '#E3F2FD' },
  warning:   { icon: 'โ๏ธ', label: 'ูุดุฏุงุฑ',   color: '#EF6C00', bg: '#FFF3E0' },
  caution:   { icon: '๐ถ', label: 'ุงุญุชุงุท',  color: '#E65100', bg: '#FBE9E7' },
  danger:    { icon: '๐ซ', label: 'ุฎุทุฑ',     color: '#C62828', bg: '#FFEBEE' },
  important: { icon: 'โ', label: 'ููู',     color: '#6A1B9A', bg: '#F3E5F5' },
  example:   { icon: '๐', label: 'ูุซุงู',    color: '#7B1FA2', bg: '#F3E5F5' },
};

export default function Admonition({ type = 'note', title, children }) {
  const config = types[type] || types.note;
  const displayTitle = title || `${config.icon} ${config.label}`;

  return (
    <div
      dir="rtl"
      className={`admonition admonition-${type}`}
      style={{
        background: config.bg,
        borderRight: `5px solid ${config.color}`,
        borderRadius: '0 8px 8px 0',
        padding: '1rem 1.5rem',
        margin: '1.5rem 0',
      }}
    >
      <div style={{ fontWeight: 700, color: config.color, marginBottom: '0.5rem' }}>
        {displayTitle}
      </div>
      <div>{children}</div>
    </div>
  );
}
```

### ฑฑ.ต Figure Component

```jsx
// components/mdx/Figure.jsx
import Image from 'next/image';

export default function Figure({
  src,
  alt,
  caption,
  captionEn,
  number,
  width,
  height,
  float,       // "right" | "left" | undefined
  className,
}) {
  const floatStyle = float === 'right'
    ? { float: 'right', margin: '0 0 1rem 1.5rem', maxWidth: '40%' }
    : float === 'left'
    ? { float: 'left', margin: '0 1.5rem 1rem 0', maxWidth: '40%' }
    : {};

  return (
    <figure
      dir="rtl"
      className={`figure-box ${className || ''}`}
      style={{
        margin: '1.5rem 0',
        textAlign: 'center',
        ...floatStyle,
      }}
    >
      {src.endsWith('.svg') ? (
        // SVG: use img tag for better scaling
        // eslint-disable-next-line @next/next/no-img-element
        <img
          src={src}
          alt={alt}
          style={{
            maxWidth: '100%',
            borderRadius: '8px',
            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
          }}
        />
      ) : (
        <Image
          src={src}
          alt={alt}
          width={width || 700}
          height={height || 400}
          style={{
            maxWidth: '100%',
            height: 'auto',
            borderRadius: '8px',
            boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
          }}
        />
      )}
      {(caption || number) && (
        <figcaption
          style={{
            color: '#616161',
            fontSize: '0.9em',
            marginTop: '0.5rem',
          }}
        >
          {number && <strong>ุดฺฉู {number}. </strong>}
          {caption}
          {captionEn && (
            <span dir="ltr" style={{ opacity: 0.7, marginRight: '0.5em' }}>
              โ {captionEn}
            </span>
          )}
        </figcaption>
      )}
    </figure>
  );
}
```

### ฑฑ.ถ MermaidDiagram Component

```jsx
// components/mdx/MermaidDiagram.jsx
'use client';
import { useEffect, useRef, useState, useId } from 'react';

let mermaidModule = null;
const getMermaid = async () => {
  if (!mermaidModule) {
    mermaidModule = (await import('mermaid')).default;
    mermaidModule.initialize({
      startOnLoad: false,
      theme: 'base',
      themeVariables: {
        fontFamily: '"Vazirmatn", "Tahoma", sans-serif',
        fontSize: '14px',
        primaryColor: '#E3F2FD',
        primaryTextColor: '#0D47A1',
        primaryBorderColor: '#1565C0',
        lineColor: '#1A73E8',
      },
      flowchart: { htmlLabels: true, curve: 'basis' },
      sequence: { mirrorActors: false },
      securityLevel: 'loose',
    });
  }
  return mermaidModule;
};

export default function MermaidDiagram({ chart, id: propId, caption, number }) {
  const autoId = useId();
  const id = propId || `mermaid-${autoId.replace(/:/g, '')}`;
  const containerRef = useRef(null);
  const [svg, setSvg] = useState('');
  const [error, setError] = useState(null);

  useEffect(() => {
    let cancelled = false;

    const render = async () => {
      try {
        const mermaid = await getMermaid();
        const { svg: renderedSvg } = await mermaid.render(id, chart.trim());
        if (!cancelled) {
          setSvg(renderedSvg);
          setError(null);
        }
      } catch (err) {
        if (!cancelled) {
          setError(err.message || 'ุฎุทุง ุฏุฑ ุฑูุฏุฑ ูููุฏุงุฑ');
          console.error('Mermaid render error:', err);
        }
      }
    };

    render();
    return () => { cancelled = true; };
  }, [chart, id]);

  if (error) {
    return (
      <div style={{
        background: '#FFEBEE', border: '1px solid #EF5350',
        borderRadius: 8, padding: '1rem', margin: '1.5rem 0',
        direction: 'ltr', textAlign: 'left',
      }}>
        <strong>โ ุฎุทุง ุฏุฑ ุฑูุฏุฑ ูููุฏุงุฑ:</strong>
        <pre style={{ fontSize: '0.85em', marginTop: '0.5rem' }}>{error}</pre>
        <details>
          <summary>ฺฉุฏ Mermaid</summary>
          <pre>{chart}</pre>
        </details>
      </div>
    );
  }

  return (
    <figure style={{ margin: '1.5rem 0', textAlign: 'center' }}>
      <div
        ref={containerRef}
        className="mermaid-container"
        style={{ direction: 'ltr', overflowX: 'auto' }}
        dangerouslySetInnerHTML={{ __html: svg }}
      />
      {(caption || number) && (
        <figcaption style={{ color: '#616161', fontSize: '0.9em', marginTop: '0.5rem' }}>
          {number && <strong>ูููุฏุงุฑ {number}. </strong>}
          {caption}
        </figcaption>
      )}
    </figure>
  );
}
```

### ฑฑ.ท Citation & Bibliography Components

```jsx
// components/mdx/Citation.jsx
export default function Citation({ id, data }) {
  // data = { author, year, title, ... } ุงุฒ bibliography.json
  return (
    <a
      href={`#ref-${id}`}
      className="citation"
      title={data ? `${data.author} (${data.year})` : id}
      style={{ color: '#00897B', textDecoration: 'none' }}
    >
      [{data ? `${data.author}, ${data.year}` : id}]
    </a>
  );
}

// components/mdx/Bibliography.jsx
export default function Bibliography({ entries }) {
  // entries = [{id, author, year, title, publisher, ...}, ...]
  return (
    <section id="bibliography" dir="rtl">
      <h2>๐ ฺฉุชุงุจโูุงูู</h2>
      <ol style={{ fontSize: '0.95em' }}>
        {entries.map((entry) => (
          <li key={entry.id} id={`ref-${entry.id}`}>
            {entry.lang === 'fa' ? (
              // ูุฑุฌุน ูุงุฑุณ
              <span>
                {entry.author} ({entry.year}).{' '}
                <cite style={{ fontStyle: 'italic' }}>{entry.title}</cite>.
                {entry.publisher && ` ${entry.publisher}.`}
              </span>
            ) : (
              // ูุฑุฌุน ุงูฺฏูุณ
              <span dir="ltr" lang="en">
                {entry.author} ({entry.year}).{' '}
                <cite style={{ fontStyle: 'italic' }}>{entry.title}</cite>.
                {entry.publisher && ` ${entry.publisher}.`}
                {entry.url && (
                  <>
                    {' '}
                    <a href={entry.url} target="_blank" rel="noopener noreferrer">
                      {new URL(entry.url).hostname}
                    </a>
                  </>
                )}
              </span>
            )}
          </li>
        ))}
      </ol>
    </section>
  );
}
```

### ฑฑ.ธ CrossRef Component

```jsx
// components/mdx/CrossRef.jsx

const typeLabels = {
  theorem: 'ูุถู',
  definition: 'ุชุนุฑู',
  example: 'ูุซุงู',
  lemma: 'ูู',
  figure: 'ุดฺฉู',
  table: 'ุฌุฏูู',
  equation: 'ุฑุงุจุทู',
  algorithm: 'ุงูฺฏูุฑุชู',
  chapter: 'ูุตู',
  section: 'ุจุฎุด',
};

export default function CrossRef({ id, type, number, text }) {
  const label = typeLabels[type] || '';
  const displayText = text || (label && number ? `${label} ${number}` : id);

  return (
    <a
      href={`#${id}`}
      className="cross-ref"
      style={{ color: '#1A73E8', textDecoration: 'none', borderBottom: '1px dashed #1A73E8' }}
    >
      {displayText}
    </a>
  );
}
```

### ฑฑ.น BilingualBlock Component

```jsx
// components/mdx/BilingualBlock.jsx

export default function BilingualBlock({
  dir = 'ltr',
  lang = 'en',
  className,
  style,
  children,
}) {
  return (
    <div
      dir={dir}
      lang={lang}
      className={`bilingual-block ${className || ''}`}
      style={{
        background: dir === 'ltr' ? '#F5F5F5' : 'transparent',
        padding: dir === 'ltr' ? '1.5rem' : '0',
        borderRadius: '8px',
        borderLeft: dir === 'ltr' ? '4px solid #1A73E8' : 'none',
        borderRight: dir === 'rtl' ? '4px solid #1A73E8' : 'none',
        margin: '1.5rem 0',
        unicodeBidi: 'isolate',
        ...style,
      }}
    >
      {children}
    </div>
  );
}
```

### ฑฑ.ฑฐ ุชููุฏ ุฎูุฏฺฉุงุฑ ฺฉุงููพูููุชโูุง

```bash
# ุฏุณุชูุฑ ุชููุฏ ฺฉุงููพูููุชโูุง MDX ุจุฑุง ูุจโุณุงุช ุดูุง
formatforge init-components \
  --framework next \
  --output ./components/mdx/ \
  --typescript \
  --with-css \
  --font "Vazirmatn" \
  --primary-color "#1A73E8" \
  --accent-color "#00897B"

# ุฎุฑูุฌ:
# components/mdx/
# โโโ Theorem.tsx
# โโโ Definition.tsx
# โโโ Proof.tsx
# โโโ Example.tsx
# โโโ Admonition.tsx
# โโโ Figure.tsx
# โโโ FigureGrid.tsx
# โโโ MermaidDiagram.tsx
# โโโ Citation.tsx
# โโโ Bibliography.tsx
# โโโ CrossRef.tsx
# โโโ BilingualBlock.tsx
# โโโ CodeBlock.tsx
# โโโ TableWrapper.tsx
# โโโ Details.tsx
# โโโ index.ts          โ re-exports ููู
# โโโ styles/
#     โโโ mdx-components.css
#     โโโ rtl-overrides.css
```

---

## ฑฒ. ููุดู ุฑุงู ุชูุณุนู (Roadmap)

```
ูุงุฒ ฑ โ MVP (ููุชู ฑ-ด):
โโโโโโโโโโโโโโโโโโโโโโโโ
โ CLI ูพุงู (scan, convert, test)
โ ุชุจุฏูโฺฏุฑ LaTeX โ MDX (ธฐูช ุนูุงุตุฑ)
โ ุชุจุฏูโฺฏุฑ Markdown โ MDX
โ ูุฏุฑุช ุฑุงุถ (KaTeX)
โ ูุฏุฑุช ูุงุฑุณ/RTL/ZWNJ
โ ุชุณุช ุณุงุฎุชุงุฑ ู ูุญุชูุง
โ ุงุณุชูุฑุงุฑ ุณุงุฏู (ฺฉูพ ูุงู)
โ ฺฏุฒุงุฑุด ูพุงู

ูุงุฒ ฒ โ ุจูุจูุฏ ุชุจุฏู (ููุชู ต-ธ):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุชุจุฏูโฺฏุฑ HTML โ MDX
โ ุชุจุฏูโฺฏุฑ DOCX โ MDX
โ ุชุจุฏูโฺฏุฑ RST โ MDX
โ ุชุจุฏูโฺฏุฑ AsciiDoc โ MDX
โ TikZ โ SVG
โ Mermaid โ ฺฉุงููพูููุช
โ ุฌุฏุงูู ูพฺุฏู (ุงุฏุบุงู/ุฑูฺฏ)
โ ฺฉุชุงุจโูุงูู (biblatex โ JSON)
โ ูพูุดุด นตูช+ ุนูุงุตุฑ LaTeX

ูุงุฒ ณ โ ููุดููุฏุณุงุฒ (ููุชู น-ฑฒ):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุชฺฉูู ูุชุงุฏุชุง ุจุง AI
โ ุชููุฏ slug ููุดููุฏ
โ ุชููุฏ ุฎูุงุตู/description
โ ุชููุฏ alt text ุชุตุงูุฑ
โ ูพุดููุงุฏ ุงุตูุงุญ ุฎุทุงูุง
โ ุชุจุฏูโฺฏุฑ PDF โ MDX (ูพุงู)
โ ุชุจุฏูโฺฏุฑ EPUB โ MDX
โ ุชุจุฏูโฺฏุฑ Jupyter โ MDX

ูุงุฒ ด โ ุชุณุช ู ฺฉูุช (ููุชู ฑณ-ฑถ):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุชุณุช ุจุตุฑ (Playwright)
โ ููุงุณู ุจุตุฑ ุฎุฑูุฌ ุจุง ุงุตู
โ ุงูุชุงุฒ ฺฉูุช ูพุดุฑูุชู
โ ฺฏุฒุงุฑุด HTML ุฒุจุง
โ ุจูููโุณุงุฒ ุนููฺฉุฑุฏ (parallel, cache)
โ TUI ุจุง Textual

ูุงุฒ ต โ ูพุดุฑูุชู (ููุชู ฑท+):
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ GUI (Tauri)
โ Watch mode (ุชุจุฏู ุฎูุฏฺฉุงุฑ ููฺฏุงู ุชุบุฑ ูุงู)
โ Plugin system (ุงูุฒูููโูุง ุณูุงุฑุด)
โ API server (ุชุจุฏู ุงุฒ ุทุฑู HTTP)
โ VS Code extension
โ ูพุดุชุจุงู ุงุฒ Typst
โ ุชุจุฏู ูุนฺฉูุณ (MDX โ LaTeX)
โ ุงูุชุดุงุฑ ุจูโุนููุงู ูพฺฉุฌ PyPI/npm
```

---

## ฑณ. ูุซุงู ฺฉุงูู: ุณูุงุฑู ูุงูุน

```
ุณูุงุฑู: ุชุจุฏู ฺฉุชุงุจ ยซูุจุงู ููุทู ุฑุงุถยป ุงุฒ LaTeX ุจู MDX
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูุฑูุฏ:
  C:\Users\ali\Documents\logic-book\
  โโโ main.tex              (ููุทู ูุฑูุฏุ 2 KB)
  โโโ preamble.sty          (ูพฺฉุฌโูุง ู ุชูุธูุงุชุ 3 KB)
  โโโ chapter01.tex          (ูุตู ฑ: ููุฏููุ 15 KB)
  โโโ chapter02.tex          (ูุตู ฒ: ููุทู ฺฏุฒุงุฑูโุงุ 22 KB)
  โโโ chapter03.tex          (ูุตู ณ: ููุทู ูุญูููุงุชุ 18 KB)
  โโโ chapter04.tex          (ูุตู ด: ูููุฏุงุฑูุงุ 12 KB)
  โโโ chapter05.tex          (ูุตู ต: ุฑุงูููุง LaTeXุ 8 KB)
  โโโ references.bib         (ฺฉุชุงุจโูุงููุ 4 KB)
  โโโ figures/
      โโโ mindmap.tikz       (ููุดู ุฐูู TikZุ 2 KB)
      โโโ flowchart.tikz     (ูููฺุงุฑุช TikZุ 1.5 KB)
      โโโ bar-chart.tikz     (ูููุฏุงุฑ ูููโุงุ 1 KB)
      โโโ proof-tree.tikz    (ุฏุฑุฎุช ุงุซุจุงุชุ 1 KB)
      โโโ cover.png          (ุฌูุฏ ฺฉุชุงุจุ 500 KB)

ุฏุณุชูุฑ:
  formatforge run "C:\Users\ali\Documents\logic-book\" \
    --output "C:\Projects\my-blog\content\books\" \
    --interactive

ุฎุฑูุฌ ููุง:
  C:\Projects\my-blog\content\books\logic-foundations\
  โโโ _series.json
  โโโ 00-introduction\
  โ   โโโ index.mdx          (11 KB)
  โ   โโโ assets\
  โ       โโโ mindmap.svg    (5 KB, ุงุฒ TikZ)
  โโโ 01-propositional-logic\
  โ   โโโ index.mdx          (18 KB)
  โ   โโโ assets\
  โ       โโโ truth-table-demorgan.svg  (3 KB)
  โ       โโโ flowchart.svg            (4 KB)
  โโโ 02-predicate-logic\
  โ   โโโ index.mdx          (14 KB)
  โ   โโโ assets\
  โ       โโโ proof-tree.svg (3 KB)
  โโโ 03-visuals\
  โ   โโโ index.mdx          (10 KB)
  โ   โโโ assets\
  โ       โโโ bar-chart.svg  (4 KB)
  โ       โโโ cover.webp     (85 KB, ุจููู ุงุฒ PNG)
  โโโ 04-latex-guide\
  โ   โโโ index.mdx          (7 KB)
  โโโ bibliography.json       (3 KB, 15 ูุฑุฌุน)
  โโโ shared-assets\
      โโโ series-cover.webp  (85 KB)

ุขูุงุฑ ุชุจุฏู:
  โฑ ุฒูุงู: ฑ ุฏููู ฑฒ ุซุงูู
  ๐ ฺฉูุช: นณ/ฑฐฐ
  ๐ ูุงู MDX: ต ูุตู
  ๐ผ ุชุตุงูุฑ: ถ SVG + ฑ WebP
  ๐ข ูุฑููู: ธท (ููู ูููู)
  ๐ ุฌุฏุงูู: ฑฒ (ููู ูููู)
  ๐จ ูููุฏุงุฑ TikZ: ต โ ต SVG
  ๐ ฺฉุฏ: ธ ุจููฺฉ
  ๐ ูพุงููุดุช: ฑต
  ๐ ุงุฑุฌุงุนุงุช: ณฒ (ณฐ ูููู, ฒ ุจูโูุตู ุงุตูุงุญโุดุฏู)
  ๐ ูุฑุงุฌุน: ฑต (biblatex โ JSON)
  โ ููโูุงุตูู: ดตถ/ดตถ โ
```

---

## ฑด. ุฎูุงุตู ููุง ู ฺฺฉโูุณุช ุณุงุฎุช

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              FormatForge โ ฺฺฉโูุณุช ุณุงุฎุช                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                              โ
โ  โ ูุฑุญูู ฑ: ุงุณฺฉู ู ุดูุงุณุง                                โ
โ    โ ุชุดุฎุต ูุฑูุช (magic bytes + extension + content)        โ
โ    โ ุชุดุฎุต encoding (UTF-8/BOM/Windows-1256)               โ
โ    โ ุชุดุฎุต ุณุงุฎุชุงุฑ (ุชฺฉโูุงู/ูพูุดู/ZIP/ฺฉุชุงุจ/ูุฌููุนู)          โ
โ    โ ุชุดุฎุต ุฒุจุงู (ูุงุฑุณ/ุงูฺฏูุณ/ุฏูุฒุจุงูู)                   โ
โ    โ ฺฏุฑุงู ูุงุจุณุชฺฏ (include/input/images)                    โ
โ    โ ุชุฃุฏ ุชุนุงูู ุงุฒ ฺฉุงุฑุจุฑ                                  โ
โ                                                              โ
โ  โ ูุฑุญูู ฒ: ูุชุงุฏุชุง                                        โ
โ    โ ุงุณุชุฎุฑุงุฌ ุงุฒ น ูุฑูุช ูุฎุชูู                                โ
โ    โ ุดููุง Pydantic ุจุฑุง ุงุนุชุจุงุฑุณูุฌ                        โ
โ    โ ุชููุฏ slug ููุดููุฏ (ูุงุฑุณ โ ูุงุชู)                     โ
โ    โ ุชฺฉูู ุจุง AI (ุงุฎุชุงุฑ)                                 โ
โ    โ ฺฉุชุง slug (ุจุฑุฑุณ ุจุง ฺฏุฒุงุฑุด ูุฑฺฉุฒ)                   โ
โ    โ ุชุฃุฏ ุชุนุงูู                                          โ
โ                                                              โ
โ  โ ูุฑุญูู ฒ.ต: ูพุดโุจุฑุฑุณ                                    โ
โ    โ ุจุฑุฑุณ encoding ู ZWNJ                                 โ
โ    โ ุจุฑุฑุณ ุณุงุฎุชุงุฑ ู syntax                                  โ
โ    โ ุจุฑุฑุณ ูุงุจุณุชฺฏโูุง (ุชุตุงูุฑ/ูุงูโูุง)                     โ
โ    โ ุจุฑุฑุณ ูุฑูููโูุง (KaTeX pre-parse)                       โ
โ    โ ุชุจุฏู ุขุฒูุงุด (ฑฐูช)                                  โ
โ    โ ุชุฎูู ุฒูุงู ู ุญุฌู                                       โ
โ    โ ฺฏุฒุงุฑุด + ุชุฃุฏ                                          โ
โ                                                              โ
โ  โ ูุฑุญูู ณ: ุชุจุฏู                                          โ
โ    โ น ุชุจุฏูโฺฏุฑ (LaTeX/HTML/MD/DOCX/PDF/RST/Adoc/EPUB/NB) โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ ุฑุงุถ (โ KaTeX syntax)                       โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ ูููุฏุงุฑ (TikZโSVG, MermaidโComponent)        โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ ุฌุฏูู (ุณุงุฏูโMD, ูพฺุฏูโHTML)                 โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ ุชุตูุฑ (ุจูููโุณุงุฒ/WebP/SVGO)                 โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ ฺฉุฏ (syntax highlight metadata)               โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ ููฺฉ/ุงุฑุฌุงุน/ูพุงููุดุช/ฺฉุชุงุจโูุงูู                โ
โ    โ ูพุฑุฏุงุฒุดฺฏุฑ RTL/ูุงุฑุณ (ZWNJ/bidi/typography)            โ
โ    โ ุชุจุฏู ูุถู/ุชุนุฑู/ุงุซุจุงุช โ ฺฉุงููพูููุช                    โ
โ    โ ุชููุฏ import ูุง ุฎูุฏฺฉุงุฑ                                 โ
โ    โ ููุงุด ูพุดุฑูุช + ุฎุทุงูุง                                   โ
โ                                                              โ
โ  โ ูุฑุญูู ด: ุชุณุช ฺฉูุช                                      โ
โ    โ ุชุณุช ุณุงุฎุชุงุฑ (YAML/JSX/MDX compile)                    โ
โ    โ ุชุณุช ูุญุชูุง (ุดูุงุฑุด ุนูุงุตุฑ)                              โ
โ    โ ุชุณุช ุฑุงุถ (KaTeX parse)                               โ
โ    โ ุชุณุช ูุงุฑุณ (ZWNJ/bidi/quotes)                          โ
โ    โ ุชุณุช ููฺฉโูุง (ุฏุงุฎู/ุฎุงุฑุฌ/ุชุตุงูุฑ)                      โ
โ    โ ุชุณุช ุจุตุฑ (Playwright โ ุงุฎุชุงุฑ)                        โ
โ    โ ุงูุชุงุฒ ฺฉูุช (0-100)                                  โ
โ                                                              โ
โ  โ ูุฑุญูู ต: ุงุณุชูุฑุงุฑ                                        โ
โ    โ ุณุงุฎุช ุณุงุฎุชุงุฑ ูพูุดู                                       โ
โ    โ ฺฉูพ MDX + assets                                      โ
โ    โ ุจูููโุณุงุฒ ุชุตุงูุฑ                                      โ
โ    โ ุจุฑูุฒุฑุณุงู ููฺฉโูุง ูุณุจ                                โ
โ    โ ุชููุฏ ูุงูโูุง ุฌุงูุจ (series.json, bibliography.json) โ
โ    โ ุงุนุชุจุงุฑุณูุฌ ููุง                                      โ
โ    โ Git commit (ุงุฎุชุงุฑ)                                   โ
โ                                                              โ
โ  โ ูุฑุญูู ถ: ฺฏุฒุงุฑุด                                          โ
โ    โ ุซุจุช ุฏุฑ central_log                                     โ
โ    โ ุขูุงุฑ ุชุฌูุน                                              โ
โ    โ ุซุจุช slug (ุฌููฺฏุฑ ุงุฒ ุชฺฉุฑุงุฑ)                           โ
โ    โ ุฎุฑูุฌ YAML/JSON/CSV/HTML                               โ
โ                                                              โ
โ  โ ุฒุฑุณุงุฎุช                                                   โ
โ    โ CLI ุจุง Click + Rich                                    โ
โ    โ ุชูุธูุงุช YAML                                           โ
โ    โ ูุฏุฑุช ุฎุทุง ู ุจุงุฒุงุจ                                   โ
โ    โ ูพุฑุฏุงุฒุด ููุงุฒ                                            โ
โ    โ ฺฉูุด (TikZ, ุชุตุงูุฑ, AI)                                โ
โ    โ ุชุณุชโูุง ูุงุญุฏ ู E2E                                     โ
โ    โ CI/CD                                                   โ
โ    โ ูุณุชูุฏุณุงุฒ                                               โ
โ    โ ฺฉุงููพูููุชโูุง MDX + init-components                     โ
โ                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ  ๐ ูฺฉุงุช ุญุงุช ูุงุฑุณ:                                      โ
โ    โธ ููโูุงุตูู (ZWNJ) ูุฑฺฏุฒ ุญุฐู ูุดูุฏ                        โ
โ    โธ encoding ููุดู UTF-8 (ุชุฑุฌุญุงู BOM)                     โ
โ    โธ dir="rtl" + lang="fa" ููุดู ุฏุฑ frontmatter             โ
โ    โธ ุจููฺฉโูุง ฺฉุฏ/ุฑุงุถ/ูููุฏุงุฑ: dir="ltr"                   โ
โ    โธ ฺฏููู ยซยป ูู ""                                         โ
โ    โธ ุดูุงุฑุด ZWNJ ูุจู ู ุจุนุฏ ุชุจุฏู ุจุงุฏ ุจุฑุงุจุฑ ุจุงุดุฏ           โ
โ    โธ ูโ ู ูโฺฉ ุงุตูุงุญ ุดูุฏ                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```txt
# [Code extracted to: code_block_083.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_083.txt
```
ุงู ูพุฑุงููพุช ุฑุง ุจู ฺฉ LLM ุจุฏูุฏ ู ุจฺฏูุฏ:

"ูุทูุงู ุจุฑ ุงุณุงุณ ุงู ูุดุฎุตุงุชุ ฺฉุฏ ูุงฺูู [ูุงู ูุงฺูู] ุฑุง
ุจููุณ. ุงุฒ Python 3.11+ ุงุณุชูุงุฏู ฺฉู. ุชุณุชโูุง ูุงุญุฏ
ูู ุจููุณ."

ูุซุงูโูุง:
1. "ฺฉุฏ core/scanner/file_detector.py ุฑุง ุจููุณ"
2. "ฺฉุฏ core/converters/latex_to_mdx.py ุฑุง ุจููุณ"
3. "ฺฉุฏ core/persian/zwnj_handler.py ุฑุง ุจููุณ"
4. "ฺฉุฏ core/quality/math_test.py ุฑุง ุจููุณ"
5. "ฺฉุฏ cli/commands/convert.py ุฑุง ุจููุณ"
```

### ุจุฑุง ฺฏุณุชุฑุด:

```
"ุจุฑ ุงุณุงุณ ูุดุฎุตุงุช ูพุฑุงููพุช ุงุตูุ
[ูุงุจูุช X] ุฑุง ุงุถุงูู ฺฉู / [ุจุฎุด Y] ุฑุง ุจูุจูุฏ ุจุฏู.
ุณุงุฒฺฏุงุฑ ุจุง ุจูู ุณุณุชู ุญูุธ ุดูุฏ."
```
```

---

## ุฎูุงุตู

ุงู ูพุฑุงููพุช ุดุงูู **ุชูุงู** ุฌุฒุฆุงุช ูู ููุฑุฏ ูุงุฒ ุจุฑุง ุณุงุฎุช ุงุจุฒุงุฑ ุชุจุฏู ูุฑูุช ุดูุงุณุช:

| ุจุฎุด | ูุญุชูุง |
|:----|:------|
| **ูุนูุงุฑ** | ุณุงุฎุชุงุฑ ูุงฺููุงุฑ ถ ูุฑุญููโุง |
| **Stage 1** | ุงุณฺฉูุฑ ูุฑูุฏ (ฑฐ ุณูุงุฑู) + ุชุฃุฏ ุชุนุงูู |
| **Stage 2** | ูุชุงุฏุชุง (ุดููุง TypeScript + ุงุณุชุฎุฑุงุฌ น ูุฑูุช + AI + slug) |
| **Stage 2.5** | ูพุดโุจุฑุฑุณ (ต ุฏุณุชู ุจุฑุฑุณ + ุชุจุฏู ุขุฒูุงุด) |
| **Stage 3** | ุชุจุฏู (น ูุฑูุช ร ธ+ ูพุฑุฏุงุฒุดฺฏุฑ + ููุงุนุฏ RTL/ูุงุฑุณ) |
| **Stage 4** | ุชุณุช (ถ ุณุทุญ + ุงูุชุงุฒ ฺฉูุช ฐ-ฑฐฐ) |
| **Stage 5** | ุงุณุชูุฑุงุฑ (ุณุงุฎุชุงุฑ ูพูุดู + ุจูููโุณุงุฒ + ููฺฉโุฏู) |
| **Stage 6** | ฺฏุฒุงุฑุด ูุฑฺฉุฒ YAML |
| **ูุงุจุณุชฺฏโูุง** | Python packages + ุงุจุฒุงุฑูุง ุฎุงุฑุฌ |
| **ุชูุธูุงุช** | ูุงู YAML ฺฉุงูู ุจุง ฑฐฐ+ ุขูพุดู |
| **CLI** | ฑต+ ุฏุณุชูุฑ |
| **ฺฉุงููพูููุชโูุง** | ฑฒ ฺฉุงููพูููุช React/MDX |
| **ุชุณุช** | ดฐ+ ุชุณุช ูุงุญุฏ + E2E + CI/CD |
| **ููุดู ุฑุงู** | ต ูุงุฒุ ฑท+ ููุชู |
| **ูฺฉุงุช ูุงุฑุณ** | ท ูุงููู ุญุงุช RTL/ZWNJ/bidi |

---

## ุงุณุชุฑุงุชฺ ูพุงุฏูโุณุงุฒ ุจุง LLM (ูุฏุฑุช ูุญุฏูุฏุช ุชูฺฉู)

### ูุดฺฉู ุงุตู

> ูพุฑุงููพุช ุฌุงูุน ุญุฏูุฏ **ณฐ,ฐฐฐ+ ุชูฺฉู** ุงุณุช. ุงุฑุณุงู ฺฉุฌุง ุขู + ุฏุฑุฎูุงุณุช ฺฉุฏ = **ุณุฑุฑุฒ ุชูฺฉู** ู ุฎุฑูุฌ ูุงูุต.

### ุฑุงูโุญู: **ูุฏู ฺฏูุชฺฏู ูุงูโุง (Layered Conversation Model)**

```txt
# [Code extracted to: code_block_086.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_086.txt
```

---

## System Prompt ุซุงุจุช (ุฏุฑ ูุฑ ฺุช ุงุณุชูุงุฏู ุดูุฏ)

```markdown
# [Code extracted to: code_block_087.md]
# See: output\formatForge_20260215_164352\code_blocks\code_block_087.md
```

---

## ูุงุฒุจูุฏ ุงุฌุฑุง (ฑฒ ุงุณูพุฑูุช โ ูุฑ ุงุณูพุฑูุช โ ณ-ต ุฑูุฒ)

### ููุง ฺฉู

```txt
# [Code extracted to: code_block_088.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_088.txt
```

---

### ุงุณูพุฑูุช S01: ุฒุฑุณุงุฎุช ู ูุฏูโูุง ุฏุงุฏู

**ูุฏู:** ุงุณฺฉูุช ูพุฑูฺู + ูุฏูโูุง Pydantic + CLI ูพุงู + ุชูุธูุงุช

#### ฺุช ฑ: ุณุงุฎุชุงุฑ ูพุฑูฺู ู setup

```txt
# [Code extracted to: code_block_089.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_089.txt
```

#### ฺุช ฒ: ูุฏูโูุง ุฏุงุฏู (Pydantic)

```txt
# [Code extracted to: code_block_090.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_090.txt
```

#### ฺุช ณ: ุชูุธูุงุช (Config)

```txt
# [Code extracted to: code_block_091.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_091.txt
```

#### ฺุช ด: CLI ูพุงู

```txt
# [Code extracted to: code_block_092.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_092.txt
```

#### ฺุช ต: ฺฉูุงุณ ูพุงู ุชุจุฏูโฺฏุฑ

```txt
# [Code extracted to: code_block_093.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_093.txt
```

#### ฺุช ถ: Logger ู Utilities

```txt
# [Code extracted to: code_block_094.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_094.txt
```

---

### ุงุณูพุฑูุช S02: ุงุณฺฉูุฑ ูุฑูุฏ

#### ฺุช ฑ: ุชุดุฎุต ูุฑูุช ูุงู

```txt
# [Code extracted to: code_block_095.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_095.txt
```

#### ฺุช ฒ: ุชุญูู ุณุงุฎุชุงุฑ

```txt
# [Code extracted to: code_block_096.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_096.txt
```

#### ฺุช ณ: ูุฏุฑุช ุขุฑุดู

```txt
# [Code extracted to: code_block_097.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_097.txt
```

#### ฺุช ด: ุงุณฺฉูุฑ ุงุตู + ุชุนุงูู

```txt
# [Code extracted to: code_block_098.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_098.txt
```

---

### ุงุณูพุฑูุช S03: ูุงฺูู ูุงุฑุณ

**ุงู ุงุณูพุฑูุช ุญุงุชโุชุฑู ุงุณุช โ ุชูุงู ุชุจุฏูโฺฏุฑูุง ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ.**

#### ฺุช ฑ: ูุฏุฑุช ููโูุงุตูู (ZWNJ)

```txt
# [Code extracted to: code_block_099.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_099.txt
```

#### ฺุช ฒ: ูุฏุฑุช ุฏูุฌูุช (BiDi)

```txt
# [Code extracted to: code_block_100.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_100.txt
```

#### ฺุช ณ: ุชุงูพูฺฏุฑุงู ูุงุฑุณ

```txt
# [Code extracted to: code_block_101.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_101.txt
```

#### ฺุช ด: ูพุฑุฏุงุฒุดฺฏุฑ RTL ุจุฑุง MDX

```txt
# [Code extracted to: code_block_102.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_102.txt
```

---

### ุงุณูพุฑูุช S04: ูพุฑุฏุงุฒุดฺฏุฑูุง ูพุงู

#### ฺุช ฑ: ูพุฑุฏุงุฒุดฺฏุฑ ุฑุงุถ

```txt
# [Code extracted to: code_block_103.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_103.txt
```

#### ฺุช ฒ: ูพุฑุฏุงุฒุดฺฏุฑ ฺฉุฏ

```txt
# [Code extracted to: code_block_104.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_104.txt
```lang
2. ุชุจุฏู HTML <pre><code> โ ```lang
# [Code extracted to: code_block_105.lang]
# See: output\formatForge_20260215_164352\code_blocks\code_block_105.lang
```

#### ฺุช ณ: ูพุฑุฏุงุฒุดฺฏุฑ ููฺฉ ู ุงุฑุฌุงุนุงุช

```txt
# [Code extracted to: code_block_106.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_106.txt
```

#### ฺุช ด: ูพุฑุฏุงุฒุดฺฏุฑ ูพุงููุดุช ู ฺฉุชุงุจโูุงูู

```txt
# [Code extracted to: code_block_107.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_107.txt
```

---

### ุงุณูพุฑูุช S05: ูพุฑุฏุงุฒุดฺฏุฑูุง ูพุดุฑูุชู

#### ฺุช ฑ: ูพุฑุฏุงุฒุดฺฏุฑ ุฌุฏูู

```txt
# [Code extracted to: code_block_108.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_108.txt
```

#### ฺุช ฒ: ูพุฑุฏุงุฒุดฺฏุฑ ุชุตูุฑ

```txt
# [Code extracted to: code_block_109.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_109.txt
```

#### ฺุช ณ: ูพุฑุฏุงุฒุดฺฏุฑ ูููุฏุงุฑ (TikZ + Mermaid)

```txt
# [Code extracted to: code_block_110.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_110.txt
```mermaid ... ```txt
# [Code extracted to: code_block_111.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_111.txt
```

#### ฺุช ด: ูพุฑุฏุงุฒุดฺฏุฑ Admonition ู ูุญุทโูุง ุฎุงุต

```txt
# [Code extracted to: code_block_112.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_112.txt
```

---

### ุงุณูพุฑูุช S06: ุชุจุฏูโฺฏุฑ Markdown โ MDX

#### ฺุช ฑ: ุชุจุฏูโฺฏุฑ ุงุตู MD

```txt
# [Code extracted to: code_block_113.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_113.txt
```

#### ฺุช ฒ: ุชุจุฏูโูุง JSX ู Import Generator

```txt
# [Code extracted to: code_block_114.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_114.txt
```

#### ฺุช ณ: ุชุณุช E2E ูุงุฑฺฉโุฏุงูู

```txt
# [Code extracted to: code_block_115.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_115.txt
```

---

### ุงุณูพุฑูุช S07: ุชุจุฏูโฺฏุฑ HTML โ MDX

#### ฺุช ฑ: ุชุญููโฺฏุฑ HTML

```txt
# [Code extracted to: code_block_116.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_116.txt
```code```txt
# [Code extracted to: code_block_117.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_117.txt
```

#### ฺุช ฒ: ุชุจุฏู ุนูุงุตุฑ ูพฺุฏู HTML

```txt
# [Code extracted to: code_block_118.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_118.txt
```

#### ฺุช ณ: ุชุณุช E2E ุงฺโุชโุงูโุงู

```txt
# [Code extracted to: code_block_119.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_119.txt
```

---

### ุงุณูพุฑูุช S08: ุชุจุฏูโฺฏุฑ LaTeX โ MDX (ูพุงู)

#### ฺุช ฑ: ุชุญููโฺฏุฑ LaTeX (Parser)

```txt
# [Code extracted to: code_block_120.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_120.txt
```

#### ฺุช ฒ: ุชุจุฏู ุณุงุฎุชุงุฑ LaTeX

```txt
# [Code extracted to: code_block_121.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_121.txt
```

#### ฺุช ณ: ุชุจุฏู ูุญุทโูุง LaTeX

```txt
# [Code extracted to: code_block_122.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_122.txt
```python
- \begin{minted}{python}
  โ ```python
# [Code extracted to: code_block_123.py]
# See: output\formatForge_20260215_164352\code_blocks\code_block_123.py
```

#### ฺุช ด: ุงุณุชุฎุฑุงุฌ Metadata ุงุฒ LaTeX

```txt
# [Code extracted to: code_block_124.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_124.txt
```

---

### ุงุณูพุฑูุช S09: ุชุจุฏูโฺฏุฑ LaTeX โ MDX (ูพุดุฑูุชู)

#### ฺุช ฑ: ูุฏุฑุช ฺฉุชุงุจ ฺูุฏูุตู

```txt
# [Code extracted to: code_block_125.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_125.txt
```

#### ฺุช ฒ: ุญุฐู ุฏุณุชูุฑุงุช ุบุฑุถุฑูุฑ LaTeX

```txt
# [Code extracted to: code_block_126.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_126.txt
```

#### ฺุช ณ: TikZ โ SVG Pipeline

```txt
# [Code extracted to: code_block_127.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_127.txt
```

#### ฺุช ด: ุชุณุช E2E ูุงุชฺฉุณ

```txt
# [Code extracted to: code_block_128.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_128.txt
```

---

### ุงุณูพุฑูุช S10: ุชุณุช ฺฉูุช + ูุชุงุฏุชุง

#### ฺุช ฑ: ุชุณุชโูุง ฺฉูุช

```txt
# [Code extracted to: code_block_129.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_129.txt
```

#### ฺุช ฒ: ูุชุงุฏุชุง + AI Completer

```txt
# [Code extracted to: code_block_130.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_130.txt
```

#### ฺุช ณ: Pre-flight Check (Stage 2.5)

```txt
# [Code extracted to: code_block_131.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_131.txt
```

---

### ุงุณูพุฑูุช S11: ุงุณุชูุฑุงุฑ + ฺฏุฒุงุฑุด

#### ฺุช ฑ: ุงุณุชูุฑุงุฑ ุฎุฑูุฌ

```txt
# [Code extracted to: code_block_132.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_132.txt
```markdown
### ุงุณูพุฑูุช S11: ุงุณุชูุฑุงุฑ + ฺฏุฒุงุฑุด (ุงุฏุงูู)

#### ฺุช ฑ (ุงุฏุงูู): ุงุณุชูุฑุงุฑ ุฎุฑูุฌ

3. formatforge/core/deployer/deployer.py:
   - Deployer
     - deploy(organized, target_dir, config) โ DeployReport
     - backup_existing(target_dir)
     - validate_deployment(target_dir)
     - generate_ancillary_files:
         _series.json (ุจุฑุง ฺฉุชุงุจ)
         bibliography.json
     - update_cross_chapter_links(mdx_files)
     - git_operations (ุงุฎุชุงุฑ):
         create_branch(name)
         stage_files(paths)
         commit(message)

   - DeployReport:
       target_dir: str
       mdx_files: list[str]
       asset_files: list[str]
       total_size: int
       links_updated: int
       warnings: list[str]

+ tests/test_deployer.py
```

#### ฺุช ฒ: ฺฏุฒุงุฑุด ูุฑฺฉุฒ

```
[Context] ุณุงุฎุชุงุฑ ฺฏุฒุงุฑุด ุงุฒ ูพุฑุงููพุช (ุจุฎุด ด.ถ)

[Prompt]
1. formatforge/reports/central_log.py:
   - CentralLog
     - __init__(log_path)
     - add_conversion(result: ConversionResult) โ str (conv_id)
     - get_conversion(conv_id) โ ConversionEntry
     - get_recent(n) โ list[ConversionEntry]
     - search(query) โ list[ConversionEntry]
     - get_statistics() โ Statistics
     - is_slug_used(slug) โ bool
     - register_slug(slug, conv_id)
     - export(format="yaml"|"json"|"csv") โ str

   - ConversionEntry(Pydantic):
       id, timestamp, status, input, output,
       metadata, stats, warnings, errors

   - Statistics:
       total_conversions, success_rate,
       by_format, by_language, by_type,
       avg_quality, slugs_used

2. formatforge/reports/report_engine.py:
   - ReportEngine
     - generate_summary(log) โ str (Rich formatted)
     - generate_html_report(log) โ str
     - generate_detail(conv_id) โ str

+ tests/test_central_log.py
```

#### ฺุช ณ: CLI Commands ุชฺฉูู

```
[Prompt]
ุชฺฉูู CLI commands:

1. formatforge/cli/commands/deploy.py:
   - @click.command()
   - @click.argument('source')
   - @click.option('--target', '-t')
   - @click.option('--git-commit/--no-git-commit')
   - @click.option('--open-editor/--no-open-editor')
   - ููุงุด ูพุดุฑูุช ุจุง Rich Progress
   - ุชุฃุฏ ุชุนุงูู ูุจู ุงุฒ ุงุณุชูุฑุงุฑ

2. formatforge/cli/commands/report.py:
   - report list --last N
   - report show CONV_ID
   - report stats
   - report search QUERY
   - report export --format csv --output FILE

3. formatforge/cli/commands/run.py (all-in-one):
   - ุงุฌุฑุง ุชุฑุชุจ: scan โ metadata โ preflight โ convert โ test โ deploy
   - @click.option('--interactive/--batch')
   - @click.option('--quality-min', default=80)
   - @click.option('--auto-fix/--no-auto-fix')
   - Rich Progress ุจุง ูุฑุงุญู
   - ุฎูุงุตู ููุง

+ ุชุณุช integration ุจุฑุง run command
```txt
# [Code extracted to: code_block_135.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_135.txt
```
[Prompt]
formatforge/core/pipeline.py:
- ConversionPipeline

  def __init__(config: AppConfig)

  def run(
      input_path: str,
      output_path: str,
      interactive: bool = True,
      quality_min: int = 80,
      auto_fix: bool = False,
  ) โ PipelineResult:

    ูุฑุงุญู:
    โโโโโโ
    1. scanner.scan(input_path)
       โ ScanReport
       โ ุชุฃุฏ (ุงฺฏุฑ interactive)

    2. metadata.extract_and_complete(scan_report)
       โ list[DocumentMetadata]
       โ ุชุฃุฏ (ุงฺฏุฑ interactive)

    3. preflight.check(scan_report, metadata)
       โ PreflightReport
       โ ุงุตูุงุญ ุฎูุฏฺฉุงุฑ (ุงฺฏุฑ auto_fix)
       โ ุชุฃุฏ (ุงฺฏุฑ interactive)

    4. for each document:
         converter = registry.get_converter(format)
         result = converter.convert(path, config)
         โ ConversionResult + ููุงุด ูพุดุฑูุช

    5. quality.test_all(results)
       โ QualityReport
       โ ุงฺฏุฑ score < quality_min: ูุดุฏุงุฑ

    6. deployer.deploy(results, output_path, config)
       โ DeployReport

    7. central_log.add_conversion(...)
       โ ฺฏุฒุงุฑุด ููุง

  - PipelineResult:
      scan: ScanReport
      metadata: list[DocumentMetadata]
      preflight: PreflightReport
      conversions: list[ConversionResult]
      quality: QualityReport
      deployment: DeployReport
      log_id: str
      total_duration: float

+ tests/test_pipeline.py
```

#### ฺุช ฒ: ุชุณุชโูุง E2E ฺฉุงูู

```
[Prompt]
tests/test_e2e_full.py:

ุณูุงุฑู ฑ: ุชฺฉ ููุงูู LaTeX
  ูุฑูุฏ: sample-book.tex (ูุงู ูุง)
  ุฎุฑูุฌ: ูพูุดู MDX ุจุง ต ูุตู
  ุจุฑุฑุณ: ุชูุงู ตฐ+ ุนูุตุฑ

ุณูุงุฑู ฒ: ุชฺฉ ููุงูู Markdown
  ูุฑูุฏ: sample-mermaid.md (ูุงู ูุง)
  ุฎุฑูุฌ: ุชฺฉ ูุงู MDX
  ุจุฑุฑุณ: ฑธ ููุน Mermaid + ุฑุงุถ + ุฌุฏุงูู

ุณูุงุฑู ณ: ุตูุญู HTML
  ูุฑูุฏ: sample-page.html (ูุงู ูุง)
  ุฎุฑูุฌ: ุชฺฉ ูุงู MDX
  ุจุฑุฑุณ: ุฑุณุงูู + ูุฑู + ุนูุงุตุฑ ุฎุงุต HTML

ุณูุงุฑู ด: ูพูุดู ุชุฑฺฉุจ
  ูุฑูุฏ: ูพูุดู ุดุงูู .tex + .md + .html
  ุฎุฑูุฌ: ูพูุดูโูุง MDX ูุฌุฒุง
  ุจุฑุฑุณ: ูุฑ ูุงู ูุณุชูู ุชุจุฏู ุดุฏู

ุณูุงุฑู ต: ูุงู ZIP
  ูุฑูุฏ: sample-book.zip (ุญุงู ูพุฑูฺู LaTeX)
  ุฎุฑูุฌ: ูพูุดู MDX
  ุจุฑุฑุณ: ุงุณุชุฎุฑุงุฌ + ุชุจุฏู + ุงุณุชูุฑุงุฑ

ุณูุงุฑู ถ: Pipeline ฺฉุงูู
  ูุฑูุฏ: sample-book.tex
  ุฎุฑูุฌ: deploy ุดุฏู ุฏุฑ target_dir
  ุจุฑุฑุณ: ุชูุงู ถ ูุฑุญูู + ฺฏุฒุงุฑุด ูุฑฺฉุฒ

ูุฑ ุณูุงุฑู:
  - assert quality_score >= 85
  - assert zwnj_count_before == zwnj_count_after
  - assert all_math_parseable
  - assert all_images_exist
  - assert all_links_valid
  - assert frontmatter_valid
  - assert jsx_compiles
```

#### ฺุช ณ: Doctor + Init Components

```
[Prompt]
1. formatforge/cli/commands/doctor.py (ุชฺฉูู):
   - ุจุฑุฑุณ ุชูุงู ูุงุจุณุชฺฏโูุง:
     โ/โ Python 3.11+
     โ/โ pandoc
     โ/โ xelatex (TeX Live / MiKTeX)
     โ/โ biber
     โ/โ dvisvgm
     โ/โ node.js
     โ/โ mermaid-cli (@mermaid-js/mermaid-cli)
     โ/โ ImageMagick
     โ/โ SVGO
     โ/โ Tesseract OCR (ุงุฎุชุงุฑ)
   - ุจุฑุฑุณ ูููุชโูุง:
     โ/โ Vazirmatn
     โ/โ IRLotus (ุงุฎุชุงุฑ)
   - ุจุฑุฑุณ ุชูุธูุงุช:
     โ/โ config file exists
     โ/โ target directory writable
   - ูพุดููุงุฏ ูุตุจ ุจุฑุง ูุฑ ููุฑุฏ ูุงููุฌูุฏ

2. formatforge/cli/commands/init_components.py:
   - ุชููุฏ ฺฉุงููพูููุชโูุง MDX:
     --framework: next | astro | gatsby
     --typescript / --javascript
     --output: ูุณุฑ ุฎุฑูุฌ
   - ฺฉุงููพูููุชโูุง ุงุฒ templates/ ฺฉูพ ู ุณูุงุฑุด ูโุดููุฏ
   - CSS ุชููุฏ ูโุดูุฏ

3. README.md ู CONTRIBUTING.md

+ tests/test_doctor.py
```

#### ฺุช ด: ูุณุชูุฏุณุงุฒ ููุง

```
[Prompt]
1. docs/README.md โ ูุณุชูุฏ ุงุตู:
   - ูุตุจ
   - ุดุฑูุน ุณุฑุน
   - ูุซุงูโูุง
   - ุชูุธูุงุช
   - ูุฑูุชโูุง ูพุดุชุจุงูโุดุฏู

2. docs/PERSIAN_GUIDE.md โ ุฑุงูููุง ูุงุฑุณ:
   - ูฺฉุงุช ZWNJ
   - ุชูุธูุงุช RTL
   - ูููุชโูุง
   - ุชุงูพูฺฏุฑุงู

3. docs/CONVERSION_RULES.md โ ููุงุนุฏ ุชุจุฏู:
   - ุฌุฏูู ูฺฏุงุดุช ูุฑ ูุฑูุช
   - ูุญุฏูุฏุชโูุง
   - Troubleshooting

4. docs/COMPONENTS.md โ ูุณุชูุฏ ฺฉุงููพูููุชโูุง:
   - ูุฑ ฺฉุงููพูููุช: props, ูุซุงู, screenshot
```

---

## ุฌุฏูู ุฎูุงุตู: ูุงูโูุงุ ฺุชโูุงุ ู ุงูููุช

```
ูุงู                                    โ ุงุณูพุฑูุช โ ฺุช โ ุงูููุช โ ูุงุจุณุชฺฏ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
pyproject.toml                          โ  S01    โ 1  โ  P0    โ โ
models/metadata.py                      โ  S01    โ 2  โ  P0    โ โ
models/scan_report.py                   โ  S01    โ 2  โ  P0    โ โ
models/conversion_result.py             โ  S01    โ 2  โ  P0    โ โ
config/schema.py + loader.py            โ  S01    โ 3  โ  P0    โ models
cli/__main__.py + commands (skeleton)   โ  S01    โ 4  โ  P0    โ config
converters/base.py                      โ  S01    โ 5  โ  P0    โ models
processors/base.py                      โ  S01    โ 5  โ  P0    โ models
utils/logger.py + file_utils.py         โ  S01    โ 6  โ  P0    โ โ
utils/text_utils.py                     โ  S01    โ 6  โ  P0    โ โ
exceptions.py                           โ  S01    โ 1  โ  P0    โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
scanner/file_detector.py                โ  S02    โ 1  โ  P0    โ utils
scanner/structure_analyzer.py           โ  S02    โ 2  โ  P0    โ file_detector
scanner/archive_handler.py              โ  S02    โ 3  โ  P1    โ utils
scanner/scanner.py                      โ  S02    โ 4  โ  P0    โ all scanner
cli/commands/scan.py (complete)         โ  S02    โ 4  โ  P0    โ scanner
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
persian/zwnj_handler.py                 โ  S03    โ 1  โ  P0    โ โ
persian/bidi_handler.py                 โ  S03    โ 2  โ  P0    โ โ
persian/typography.py                   โ  S03    โ 3  โ  P0    โ โ
processors/rtl_processor.py             โ  S03    โ 4  โ  P0    โ persian/*
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
processors/math_processor.py            โ  S04    โ 1  โ  P0    โ base
processors/code_processor.py            โ  S04    โ 2  โ  P0    โ base
processors/link_processor.py            โ  S04    โ 3  โ  P0    โ base
processors/bibliography_processor.py    โ  S04    โ 4  โ  P1    โ link
processors/footnote_processor.py        โ  S04    โ 4  โ  P0    โ link
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
processors/table_processor.py           โ  S05    โ 1  โ  P0    โ base
processors/image_processor.py           โ  S05    โ 2  โ  P0    โ base
processors/diagram_processor.py         โ  S05    โ 3  โ  P1    โ base
processors/admonition_processor.py      โ  S05    โ 4  โ  P0    โ base
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
converters/md_to_mdx.py                 โ  S06    โ 1  โ  P0    โ processors
converters/jsx_utils.py                 โ  S06    โ 2  โ  P0    โ โ
test_e2e_markdown.py                    โ  S06    โ 3  โ  P0    โ md_to_mdx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
converters/html_to_mdx.py              โ  S07    โ 1  โ  P0    โ processors
converters/html_elements.py            โ  S07    โ 2  โ  P1    โ html_to_mdx
test_e2e_html.py                       โ  S07    โ 3  โ  P0    โ html_to_mdx
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
converters/latex_parser.py              โ  S08    โ 1  โ  P0    โ โ
converters/latex_to_mdx.py (structure)  โ  S08    โ 2  โ  P0    โ parser
converters/latex_to_mdx.py (envs)      โ  S08    โ 3  โ  P0    โ structure
converters/latex_metadata.py            โ  S08    โ 4  โ  P0    โ parser
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
converters/latex_book_converter.py      โ  S09    โ 1  โ  P1    โ latex_to_mdx
converters/latex_cleaner.py             โ  S09    โ 2  โ  P0    โ โ
processors/tikz_compiler.py             โ  S09    โ 3  โ  P1    โ โ
test_e2e_latex.py                       โ  S09    โ 4  โ  P0    โ all latex
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
quality/* (6 files)                     โ  S10    โ 1  โ  P0    โ models
metadata/extractor.py                   โ  S10    โ 2  โ  P0    โ models
metadata/slug_generator.py              โ  S10    โ 2  โ  P0    โ persian
metadata/validator.py                   โ  S10    โ 2  โ  P0    โ models
ai/metadata_ai.py                       โ  S10    โ 2  โ  P2    โ config
quality/preflight.py                    โ  S10    โ 3  โ  P0    โ quality
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
deployer/file_organizer.py              โ  S11    โ 1  โ  P0    โ models
deployer/asset_manager.py               โ  S11    โ 1  โ  P0    โ image_proc
deployer/deployer.py                    โ  S11    โ 1  โ  P0    โ organizer
reports/central_log.py                  โ  S11    โ 2  โ  P0    โ models
reports/report_engine.py                โ  S11    โ 2  โ  P1    โ central_log
cli/commands (deploy,report,run)        โ  S11    โ 3  โ  P0    โ deployer
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
core/pipeline.py                        โ  S12    โ 1  โ  P0    โ ALL
test_e2e_full.py                        โ  S12    โ 2  โ  P0    โ pipeline
cli/commands/doctor.py (complete)       โ  S12    โ 3  โ  P1    โ โ
cli/commands/init_components.py         โ  S12    โ 3  โ  P1    โ templates
docs/*                                  โ  S12    โ 4  โ  P1    โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฟโโโโโโโโโโฟโโโโโฟโโโโโโโโโฟโโโโโโโโ
ูุฌููุน ูุงูโูุง: ~55                     โ ฑฒ ุงุณูพุฑูุช โ ~60 ฺุช โ       โ
```txt
# [Code extracted to: code_block_140.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_140.txt
```markdown
# [System Prompt ุซุงุจุช โ ููุงู ุจุฎุด ุจุงูุง]

---

## Context: [ูุงู ูุงฺูู]

### ูุงูโูุง ฺฉู ูุจูุงู ุณุงุฎุชูโุงู (interface ูุง):
```python
# [Code extracted to: code_block_141.py]
# See: output\formatForge_20260215_164352\code_blocks\code_block_141.py
```

### ูุงูโูุง ฺฉู ุงูุงู ุจุงุฏ ุจุณุงุฒู:
1. `formatforge/core/converters/md_to_mdx.py`
2. `tests/test_md_to_mdx.py`

### ูุดุฎุตุงุช ุฏูู:
[ุจุฎุด ูุฑุจูุทู ุงุฒ ูพุฑุงููพุช ุงุตู โ ฺฉูพโุดุฏู]

### ููููู ูุฑูุฏ/ุฎุฑูุฌ:
```
ูุฑูุฏ: ```mermaid\nflowchart TD\n  A-->B\n```txt
# [Code extracted to: code_block_143.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_143.txt
```

### ูุทูุงู:
1. ฺฉุฏ ฺฉุงูู ูุงู(ูุง) ุฑุง ุจููุณ
2. type hints ฺฉุงูู
3. docstring ูุงุฑุณ+ุงูฺฏูุณ
4. error handling
5. ุชุณุชโูุง ูุงุญุฏ (pytest) ุจุง ุญุฏุงูู ต ููุฑุฏ
6. ุชูุถุญ ุชุตููุงุช ุทุฑุงุญ (ุงฺฏุฑ ฺูุฏ ฺฏุฒูู ุจูุฏ)
```

### ูุงูุจ ูพุงูโูุง ุงุฏุงูู ุฏุฑ ููุงู ฺุช

```markdown
ุฎูุจ ุจูุฏ. ูุทูุงู:
1. [ูุชุฏ X] ุฑุง ุงุถุงูู ฺฉู
2. ุชุณุช ุจุฑุง [ุณูุงุฑู Y] ุจููุณ
3. [ุจุงฺฏ Z] ุฑุง ุงุตูุงุญ ฺฉู
```

---

## ูฺฉุงุช ุนูู ูุฏุฑุช ฺุชโูุง

### โ ุจุงุฏูุง

```
1. ูุฑ ฺุช = ฺฉ ูุงฺูู ูุดุฎุต (ฑ-ฒ ูุงู)
2. System Prompt ุซุงุจุช ุฏุฑ ุงุจุชุฏุง ูุฑ ฺุช
3. Interface ูุงูโูุง ูุงุจุณุชู ุฑุง ฺฉูพ ฺฉูุฏ (ูู ฺฉู ูุงู)
4. ููููู ูุฑูุฏ/ุฎุฑูุฌ ูุงูุน ุจุฏูุฏ
5. ุจูุงูุงุตูู ฺฉุฏ ุฑุง ุชุณุช ฺฉูุฏ ูุจู ุงุฒ ุฑูุชู ุจู ฺุช ุจุนุฏ
6. ุงฺฏุฑ ุฎุฑูุฌ ูุงูุต ุจูุฏ: "ุงุฏุงูู ุจุฏู" (ูู ุดุฑูุน ูุฌุฏุฏ)
7. ูุชุงุฌ ูุฑ ฺุช ุฑุง ุฏุฑ ฺฉ ูุงู CHANGELOG.md ุซุจุช ฺฉูุฏ
8. ูุฑ ฺุช ุฑุง ุจุง "ุชุณุชโูุง ุฑุง ุงุฌุฑุง ฺฉุฑุฏูุ ด/ต ูพุงุณ ุดุฏ. ุชุณุช ณ ุฎุทุง X ุฏุงุฑุฏ."
   ุดุฑูุน ฺฉูุฏ (ุฏุฑ ุตูุฑุช ุฑูุน ุจุงฺฏ)
```

### โ ูุจุงุฏูุง

```
1. ฺฉู ูพุฑุงููพุช ณฐK ุชูฺฉู ุฑุง ฺฉุฌุง ุงุฑุณุงู ูฺฉูุฏ
2. ุจุด ุงุฒ ฒ ูุงู ุฏุฑ ฺฉ ฺุช ุฏุฑุฎูุงุณุช ูฺฉูุฏ
3. ุจุฏูู ุชุณุชุ ุจู ูุงฺูู ุจุนุฏ ูุฑูุฏ
4. ฺฉุฏ ูุจู ุฑุง ูุฌุฏุฏ ุชููุฏ ูฺฉูุฏ โ ููุท import ฺฉูุฏ
5. ุฏุฑ ฺฉ ฺุชุ context ูุงฺูู ุฏฺฏุฑ ุฑุง ูุงุฑุฏ ูฺฉูุฏ
```

### ๐ ูุฑูุช ุซุจุช ูพุดุฑูุช

```yaml
# progress.yaml โ ุจุนุฏ ุงุฒ ูุฑ ฺุช ุจุฑูุฒุฑุณุงู ุดูุฏ

sprint: S06
chat: 2
date: "2025-07-15"

completed:
  - file: "converters/md_to_mdx.py"
    status: "done"
    tests: "5/5 passed"
    notes: "Mermaid conversion OK, callouts OK"
  
  - file: "converters/jsx_utils.py"
    status: "done"
    tests: "8/8 passed"

in_progress:
  - file: "test_e2e_markdown.py"
    status: "partial"
    blockers: "Mermaid rendering needs mermaid-cli installed"

next_chat:
  sprint: S06
  chat: 3
  target: "test_e2e_markdown.py completion"
  context_needed:
    - "md_to_mdx.py interface"
    - "sample-mermaid.md (first 50 lines)"
```

---

## ูููุฏุงุฑ ูุงุจุณุชฺฏ ุณุงุฎุช (Build Order)

```
S01 โโโ models + config + CLI skeleton + base classes + utils
  โ
  โโโ S02 โโโ scanner (file_detector โ structure โ archive โ scanner)
  โ
  โโโ S03 โโโ persian (zwnj โ bidi โ typography โ rtl_processor)
  โ     โ
  โ     โโโโ
  โ        โ
  โโโ S04 โโคโโ processors/base (math โ code โ link โ footnote โ bibliography)
  โ        โ
  โ     โโโโ
  โ     โ
  โโโ S05 โโโ processors/advanced (table โ image โ diagram โ admonition)
  โ     โ
  โ     โโโโโโโโโโโโโโโโโโโโโโโ
  โ     โ                     โ
  โโโ S06 โโโ MDโMDX          โ
  โ     โ                     โ
  โโโ S07 โโโ HTMLโMDX        โ
  โ     โ                     โ
  โโโ S08 โโโ LaTeXโMDX (base)โ
  โ     โ                     โ
  โโโ S09 โโโ LaTeXโMDX (adv) โ
  โ     โ                     โ
  โ     โโโโโโโโโโโโโโโโโโโโโโโ
  โ              โ
  โโโ S10 โโโ quality + metadata + preflight
  โ              โ
  โโโ S11 โโโ deployer + reports + CLI commands
  โ              โ
  โโโ S12 โโโ pipeline + E2E + doctor + docs
```

---

## ููุทูโูุง ุจุฑุฑุณ (Checkpoints)

```
ุจุนุฏ ุงุฒ S03: โ ูุงฺูู ูุงุฑุณ ฺฉุงูู โ ุชุณุช ูุณุชูู ZWNJ/bidi
ุจุนุฏ ุงุฒ S05: โ ุชูุงู ูพุฑุฏุงุฒุดฺฏุฑูุง โ ุชุณุช ูุณุชูู ูุฑ ฺฉุฏุงู
ุจุนุฏ ุงุฒ S06: โ ุงููู ุชุจุฏูโฺฏุฑ ฺฉุงูู (MDโMDX) โ E2E ุชุณุช
ุจุนุฏ ุงุฒ S09: โ ุณู ุชุจุฏูโฺฏุฑ ุงุตู (MD+HTML+LaTeX) โ E2E ุชุณุช
ุจุนุฏ ุงุฒ S12: โ ูุญุตูู ฺฉุงูู โ Full E2E + Doctor + Deploy
```

---

## ุณุงุฎุชุงุฑ ูุงู ููุง ูพุฑูฺู

```
formatforge/
โ
โโโ pyproject.toml
โโโ Makefile
โโโ README.md
โโโ LICENSE
โ
โโโ config/
โ   โโโ default_config.yaml
โ   โโโ user_config.yaml.example
โ
โโโ formatforge/
โ   โโโ __init__.py
โ   โโโ exceptions.py
โ   โ
โ   โโโ models/
โ   โ   โโโ __init__.py
โ   โ   โโโ metadata.py              # S01-C2
โ   โ   โโโ scan_report.py           # S01-C2
โ   โ   โโโ conversion_result.py     # S01-C2
โ   โ
โ   โโโ config/
โ   โ   โโโ __init__.py
โ   โ   โโโ schema.py                # S01-C3
โ   โ   โโโ loader.py                # S01-C3
โ   โ
โ   โโโ utils/
โ   โ   โโโ __init__.py
โ   โ   โโโ logger.py                # S01-C6
โ   โ   โโโ file_utils.py            # S01-C6
โ   โ   โโโ text_utils.py            # S01-C6
โ   โ
โ   โโโ cli/
โ   โ   โโโ __init__.py
โ   โ   โโโ __main__.py              # S01-C4
โ   โ   โโโ interactive.py           # S11-C3
โ   โ   โโโ commands/
โ   โ       โโโ __init__.py
โ   โ       โโโ scan.py              # S02-C4
โ   โ       โโโ convert.py           # S11-C3
โ   โ       โโโ test_cmd.py          # S11-C3
โ   โ       โโโ deploy.py            # S11-C3
โ   โ       โโโ report.py            # S11-C3
โ   โ       โโโ run.py               # S11-C3
โ   โ       โโโ doctor.py            # S12-C3
โ   โ       โโโ init_components.py   # S12-C3
โ   โ
โ   โโโ core/
โ   โ   โโโ __init__.py
โ   โ   โโโ pipeline.py              # S12-C1
โ   โ   โ
โ   โ   โโโ scanner/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ file_detector.py     # S02-C1
โ   โ   โ   โโโ structure_analyzer.py# S02-C2
โ   โ   โ   โโโ archive_handler.py   # S02-C3
โ   โ   โ   โโโ scanner.py           # S02-C4
โ   โ   โ
โ   โ   โโโ metadata/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ extractor.py         # S10-C2
โ   โ   โ   โโโ slug_generator.py    # S10-C2
โ   โ   โ   โโโ validator.py         # S10-C2
โ   โ   โ
โ   โ   โโโ converters/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ base.py              # S01-C5
โ   โ   โ   โโโ jsx_utils.py         # S06-C2
โ   โ   โ   โโโ md_to_mdx.py         # S06-C1
โ   โ   โ   โโโ html_to_mdx.py       # S07-C1
โ   โ   โ   โโโ html_elements.py     # S07-C2
โ   โ   โ   โโโ latex_parser.py      # S08-C1
โ   โ   โ   โโโ latex_to_mdx.py      # S08-C2,C3
โ   โ   โ   โโโ latex_metadata.py    # S08-C4
โ   โ   โ   โโโ latex_book_converter.py # S09-C1
โ   โ   โ   โโโ latex_cleaner.py     # S09-C2
โ   โ   โ
โ   โ   โโโ processors/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ base.py              # S01-C5
โ   โ   โ   โโโ math_processor.py    # S04-C1
โ   โ   โ   โโโ code_processor.py    # S04-C2
โ   โ   โ   โโโ link_processor.py    # S04-C3
โ   โ   โ   โโโ footnote_processor.py# S04-C4
โ   โ   โ   โโโ bibliography_processor.py # S04-C4
โ   โ   โ   โโโ table_processor.py   # S05-C1
โ   โ   โ   โโโ image_processor.py   # S05-C2
โ   โ   โ   โโโ diagram_processor.py # S05-C3
โ   โ   โ   โโโ tikz_compiler.py     # S09-C3
โ   โ   โ   โโโ admonition_processor.py # S05-C4
โ   โ   โ   โโโ rtl_processor.py     # S03-C4
โ   โ   โ
โ   โ   โโโ persian/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ zwnj_handler.py      # S03-C1
โ   โ   โ   โโโ bidi_handler.py      # S03-C2
โ   โ   โ   โโโ typography.py        # S03-C3
โ   โ   โ
โ   โ   โโโ quality/
โ   โ   โ   โโโ __init__.py
โ   โ   โ   โโโ structural_test.py   # S10-C1
โ   โ   โ   โโโ content_test.py      # S10-C1
โ   โ   โ   โโโ math_test.py         # S10-C1
โ   โ   โ   โโโ rtl_test.py          # S10-C1
โ   โ   โ   โโโ link_test.py         # S10-C1
โ   โ   โ   โโโ quality_score.py     # S10-C1
โ   โ   โ   โโโ preflight.py         # S10-C3
โ   โ   โ
โ   โ   โโโ deployer/
โ   โ       โโโ __init__.py
โ   โ       โโโ file_organizer.py    # S11-C1
โ   โ       โโโ asset_manager.py     # S11-C1
โ   โ       โโโ deployer.py          # S11-C1
โ   โ
โ   โโโ ai/
โ   โ   โโโ __init__.py
โ   โ   โโโ provider.py              # S10-C2
โ   โ   โโโ metadata_ai.py           # S10-C2
โ   โ
โ   โโโ reports/
โ   โ   โโโ __init__.py
โ   โ   โโโ central_log.py           # S11-C2
โ   โ   โโโ report_engine.py         # S11-C2
โ   โ
โ   โโโ templates/
โ       โโโ components/              # ูุงูุจ ฺฉุงููพูููุชโูุง
โ       โ   โโโ next/
โ       โ   โ   โโโ Theorem.jsx
โ       โ   โ   โโโ Definition.jsx
โ       โ   โ   โโโ Proof.jsx
โ       โ   โ   โโโ Admonition.jsx
โ       โ   โ   โโโ Figure.jsx
โ       โ   โ   โโโ MermaidDiagram.jsx
โ       โ   โ   โโโ Citation.jsx
โ       โ   โ   โโโ Bibliography.jsx
โ       โ   โ   โโโ CrossRef.jsx
โ       โ   โ   โโโ BilingualBlock.jsx
โ       โ   โ   โโโ styles/
โ       โ   โ       โโโ mdx-components.css
โ       โ   โ       โโโ rtl-overrides.css
โ       โ   โโโ astro/
โ       โ       โโโ ... (ูุดุงุจู)
โ       โโโ mdx/
โ           โโโ article.mdx.j2       # ูุงูุจ ููุงูู
โ           โโโ book_chapter.mdx.j2  # ูุงูุจ ูุตู ฺฉุชุงุจ
โ
โโโ tests/
โ   โโโ conftest.py
โ   โโโ test_files/                   # ูุงูโูุง ููููู ุชุณุช
โ   โ   โโโ sample-book.tex
โ   โ   โโโ sample-mermaid.md
โ   โ   โโโ sample-page.html
โ   โ   โโโ sample-page.rst
โ   โ   โโโ sample-page.adoc
โ   โ   โโโ figures/
โ   โ       โโโ placeholder.png
โ   โ
โ   โโโ test_models.py               # S01
โ   โโโ test_config.py               # S01
โ   โโโ test_file_utils.py           # S01
โ   โโโ test_text_utils.py           # S01
โ   โโโ test_file_detector.py        # S02
โ   โโโ test_structure_analyzer.py   # S02
โ   โโโ test_archive_handler.py      # S02
โ   โโโ test_scanner.py              # S02
โ   โโโ test_zwnj_handler.py         # S03
โ   โโโ test_bidi_handler.py         # S03
โ   โโโ test_typography.py           # S03
โ   โโโ test_rtl_processor.py        # S03
โ   โโโ test_math_processor.py       # S04
โ   โโโ test_code_processor.py       # S04
โ   โโโ test_link_processor.py       # S04
โ   โโโ test_footnote_processor.py   # S04
โ   โโโ test_bibliography_processor.py # S04
โ   โโโ test_table_processor.py      # S05
โ   โโโ test_image_processor.py      # S05
โ   โโโ test_diagram_processor.py    # S05
โ   โโโ test_admonition_processor.py # S05
โ   โโโ test_md_to_mdx.py           # S06
โ   โโโ test_jsx_utils.py           # S06
โ   โโโ test_html_to_mdx.py         # S07
โ   โโโ test_html_elements.py       # S07
โ   โโโ test_latex_parser.py        # S08
โ   โโโ test_latex_structure.py     # S08
โ   โโโ test_latex_environments.py  # S08
โ   โโโ test_latex_metadata.py      # S08
โ   โโโ test_latex_book.py          # S09
โ   โโโ test_latex_cleaner.py       # S09
โ   โโโ test_tikz_compiler.py       # S09
โ   โโโ test_quality.py             # S10
โ   โโโ test_metadata.py            # S10
โ   โโโ test_preflight.py           # S10
โ   โโโ test_deployer.py            # S11
โ   โโโ test_central_log.py         # S11
โ   โโโ test_pipeline.py            # S12
โ   โโโ test_doctor.py              # S12
โ   โ
โ   โโโ e2e/                         # ุชุณุชโูุง ุณุฑุชุงุณุฑ
โ       โโโ test_e2e_markdown.py     # S06
โ       โโโ test_e2e_html.py         # S07
โ       โโโ test_e2e_latex.py        # S09
โ       โโโ test_e2e_full.py         # S12
โ
โโโ docs/
    โโโ README.md
    โโโ PERSIAN_GUIDE.md
    โโโ CONVERSION_RULES.md
    โโโ COMPONENTS.md
    โโโ CONTRIBUTING.md
```

---

## ูุฑูุงูโูุง ุงุฌุฑุง ุงุณูพุฑูุชโูุง

```bash
# === ุดุฑูุน ูพุฑูฺู ===
mkdir formatforge && cd formatforge
git init
# ุณุงุฎุช ุณุงุฎุชุงุฑ ุงููู (S01-C1)

# === ูุฑ ุงุณูพุฑูุช ===
# 1. ุณุงุฎุช branch
git checkout -b sprint/S06-md-converter

# 2. ูพุงุฏูโุณุงุฒ (ุจุง LLM)
# ... ฺุชโูุง ุทุจู ุจุฑูุงูู ...

# 3. ุชุณุช
python -m pytest tests/ -v --tb=short

# 4. ูุฑุฌ
git checkout main
git merge sprint/S06-md-converter

# === ุจุฑุฑุณ ุณูุงูุช ===
# ุจุนุฏ ุงุฒ ูุฑ ุงุณูพุฑูุช:
python -m formatforge doctor
python -m pytest tests/ -v --cov=formatforge --cov-report=term-missing

# === ุชุณุช E2E ===
# ุจุนุฏ ุงุฒ S06, S07, S09, S12:
python -m pytest tests/e2e/ -v
```

---

## ุฎูุงุตู ููุง

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           FormatForge โ ูุฏู ุงุฌุฑุง ููุง               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                          โ
โ  ๐ฆ ูุญุตูู: ุงุจุฒุงุฑ CLI ุชุจุฏู ุงุณูุงุฏ ุจู MDX ูุงุฑุณ          โ
โ  ๐ฏ ุงูููุช ูุงุฒ ฑ: LaTeX + Markdown + HTML              โ
โ                                                          โ
โ  ๐ ูุนูุงุฑ: ถ ูุฑุญูู (Pipeline)                          โ
โ     Scan โ Metadata โ Preflight โ Convert โ Test โ Deployโ
โ                                                          โ
โ  ๐ ุจุฑูุงูู: ฑฒ ุงุณูพุฑูุช ร ณ-ต ุฑูุฒ = ~ถ ููุชู            โ
โ  ๐ฌ ฺุชโูุง LLM: ~ถฐ ฺุช (ูุฑ ฺฉุฏุงู ~10K ุชูฺฉู)            โ
โ  ๐ ูุงูโูุง: ~ตต ูุงู Python + ~ตต ูุงู ุชุณุช           โ
โ                                                          โ
โ  ๐ ูฺฉุชู ฺฉูุฏ: System Prompt ุซุงุจุช ฒK ุชูฺฉู              โ
โ     + Context ูุงฺูู ฑ.ตK + Prompt ฐ.ตK = ~4K ูุฑูุฏ     โ
โ     โ ูุถุง ฺฉุงู ุจุฑุง ธK+ ุฎุฑูุฌ                         โ
โ                                                          โ
โ  โ Checkpoints:                                         โ
โ     S03: ูุงฺูู ูุงุฑุณ ฺฉุงูู                               โ
โ     S06: ุงููู ุชุจุฏูโฺฏุฑ (MDโMDX) โ ูุงุจู ุงุณุชูุงุฏู        โ
โ     S09: ุณู ุชุจุฏูโฺฏุฑ ุงุตู โ ูุญุตูู MVP                  โ
โ     S12: ูุญุตูู ฺฉุงูู                                      โ
โ                                                          โ
โ  โ ูุงููู ุทูุง:                                         โ
โ     ยซููโูุงุตูู ูุฑฺฏุฒ ุญุฐู ูุดูุฏยป                           โ
โ     ุดูุงุฑุด ZWNJ ูุจู/ุจุนุฏ ูุฑ ุชุจุฏู = ุจุฑุงุจุฑ                โ
โ                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```txt
# [Code extracted to: code_block_153.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_153.txt
```powershell
# ============================================================
#  S01-C1: FormatForge โ ุณุงุฎุช ุณุงุฎุชุงุฑ ูพุฑูฺู
#  ุงุฌุฑุง: .\init-project.ps1 [-ProjectRoot "C:\Projects\formatforge"]
# ============================================================

param(
    [string]$ProjectRoot = ".\formatforge"
)

$ErrorActionPreference = "Stop"
$Utf8Bom = [System.Text.UTF8Encoding]::new($true)

# --- ุฑูฺฏโูุง ---
function Write-Step  { param($m) Write-Host "  ๐ $m" -ForegroundColor Cyan }
function Write-File  { param($m) Write-Host "    ๐ $m" -ForegroundColor Green }
function Write-Title { param($m) Write-Host "`n$m" -ForegroundColor Yellow }

# --- ุชุงุจุน ุฐุฎุฑู ูุงู ---
function Save-File {
    param(
        [string]$RelPath,
        [string]$Content
    )
    $fullPath = Join-Path $ProjectRoot $RelPath
    $dir = Split-Path $fullPath -Parent
    if (-not (Test-Path $dir)) {
        New-Item -ItemType Directory -Force -Path $dir | Out-Null
    }
    [System.IO.File]::WriteAllText($fullPath, $Content, $Utf8Bom)
    Write-File $RelPath
}

# ============================================================
Write-Host @"

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ง FormatForge โ S01-C1: ุณุงุฎุช ุณุงุฎุชุงุฑ ูพุฑูฺู  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

"@ -ForegroundColor Magenta

Write-Title "ฑ. ุณุงุฎุช ุณุงุฎุชุงุฑ ูพูุดูโูุง..."

# --- ุณุงุฎุชุงุฑ ูพูุดูโูุง ---
$directories = @(
    # Root
    "config"
    "docs"
    # Main package
    "formatforge"
    "formatforge/models"
    "formatforge/config"
    "formatforge/utils"
    "formatforge/cli"
    "formatforge/cli/commands"
    "formatforge/core"
    "formatforge/core/scanner"
    "formatforge/core/metadata"
    "formatforge/core/converters"
    "formatforge/core/processors"
    "formatforge/core/persian"
    "formatforge/core/quality"
    "formatforge/core/deployer"
    "formatforge/ai"
    "formatforge/reports"
    "formatforge/templates"
    "formatforge/templates/components/next"
    "formatforge/templates/components/next/styles"
    "formatforge/templates/components/astro"
    "formatforge/templates/mdx"
    # Tests
    "tests"
    "tests/test_files"
    "tests/test_files/figures"
    "tests/e2e"
)

foreach ($dir in $directories) {
    $fullDir = Join-Path $ProjectRoot $dir
    New-Item -ItemType Directory -Force -Path $fullDir | Out-Null
    Write-Step $dir
}

# ============================================================
Write-Title "ฒ. ุณุงุฎุช ูุงูโูุง ูพุฑูฺู..."
# ============================================================

# ----------------------------------------------------------
# pyproject.toml
# ----------------------------------------------------------
Save-File "pyproject.toml" @'
[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "formatforge"
version = "0.1.0"
description = "ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ฺูุฏูุฑูุช ุจู MDX โ ุจุง ูพุดุชุจุงู ฺฉุงูู ูุงุฑุณ"
readme = "README.md"
license = { text = "MIT" }
requires-python = ">=3.11"
authors = [
    { name = "Mahdi Salem", email = "ali@example.com" },
]
keywords = ["mdx", "latex", "markdown", "converter", "persian", "rtl"]
classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Science/Research",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Topic :: Text Processing :: Markup :: LaTeX",
    "Topic :: Text Processing :: Markup :: HTML",
    "Topic :: Text Processing :: Markup :: Markdown",
    "Natural Language :: Persian",
]

dependencies = [
    # CLI
    "click>=8.1",
    "rich>=13.7",
    # Data
    "pyyaml>=6.0",
    "pydantic>=2.5",
    "pydantic-settings>=2.1",
    # File detection
    "chardet>=5.2",
    # Conversion
    "beautifulsoup4>=4.12",
    "lxml>=5.1",
    "python-docx>=1.1",
    "pymupdf>=1.23",
    "pylatexenc>=2.10",
    # Image
    "pillow>=10.2",
    # Templates
    "jinja2>=3.1",
    # Logging
    "loguru>=0.7",
]

[project.optional-dependencies]
ai = [
    "openai>=1.35",
    "anthropic>=0.30",
]
visual = [
    "playwright>=1.44",
]
dev = [
    "pytest>=8.0",
    "pytest-cov>=5.0",
    "pytest-asyncio>=0.23",
    "ruff>=0.4",
    "mypy>=1.10",
    "pre-commit>=3.7",
]
all = ["formatforge[ai,visual,dev]"]

[project.scripts]
formatforge = "formatforge.cli.__main__:cli"

[tool.hatch.build.targets.wheel]
packages = ["formatforge"]

[tool.pytest.ini_options]
testpaths = ["tests"]
addopts = "-v --tb=short"
markers = [
    "slow: marks tests as slow",
    "e2e: end-to-end tests",
    "requires_xelatex: requires XeLaTeX installed",
    "requires_pandoc: requires Pandoc installed",
    "requires_node: requires Node.js installed",
]

[tool.ruff]
target-version = "py311"
line-length = 100

[tool.ruff.lint]
select = ["E", "F", "W", "I", "N", "UP", "B", "SIM"]

[tool.mypy]
python_version = "3.11"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
'@

# ----------------------------------------------------------
# .gitignore
# ----------------------------------------------------------
Save-File ".gitignore" @'
# Python
__pycache__/
*.py[cod]
*$py.class
*.egg-info/
dist/
build/
.eggs/
*.egg

# Virtual environment
.venv/
venv/
env/

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db
desktop.ini

# LaTeX
*.aux
*.log
*.synctex*
*.fls
*.fdb_latexmk
*.bbl
*.blg
*.bcf
*.run.xml
*.out
*.toc
*.lof
*.lot

# FormatForge
config/user_config.yaml
.formatforge/
*.temp/

# Test output
tests/output/
tests/temp/

# Coverage
htmlcov/
.coverage
coverage.xml
'@

# ----------------------------------------------------------
# Makefile
# ----------------------------------------------------------
Save-File "Makefile" @'
.PHONY: install dev test lint format clean doctor run

install:
	pip install -e .

dev:
	pip install -e ".[all]"

test:
	python -m pytest tests/ -v --tb=short

test-cov:
	python -m pytest tests/ -v --cov=formatforge --cov-report=term-missing

test-e2e:
	python -m pytest tests/e2e/ -v -m e2e

lint:
	ruff check formatforge/ tests/
	mypy formatforge/

format:
	ruff format formatforge/ tests/
	ruff check --fix formatforge/ tests/

clean:
	rm -rf build/ dist/ *.egg-info/ __pycache__/ .pytest_cache/ htmlcov/ .coverage
	find . -type d -name __pycache__ -exec rm -rf {} +

doctor:
	python -m formatforge doctor

run:
	python -m formatforge run
'@

# ----------------------------------------------------------
# formatforge/__init__.py
# ----------------------------------------------------------
Save-File "formatforge/__init__.py" @'
"""
FormatForge โ ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ฺูุฏูุฑูุช ุจู MDX
Comprehensive multi-format document converter to MDX with full Persian/RTL support.
"""

__version__ = "0.1.0"
__author__ = "Mahdi Salem"
'@

# ----------------------------------------------------------
# formatforge/exceptions.py
# ----------------------------------------------------------
Save-File "formatforge/exceptions.py" @'
"""
ุงุณุชุซูุงูุง ุณูุงุฑุด FormatForge
Custom exceptions for FormatForge.
"""


class FormatForgeError(Exception):
    """ุฎุทุง ูพุงู FormatForge โ Base error for all FormatForge exceptions."""
    pass


# โโโโโโโโโโโโโโโโ ุงุณฺฉู / Scanner โโโโโโโโโโโโโโโโ

class ScanError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ูุฑุญูู ุงุณฺฉู โ Error during scanning phase."""
    pass


class UnsupportedFormatError(ScanError):
    """ูุฑูุช ูุงู ูพุดุชุจุงู ููโุดูุฏ โ File format is not supported."""

    def __init__(self, path: str, detected_format: str | None = None):
        self.path = path
        self.detected_format = detected_format
        fmt = f" (detected: {detected_format})" if detected_format else ""
        super().__init__(f"Unsupported file format: {path}{fmt}")


class EncodingError(ScanError):
    """ุฎุทุง encoding ูุงู โ File encoding error."""

    def __init__(self, path: str, encoding: str | None = None, detail: str = ""):
        self.path = path
        self.encoding = encoding
        msg = f"Encoding error in {path}"
        if encoding:
            msg += f" (detected: {encoding})"
        if detail:
            msg += f": {detail}"
        super().__init__(msg)


class FileNotFoundError_(ScanError):
    """ูุงู ุงูุช ูุดุฏ โ File not found (custom to avoid shadowing builtins)."""

    def __init__(self, path: str, context: str = ""):
        self.path = path
        msg = f"File not found: {path}"
        if context:
            msg += f" (referenced in: {context})"
        super().__init__(msg)


class DependencyMissingError(ScanError):
    """ูุงู ูุงุจุณุชู ุงูุช ูุดุฏ โ A dependency file is missing."""

    def __init__(self, missing_path: str, referenced_by: str):
        self.missing_path = missing_path
        self.referenced_by = referenced_by
        super().__init__(
            f"Missing dependency: {missing_path} (referenced by: {referenced_by})"
        )


# โโโโโโโโโโโโโโโโ ูุชุงุฏุชุง / Metadata โโโโโโโโโโโโโโโโ

class MetadataError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ูุฑุญูู ูุชุงุฏุชุง โ Error during metadata phase."""
    pass


class MetadataValidationError(MetadataError):
    """ุงุนุชุจุงุฑุณูุฌ ูุชุงุฏุชุง ูุงูููู ุจูุฏ โ Metadata validation failed."""

    def __init__(self, field: str, message: str):
        self.field = field
        super().__init__(f"Metadata validation failed for '{field}': {message}")


class SlugConflictError(MetadataError):
    """Slug ุชฺฉุฑุงุฑ โ Slug already exists."""

    def __init__(self, slug: str, existing_doc: str):
        self.slug = slug
        self.existing_doc = existing_doc
        super().__init__(f"Slug '{slug}' already used by: {existing_doc}")


# โโโโโโโโโโโโโโโโ ุชุจุฏู / Conversion โโโโโโโโโโโโโโโโ

class ConversionError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ูุฑุญูู ุชุจุฏู โ Error during conversion phase."""

    def __init__(self, message: str, source_file: str = "", line: int | None = None):
        self.source_file = source_file
        self.line = line
        loc = ""
        if source_file:
            loc += f" in {source_file}"
        if line is not None:
            loc += f" at line {line}"
        super().__init__(f"Conversion error{loc}: {message}")


class MathConversionError(ConversionError):
    """ุฎุทุง ุฏุฑ ุชุจุฏู ูุฑููู ุฑุงุถ โ Error converting math formula."""

    def __init__(self, formula: str, message: str, **kwargs):
        self.formula = formula
        super().__init__(f"Math: {message} | Formula: {formula[:80]}...", **kwargs)


class TikZCompilationError(ConversionError):
    """ุฎุทุง ุฏุฑ ฺฉุงููพุงู TikZ โ Error compiling TikZ to SVG."""

    def __init__(self, message: str, tikz_code: str = "", **kwargs):
        self.tikz_code = tikz_code
        super().__init__(f"TikZ compilation failed: {message}", **kwargs)


class TableConversionError(ConversionError):
    """ุฎุทุง ุฏุฑ ุชุจุฏู ุฌุฏูู โ Error converting table."""
    pass


class ImageProcessingError(ConversionError):
    """ุฎุทุง ุฏุฑ ูพุฑุฏุงุฒุด ุชุตูุฑ โ Error processing image."""

    def __init__(self, image_path: str, message: str, **kwargs):
        self.image_path = image_path
        super().__init__(f"Image '{image_path}': {message}", **kwargs)


# โโโโโโโโโโโโโโโโ ูุงุฑุณ / Persian โโโโโโโโโโโโโโโโ

class PersianProcessingError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ูพุฑุฏุงุฒุด ูุชู ูุงุฑุณ โ Error processing Persian text."""
    pass


class ZWNJLossError(PersianProcessingError):
    """ููโูุงุตูู ุงุฒ ุฏุณุช ุฑูุชู โ ZWNJ characters were lost during processing."""

    def __init__(self, before_count: int, after_count: int, lost_positions: list[int] | None = None):
        self.before_count = before_count
        self.after_count = after_count
        self.lost_positions = lost_positions or []
        super().__init__(
            f"ZWNJ loss detected: {before_count} โ {after_count} "
            f"({before_count - after_count} lost)"
        )


# โโโโโโโโโโโโโโโโ ฺฉูุช / Quality โโโโโโโโโโโโโโโโ

class QualityError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ุชุณุช ฺฉูุช โ Error during quality testing."""
    pass


class QualityBelowThresholdError(QualityError):
    """ุงูุชุงุฒ ฺฉูุช ุฒุฑ ุญุฏ ูุฌุงุฒ โ Quality score below threshold."""

    def __init__(self, score: int, threshold: int):
        self.score = score
        self.threshold = threshold
        super().__init__(f"Quality score {score} is below threshold {threshold}")


# โโโโโโโโโโโโโโโโ ุงุณุชูุฑุงุฑ / Deployment โโโโโโโโโโโโโโโโ

class DeploymentError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ูุฑุญูู ุงุณุชูุฑุงุฑ โ Error during deployment phase."""
    pass


# โโโโโโโโโโโโโโโโ AI โโโโโโโโโโโโโโโโ

class AIError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ูุงฺูู AI โ Error in AI module."""
    pass


class AIProviderNotConfiguredError(AIError):
    """ุชูุธูุงุช AI ุงูุฌุงู ูุดุฏู โ AI provider is not configured."""

    def __init__(self, provider: str):
        super().__init__(f"AI provider '{provider}' is not configured. Set API key in config.")


# โโโโโโโโโโโโโโโโ ูพฺฉุฑุจูุฏ / Config โโโโโโโโโโโโโโโโ

class ConfigError(FormatForgeError):
    """ุฎุทุง ุฏุฑ ุชูุธูุงุช โ Error in configuration."""
    pass


# โโโโโโโโโโโโโโโโ ุงุจุฒุงุฑ ุฎุงุฑุฌ / External Tools โโโโโโโโโโโโโโโโ

class ExternalToolError(FormatForgeError):
    """ุงุจุฒุงุฑ ุฎุงุฑุฌ ููุฌูุฏ ูุณุช ุง ุฎุทุง ุฏุงุฏ โ External tool error."""

    def __init__(self, tool: str, message: str, install_hint: str = ""):
        self.tool = tool
        self.install_hint = install_hint
        msg = f"External tool '{tool}': {message}"
        if install_hint:
            msg += f"\n  โ Install: {install_hint}"
        super().__init__(msg)
'@

# ----------------------------------------------------------
# formatforge/cli/__init__.py
# ----------------------------------------------------------
Save-File "formatforge/cli/__init__.py" @'
"""CLI package โ ุฑุงุจุท ุฎุท ูุฑูุงู FormatForge"""
'@

# ----------------------------------------------------------
# formatforge/cli/__main__.py
# ----------------------------------------------------------
Save-File "formatforge/cli/__main__.py" @'
"""
ููุทู ูุฑูุฏ CLI โ FormatForge Command Line Interface.
ุงุฌุฑุง: python -m formatforge [COMMAND]
"""

import click
from rich.console import Console
from rich.panel import Panel

from formatforge import __version__

console = Console()


class AliasedGroup(click.Group):
    """ฺฏุฑูู Click ุจุง ูพุดุชุจุงู ุงุฒ ูุฎูู ุฏุณุชูุฑุงุช"""

    def get_command(self, ctx: click.Context, cmd_name: str) -> click.Command | None:
        # Exact match
        rv = click.Group.get_command(self, ctx, cmd_name)
        if rv is not None:
            return rv
        # Prefix match
        matches = [x for x in self.list_commands(ctx) if x.startswith(cmd_name)]
        if not matches:
            return None
        elif len(matches) == 1:
            return click.Group.get_command(self, ctx, matches[0])
        else:
            ctx.fail(f"Ambiguous command '{cmd_name}'. Could be: {', '.join(sorted(matches))}")
            return None


@click.group(cls=AliasedGroup, invoke_without_command=True)
@click.version_option(__version__, prog_name="FormatForge")
@click.option("--verbose", "-v", is_flag=True, help="ููุงุด ุฌุฒุฆุงุช ุจุดุชุฑ")
@click.option("--config", "-c", type=click.Path(), help="ูุณุฑ ูุงู ุชูุธูุงุช")
@click.pass_context
def cli(ctx: click.Context, verbose: bool, config: str | None) -> None:
    """๐ FormatForge โ ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ุจู MDX

    ุชุจุฏู LaTeX, Markdown, HTML ู ุณุงุฑ ูุฑูุชโูุง ุจู MDX
    ุจุง ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฒุจุงู ูุงุฑุณ ู ูุญุชูุง ุฏูุฒุจุงูู.
    """
    ctx.ensure_object(dict)
    ctx.obj["verbose"] = verbose
    ctx.obj["config_path"] = config

    if ctx.invoked_subcommand is None:
        _show_welcome()


def _show_welcome() -> None:
    """ููุงุด ูพุงู ุฎูุดโุขูุฏฺฏู"""
    console.print(
        Panel.fit(
            f"[bold blue]FormatForge[/bold blue] v{__version__}\n\n"
            "[dim]ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ฺูุฏูุฑูุช ุจู MDX[/dim]\n"
            "[dim]ุจุง ูพุดุชุจุงู ฺฉุงูู ูุงุฑุณ / RTL / ููโูุงุตูู[/dim]\n\n"
            "ุจุฑุง ุฑุงูููุง: [green]formatforge --help[/green]\n"
            "ุจุฑุฑุณ ุณูุงูุช: [green]formatforge doctor[/green]\n"
            "ุดุฑูุน ุณุฑุน:  [green]formatforge run ./input/[/green]",
            title="๐ FormatForge",
            border_style="blue",
        )
    )


# โโโโโโโโโโโโโโโโ ุฏุณุชูุฑุงุช โโโโโโโโโโโโโโโโ

@cli.command()
@click.argument("input_path", type=click.Path(exists=True))
@click.option("--recursive", "-r", is_flag=True, help="ุงุณฺฉู ุจุงุฒฺฏุดุช ูพูุดูโูุง")
@click.pass_context
def scan(ctx: click.Context, input_path: str, recursive: bool) -> None:
    """๐ ุงุณฺฉู ู ุดูุงุณุง ูุฑูุฏ

    ุจุฑุฑุณ ูุงู(ูุง)ุ ุชุดุฎุต ูุฑูุชุ encodingุ ุณุงุฎุชุงุฑ ู ูุงุจุณุชฺฏโูุง.
    """
    from formatforge.cli.commands.scan import run_scan
    run_scan(input_path, recursive=recursive, verbose=ctx.obj["verbose"])


@cli.command()
@click.argument("input_path", type=click.Path(exists=True))
@click.option("--output", "-o", type=click.Path(), help="ูุณุฑ ุฎุฑูุฌ")
@click.option("--format", "-f", "fmt", type=str, help="ูุฑูุช ูุฑูุฏ (auto-detect)")
@click.option("--quality-min", type=int, default=80, help="ุญุฏุงูู ุงูุชุงุฒ ฺฉูุช")
@click.option("--interactive/--batch", default=True, help="ุญุงูุช ุชุนุงูู/ุฏุณุชูโุง")
@click.option("--auto-fix/--no-auto-fix", default=False, help="ุงุตูุงุญ ุฎูุฏฺฉุงุฑ ูุดฺฉูุงุช")
@click.pass_context
def convert(
    ctx: click.Context,
    input_path: str,
    output: str | None,
    fmt: str | None,
    quality_min: int,
    interactive: bool,
    auto_fix: bool,
) -> None:
    """๐ ุชุจุฏู ูุงู(ูุง) ุจู MDX

    ุชุจุฏู LaTeX, Markdown, HTML ู ุณุงุฑ ูุฑูุชโูุง ุจู MDX.
    """
    from formatforge.cli.commands.convert import run_convert
    run_convert(
        input_path,
        output=output,
        fmt=fmt,
        quality_min=quality_min,
        interactive=interactive,
        auto_fix=auto_fix,
        verbose=ctx.obj["verbose"],
    )


@cli.command("test")
@click.argument("path", type=click.Path(exists=True))
@click.option("--recursive", "-r", is_flag=True, help="ุชุณุช ุจุงุฒฺฏุดุช")
@click.option("--visual/--no-visual", default=False, help="ุชุณุช ุจุตุฑ (ูุงุฒ ุจู Playwright)")
@click.option("--report-format", type=click.Choice(["text", "json", "html"]), default="text")
@click.pass_context
def test_cmd(ctx: click.Context, path: str, recursive: bool, visual: bool, report_format: str) -> None:
    """๐งช ุชุณุช ฺฉูุช ุฎุฑูุฌ MDX

    ุจุฑุฑุณ ุณุงุฎุชุงุฑุ ูุญุชูุงุ ุฑุงุถุ ูุงุฑุณ/RTL ู ููฺฉโูุง.
    """
    from formatforge.cli.commands.test_cmd import run_test
    run_test(path, recursive=recursive, visual=visual, report_format=report_format, verbose=ctx.obj["verbose"])


@cli.command()
@click.argument("source", type=click.Path(exists=True))
@click.option("--target", "-t", type=click.Path(), required=True, help="ูุณุฑ ููุตุฏ (ูุจโุณุงุช)")
@click.option("--git-commit/--no-git-commit", default=False, help="Git commit ุฎูุฏฺฉุงุฑ")
@click.option("--open-editor/--no-open-editor", default=False, help="ุจุงุฒ ฺฉุฑุฏู ุฏุฑ ูุฑุงุดฺฏุฑ")
@click.pass_context
def deploy(ctx: click.Context, source: str, target: str, git_commit: bool, open_editor: bool) -> None:
    """๐ ุงุณุชูุฑุงุฑ ุฎุฑูุฌ ุฏุฑ ูุจโุณุงุช

    ฺฉูพ ูุงูโูุง MDX ู asset ูุง ุจู ูุณุฑ ููุตุฏ.
    """
    from formatforge.cli.commands.deploy import run_deploy
    run_deploy(source, target, git_commit=git_commit, open_editor=open_editor, verbose=ctx.obj["verbose"])


@cli.command()
@click.option("--last", "-n", type=int, default=10, help="ุชุนุฏุงุฏ ุขุฎุฑู ุชุจุฏูโูุง")
@click.option("--stats", is_flag=True, help="ููุงุด ุขูุงุฑ ุชุฌูุน")
@click.option("--search", "-s", type=str, help="ุฌุณุชุฌู ุฏุฑ ุชุจุฏูโูุง")
@click.option("--export", "export_fmt", type=click.Choice(["yaml", "json", "csv"]), help="ุฎุฑูุฌ ฺฏุฒุงุฑุด")
@click.option("--output", "-o", type=click.Path(), help="ูุณุฑ ูุงู ุฎุฑูุฌ")
@click.pass_context
def report(ctx: click.Context, last: int, stats: bool, search: str | None, export_fmt: str | None, output: str | None) -> None:
    """๐ ฺฏุฒุงุฑุด ูุฑฺฉุฒ ุชุจุฏูโูุง

    ูุดุงูุฏู ุชุงุฑุฎฺูุ ุขูุงุฑ ู ุฌุณุชุฌู ุฏุฑ ุชุจุฏูโูุง ุงูุฌุงูโุดุฏู.
    """
    from formatforge.cli.commands.report import run_report
    run_report(last=last, stats=stats, search=search, export_fmt=export_fmt, output=output, verbose=ctx.obj["verbose"])


@cli.command()
@click.argument("input_path", type=click.Path(exists=True))
@click.option("--output", "-o", type=click.Path(), help="ูุณุฑ ุฎุฑูุฌ")
@click.option("--target", "-t", type=click.Path(), help="ูุณุฑ ุงุณุชูุฑุงุฑ (ูุจโุณุงุช)")
@click.option("--quality-min", type=int, default=80, help="ุญุฏุงูู ุงูุชุงุฒ ฺฉูุช")
@click.option("--interactive/--batch", default=True, help="ุญุงูุช ุชุนุงูู/ุฏุณุชูโุง")
@click.option("--auto-fix/--no-auto-fix", default=False, help="ุงุตูุงุญ ุฎูุฏฺฉุงุฑ")
@click.pass_context
def run(
    ctx: click.Context,
    input_path: str,
    output: str | None,
    target: str | None,
    quality_min: int,
    interactive: bool,
    auto_fix: bool,
) -> None:
    """โก ุงุฌุฑุง ฺฉุงูู ุฎุท ูููู (scan โ convert โ test โ deploy)

    ุฏุณุชูุฑ all-in-one: ุชูุงู ูุฑุงุญู ุฑุง ุจู ุชุฑุชุจ ุงุฌุฑุง ูโฺฉูุฏ.
    """
    from formatforge.cli.commands.run import run_pipeline
    run_pipeline(
        input_path,
        output=output,
        target=target,
        quality_min=quality_min,
        interactive=interactive,
        auto_fix=auto_fix,
        verbose=ctx.obj["verbose"],
    )


@cli.command()
@click.pass_context
def doctor(ctx: click.Context) -> None:
    """๐ฉบ ุจุฑุฑุณ ุณูุงูุช ุณุณุชู

    ุจุฑุฑุณ ูุตุจ ุจูุฏู ุชูุงู ูุงุจุณุชฺฏโูุง ู ุงุจุฒุงุฑูุง ุฎุงุฑุฌ.
    """
    from formatforge.cli.commands.doctor import run_doctor
    run_doctor(verbose=ctx.obj["verbose"])


@cli.command("init-components")
@click.option("--framework", type=click.Choice(["next", "astro", "gatsby"]), default="next")
@click.option("--output", "-o", type=click.Path(), required=True, help="ูุณุฑ ุฎุฑูุฌ ฺฉุงููพูููุชโูุง")
@click.option("--typescript/--javascript", default=True, help="TypeScript ุง JavaScript")
@click.pass_context
def init_components(ctx: click.Context, framework: str, output: str, typescript: bool) -> None:
    """๐งฉ ุชููุฏ ฺฉุงููพูููุชโูุง MDX ุจุฑุง ูุจโุณุงุช

    ุณุงุฎุช Theorem, Definition, Proof, Admonition, MermaidDiagram ู ุณุงุฑ ฺฉุงููพูููุชโูุง.
    """
    from formatforge.cli.commands.init_components import run_init_components
    run_init_components(framework=framework, output=output, typescript=typescript, verbose=ctx.obj["verbose"])


# โโโโโโโโโโโโโโโโ ููุทู ูุฑูุฏ โโโโโโโโโโโโโโโโ

def main() -> None:
    """ููุทู ูุฑูุฏ ุงุตู"""
    cli(obj={})


if __name__ == "__main__":
    main()
'@

# ----------------------------------------------------------
# CLI Command Stubs (ุงุณฺฉูุช ุฏุณุชูุฑุงุช)
# ----------------------------------------------------------

$commandStubs = @{
    "formatforge/cli/commands/__init__.py" = '"""CLI commands package โ ุฏุณุชูุฑุงุช ุฎุท ูุฑูุงู"""'

    "formatforge/cli/commands/scan.py" = @'
"""
ุฏุณุชูุฑ scan โ ุงุณฺฉู ู ุดูุงุณุง ูุฑูุฏ
Scan command: detect format, encoding, structure, dependencies.
"""

from rich.console import Console

console = Console()


def run_scan(input_path: str, *, recursive: bool = False, verbose: bool = False) -> None:
    """ุงุฌุฑุง ุงุณฺฉู ูุฑูุฏ"""
    console.print(f"[bold blue]๐ ุงุณฺฉู:[/bold blue] {input_path}")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S02)[/dim]")
    # TODO: S02 โ Scanner implementation
'@

    "formatforge/cli/commands/convert.py" = @'
"""
ุฏุณุชูุฑ convert โ ุชุจุฏู ูุงู(ูุง) ุจู MDX
Convert command: transform documents to MDX format.
"""

from rich.console import Console

console = Console()


def run_convert(
    input_path: str,
    *,
    output: str | None = None,
    fmt: str | None = None,
    quality_min: int = 80,
    interactive: bool = True,
    auto_fix: bool = False,
    verbose: bool = False,
) -> None:
    """ุงุฌุฑุง ุชุจุฏู"""
    console.print(f"[bold blue]๐ ุชุจุฏู:[/bold blue] {input_path}")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S06-S09)[/dim]")
    # TODO: S06-S09 โ Converter implementations
'@

    "formatforge/cli/commands/test_cmd.py" = @'
"""
ุฏุณุชูุฑ test โ ุชุณุช ฺฉูุช ุฎุฑูุฌ MDX
Test command: validate MDX output quality.
"""

from rich.console import Console

console = Console()


def run_test(
    path: str,
    *,
    recursive: bool = False,
    visual: bool = False,
    report_format: str = "text",
    verbose: bool = False,
) -> None:
    """ุงุฌุฑุง ุชุณุช ฺฉูุช"""
    console.print(f"[bold blue]๐งช ุชุณุช:[/bold blue] {path}")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S10)[/dim]")
    # TODO: S10 โ Quality tests
'@

    "formatforge/cli/commands/deploy.py" = @'
"""
ุฏุณุชูุฑ deploy โ ุงุณุชูุฑุงุฑ ุฎุฑูุฌ ุฏุฑ ูุจโุณุงุช
Deploy command: copy MDX files and assets to website directory.
"""

from rich.console import Console

console = Console()


def run_deploy(
    source: str,
    target: str,
    *,
    git_commit: bool = False,
    open_editor: bool = False,
    verbose: bool = False,
) -> None:
    """ุงุฌุฑุง ุงุณุชูุฑุงุฑ"""
    console.print(f"[bold blue]๐ ุงุณุชูุฑุงุฑ:[/bold blue] {source} โ {target}")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S11)[/dim]")
    # TODO: S11 โ Deployer
'@

    "formatforge/cli/commands/report.py" = @'
"""
ุฏุณุชูุฑ report โ ฺฏุฒุงุฑุด ูุฑฺฉุฒ ุชุจุฏูโูุง
Report command: view conversion history and statistics.
"""

from rich.console import Console

console = Console()


def run_report(
    *,
    last: int = 10,
    stats: bool = False,
    search: str | None = None,
    export_fmt: str | None = None,
    output: str | None = None,
    verbose: bool = False,
) -> None:
    """ุงุฌุฑุง ฺฏุฒุงุฑุด"""
    console.print("[bold blue]๐ ฺฏุฒุงุฑุด ูุฑฺฉุฒ[/bold blue]")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S11)[/dim]")
    # TODO: S11 โ Central log & reports
'@

    "formatforge/cli/commands/run.py" = @'
"""
ุฏุณุชูุฑ run โ ุงุฌุฑุง ฺฉุงูู ุฎุท ูููู
Run command: execute full pipeline (scan โ convert โ test โ deploy).
"""

from rich.console import Console

console = Console()


def run_pipeline(
    input_path: str,
    *,
    output: str | None = None,
    target: str | None = None,
    quality_min: int = 80,
    interactive: bool = True,
    auto_fix: bool = False,
    verbose: bool = False,
) -> None:
    """ุงุฌุฑุง ฺฉุงูู ุฎุท ูููู"""
    console.print(f"[bold blue]โก ุงุฌุฑุง ฺฉุงูู:[/bold blue] {input_path}")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S12)[/dim]")
    # TODO: S12 โ Full pipeline
'@

    "formatforge/cli/commands/doctor.py" = @'
"""
ุฏุณุชูุฑ doctor โ ุจุฑุฑุณ ุณูุงูุช ุณุณุชู
Doctor command: check all dependencies and external tools.
"""

import shutil
import subprocess
import sys

from rich.console import Console
from rich.table import Table

console = Console()


def _check_command(name: str, version_flag: str = "--version") -> tuple[bool, str]:
    """ุจุฑุฑุณ ูุฌูุฏ ฺฉ ุงุจุฒุงุฑ ุฎุท ูุฑูุงู"""
    path = shutil.which(name)
    if not path:
        return False, "not found"
    try:
        result = subprocess.run(
            [name, version_flag],
            capture_output=True,
            text=True,
            timeout=10,
        )
        version = result.stdout.strip().split("\n")[0][:60]
        if not version:
            version = result.stderr.strip().split("\n")[0][:60]
        return True, version or "found"
    except Exception:
        return True, f"found at {path}"


def _check_python_package(name: str) -> tuple[bool, str]:
    """ุจุฑุฑุณ ูุฌูุฏ ฺฉ ูพฺฉุฌ Python"""
    try:
        mod = __import__(name.replace("-", "_"))
        version = getattr(mod, "__version__", "installed")
        return True, str(version)
    except ImportError:
        return False, "not installed"


def run_doctor(*, verbose: bool = False) -> None:
    """ุจุฑุฑุณ ุณูุงูุช ุณุณุชู"""
    console.print("\n[bold blue]๐ฉบ FormatForge Doctor[/bold blue]\n")

    # โโ Python โโ
    console.print("[bold]Python:[/bold]")
    py_ver = f"{sys.version_info.major}.{sys.version_info.minor}.{sys.version_info.micro}"
    py_ok = sys.version_info >= (3, 11)
    icon = "โ" if py_ok else "โ"
    console.print(f"  {icon} Python {py_ver} {'(โฅ3.11 โ)' if py_ok else '(need โฅ3.11)'}")

    # โโ ุงุจุฒุงุฑูุง ุฎุงุฑุฌ โโ
    console.print("\n[bold]ุงุจุฒุงุฑูุง ุฎุงุฑุฌ:[/bold]")

    tools = [
        ("pandoc",      "--version",  "winget install JohnMacFarlane.Pandoc",      True),
        ("xelatex",     "--version",  "Install TeX Live: tug.org/texlive",         True),
        ("biber",       "--version",  "Included in TeX Live",                      False),
        ("dvisvgm",     "--version",  "Included in TeX Live",                      False),
        ("node",        "--version",  "winget install OpenJS.NodeJS",              True),
        ("mmdc",        "--version",  "npm install -g @mermaid-js/mermaid-cli",    False),
        ("magick",      "--version",  "winget install ImageMagick.ImageMagick",    False),
        ("svgo",        "--version",  "npm install -g svgo",                       False),
        ("tesseract",   "--version",  "winget install UB-Mannheim.TesseractOCR",   False),
    ]

    table = Table(show_header=True, header_style="bold")
    table.add_column("ูุถุนุช", width=4, justify="center")
    table.add_column("ุงุจุฒุงุฑ", width=12)
    table.add_column("ูุณุฎู / ูุถุนุช", width=40)
    table.add_column("ุถุฑูุฑ", width=6, justify="center")

    all_required_ok = True
    for name, flag, hint, required in tools:
        found, info = _check_command(name, flag)
        icon = "โ" if found else ("โ" if required else "โ๏ธ")
        req_str = "ุจูู" if required else "ุฎุฑ"
        if not found:
            info = f"[red]not found[/red] โ {hint}"
            if required:
                all_required_ok = False
        table.add_row(icon, name, info, req_str)

    console.print(table)

    # โโ ูพฺฉุฌโูุง Python โโ
    console.print("\n[bold]ูพฺฉุฌโูุง Python:[/bold]")

    packages = [
        ("click", True),
        ("rich", True),
        ("pydantic", True),
        ("yaml", True),
        ("bs4", True),
        ("lxml", True),
        ("docx", False),
        ("fitz", False),
        ("PIL", True),
        ("jinja2", True),
        ("chardet", True),
        ("loguru", True),
    ]

    pkg_table = Table(show_header=True, header_style="bold")
    pkg_table.add_column("ูุถุนุช", width=4, justify="center")
    pkg_table.add_column("ูพฺฉุฌ", width=20)
    pkg_table.add_column("ูุณุฎู", width=20)

    for name, required in packages:
        found, ver = _check_python_package(name)
        icon = "โ" if found else ("โ" if required else "โ๏ธ")
        pkg_table.add_row(icon, name, ver if found else "[red]missing[/red]")

    console.print(pkg_table)

    # โโ ูุชุฌู โโ
    console.print()
    if all_required_ok:
        console.print("[bold green]โ ุชูุงู ุงุจุฒุงุฑูุง ุถุฑูุฑ ูุตุจ ูุณุชูุฏ.[/bold green]")
    else:
        console.print("[bold red]โ ุจุฑุฎ ุงุจุฒุงุฑูุง ุถุฑูุฑ ูุตุจ ูุณุชูุฏ.[/bold red]")
        console.print("   ูุทูุงู ุงุจุฒุงุฑูุง ูุดุฎุตโุดุฏู ุฑุง ูุตุจ ฺฉูุฏ.")

    console.print()
'@

    "formatforge/cli/commands/init_components.py" = @'
"""
ุฏุณุชูุฑ init-components โ ุชููุฏ ฺฉุงููพูููุชโูุง MDX
Init-components command: generate MDX components for website.
"""

from rich.console import Console

console = Console()


def run_init_components(
    *,
    framework: str = "next",
    output: str = "./components/mdx",
    typescript: bool = True,
    verbose: bool = False,
) -> None:
    """ุชููุฏ ฺฉุงููพูููุชโูุง MDX"""
    console.print(f"[bold blue]๐งฉ ุชููุฏ ฺฉุงููพูููุชโูุง:[/bold blue] {framework} โ {output}")
    console.print("[dim]  (ูพุงุฏูโุณุงุฒ ุฏุฑ ุงุณูพุฑูุช S12)[/dim]")
    # TODO: S12 โ Component generation
'@
}

foreach ($entry in $commandStubs.GetEnumerator()) {
    Save-File $entry.Key $entry.Value
}

# ----------------------------------------------------------
# __init__.py ูุงูโูุง ุฎุงู ุจุฑุง ูพฺฉุฌโูุง
# ----------------------------------------------------------
$initFiles = @(
    "formatforge/models/__init__.py"
    "formatforge/config/__init__.py"
    "formatforge/utils/__init__.py"
    "formatforge/core/__init__.py"
    "formatforge/core/scanner/__init__.py"
    "formatforge/core/metadata/__init__.py"
    "formatforge/core/converters/__init__.py"
    "formatforge/core/processors/__init__.py"
    "formatforge/core/persian/__init__.py"
    "formatforge/core/quality/__init__.py"
    "formatforge/core/deployer/__init__.py"
    "formatforge/ai/__init__.py"
    "formatforge/reports/__init__.py"
    "formatforge/templates/__init__.py"
    "tests/__init__.py"
    "tests/e2e/__init__.py"
)

foreach ($f in $initFiles) {
    $pkgName = (Split-Path (Split-Path $f -Parent) -Leaf)
    Save-File $f """""$pkgName package"""""
}

# ----------------------------------------------------------
# tests/conftest.py
# ----------------------------------------------------------
Save-File "tests/conftest.py" @'
"""
Pytest configuration and shared fixtures.
ุชูุธูุงุช ู fixture ูุง ูุดุชุฑฺฉ ุชุณุช.
"""

import os
from pathlib import Path

import pytest


# โโโโโโโโโโโโ ูุณุฑูุง โโโโโโโโโโโโ

@pytest.fixture
def test_files_dir() -> Path:
    """ูุณุฑ ูพูุดู ูุงูโูุง ุชุณุช"""
    return Path(__file__).parent / "test_files"


@pytest.fixture
def sample_latex(test_files_dir: Path) -> Path:
    """ูุณุฑ ูุงู LaTeX ููููู"""
    return test_files_dir / "sample-book.tex"


@pytest.fixture
def sample_markdown(test_files_dir: Path) -> Path:
    """ูุณุฑ ูุงู Markdown ููููู"""
    return test_files_dir / "sample-mermaid.md"


@pytest.fixture
def sample_html(test_files_dir: Path) -> Path:
    """ูุณุฑ ูุงู HTML ููููู"""
    return test_files_dir / "sample-page.html"


@pytest.fixture
def tmp_output(tmp_path: Path) -> Path:
    """ูพูุดู ุฎุฑูุฌ ูููุช"""
    out = tmp_path / "output"
    out.mkdir()
    return out


# โโโโโโโโโโโโ ูุชูู ููููู โโโโโโโโโโโโ

@pytest.fixture
def persian_text_with_zwnj() -> str:
    """ูุชู ูุงุฑุณ ุจุง ููโูุงุตูู"""
    return "ุงู ฺฉ ูุชู ููููู ุงุณุช. ูโุฎูุงูู ฺฉุชุงุจโูุง ู ููุงููโูุง ุฎูุฏ ุฑุง ุชุจุฏู ฺฉูู."


@pytest.fixture
def persian_text_without_zwnj() -> str:
    """ูุชู ูุงุฑุณ ุจุฏูู ููโูุงุตูู (ุบูุท)"""
    return "ุงู ฺฉ ูุชู ููููู ุงุณุช. ู ุฎูุงูู ฺฉุชุงุจ ูุง ู ููุงูู ูุง ุฎูุฏ ุฑุง ุชุจุฏู ฺฉูู."


@pytest.fixture
def latex_math_samples() -> dict[str, str]:
    """ููููู ูุฑูููโูุง ุฑุงุถ LaTeX"""
    return {
        "inline": r"$\neg(p \land q) \equiv (\neg p) \lor (\neg q)$",
        "display": r"$$\sum_{k=0}^{\infty} \frac{x^k}{k!} = e^x$$",
        "equation": (
            r"\begin{equation}" "\n"
            r"  \int_{-\infty}^{+\infty} e^{-x^2}\,dx = \sqrt{\pi}" "\n"
            r"  \label{eq:gaussian}" "\n"
            r"\end{equation}"
        ),
        "align": (
            r"\begin{align}" "\n"
            r"  \nabla \times \mathbf{E} &= -\frac{\partial \mathbf{B}}{\partial t} \label{eq:faraday} \\" "\n"
            r"  \nabla \times \mathbf{B} &= \mu_0 \mathbf{J} \label{eq:ampere}" "\n"
            r"\end{align}"
        ),
        "cases": (
            r"$$|x| = \begin{cases}" "\n"
            r"  x  & \text{ุงฺฏุฑ } x \geq 0 \\" "\n"
            r"  -x & \text{ุงฺฏุฑ } x < 0" "\n"
            r"\end{cases}$$"
        ),
        "matrix": (
            r"$$A = \begin{pmatrix}" "\n"
            r"  a_{11} & a_{12} \\" "\n"
            r"  a_{21} & a_{22}" "\n"
            r"\end{pmatrix}$$"
        ),
    }


@pytest.fixture
def mermaid_samples() -> dict[str, str]:
    """ููููู ูููุฏุงุฑูุง Mermaid"""
    return {
        "flowchart": (
            "```mermaid\n"
            "flowchart TD\n"
            '    A["ุดุฑูุน"] --> B{"ุดุฑุท"}\n'
            '    B -->|"ุจูู"| C["ูพุงุงู"]\n'
            '    B -->|"ุฎุฑ"| A\n'
            "```"
        ),
        "sequence": (
            "```mermaid\n"
            "sequenceDiagram\n"
            "    participant U as ฺฉุงุฑุจุฑ\n"
            "    participant S as ุณุฑูุฑ\n"
            "    U->>S: ุฏุฑุฎูุงุณุช\n"
            "    S-->>U: ูพุงุณุฎ\n"
            "```"
        ),
    }
'@

# ----------------------------------------------------------
# tests/test_files/ โ ูุงู placeholder
# ----------------------------------------------------------
Save-File "tests/test_files/README.md" @'
# ูุงูโูุง ุชุณุช

ูุงูโูุง ููููู ุฒุฑ ุจุงุฏ ุฏุฑ ุงู ูพูุดู ูุฑุงุฑ ุจฺฏุฑูุฏ:

- `sample-book.tex` โ ูุงู LaTeX ุฌุงูุน ูุงุฑุณ-ุงูฺฏูุณ
- `sample-mermaid.md` โ ูุงู Markdown ุจุง ูููุฏุงุฑูุง Mermaid
- `sample-page.html` โ ูุงู HTML ุฌุงูุน
- `sample-page.rst` โ ูุงู reStructuredText (ุงุฎุชุงุฑ)
- `sample-page.adoc` โ ูุงู AsciiDoc (ุงุฎุชุงุฑ)

> ุงู ูุงูโูุง ุฑุง ุงุฒ ฺุชโูุง ูุจู ฺฉูพ ฺฉูุฏ.
'@

# ----------------------------------------------------------
# config/default_config.yaml
# ----------------------------------------------------------
Save-File "config/default_config.yaml" @'
# ============================================================
#  FormatForge โ ุชูุธูุงุช ูพุดโูุฑุถ
#  Default Configuration
# ============================================================

general:
  language: "fa"
  verbose: false
  color: true
  confirm_before_convert: true
  confirm_before_deploy: true
  auto_fix_warnings: false
  temp_dir: "~/.formatforge/temp/"
  log_dir: "~/.formatforge/logs/"
  report_file: "~/.formatforge/central_log.yaml"

scanner:
  max_file_size_mb: 100
  supported_formats:
    - latex
    - html
    - markdown
    - docx
    - pdf
    - rst
    - asciidoc
    - epub
    - notebook
  ignore_patterns:
    - "*.aux"
    - "*.log"
    - "*.synctex*"
    - "*.fls"
    - "*.fdb_latexmk"
    - ".git/"
    - "node_modules/"
    - "__pycache__/"

metadata:
  default_author:
    name: ""
    email: ""
  default_lang: "fa"
  default_dir: "rtl"
  slug_max_length: 60
  ai_provider: "none"
  ai_model: ""
  require_fields:
    - title
    - slug
    - date
    - lang
    - dir

conversion:
  math:
    engine: "katex"
    throw_on_error: false
  diagrams:
    tikz_to: "svg"
    tikz_dpi: 300
    mermaid_to: "component"
    mermaid_theme: "base"
  images:
    optimize: true
    convert_to_webp: true
    max_width: 1200
    quality: 85
    svg_optimize: true
  code:
    add_line_numbers: false
    default_language: "text"
  tables:
    complex_to_html: true
    simple_to_markdown: true
  persian:
    preserve_zwnj: true
    fix_arabic_yeh: true
    fix_arabic_keh: true
    fix_spacing: true
    numerals: "keep"
    quotation_marks: "guillemet"
  mdx:
    component_style: "import"
    mdx_version: 3

testing:
  run_structural: true
  run_content: true
  run_math: true
  run_persian: true
  run_links: true
  run_visual: false
  min_quality_score: 80

deployment:
  create_backup: true
  overwrite_existing: "ask"
  post_deploy:
    open_in_editor: false
    editor_command: "code"
    git_commit: false

reporting:
  format: "yaml"
  keep_history: true
  max_history: 1000
'@

# ----------------------------------------------------------
# README.md
# ----------------------------------------------------------
Save-File "README.md" @'
# ๐ FormatForge

**ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ฺูุฏูุฑูุช ุจู MDX โ ุจุง ูพุดุชุจุงู ฺฉุงูู ูุงุฑุณ**

> Comprehensive multi-format document converter to MDX with full Persian/RTL support.

## โจ ูฺฺฏโูุง

- ๐ ูพุดุชุจุงู ุงุฒ LaTeX, Markdown, HTML, DOCX, PDF, RST, AsciiDoc
- ๐ข ุชุจุฏู ฺฉุงูู ูุฑูููโูุง ุฑุงุถ (KaTeX)
- ๐ ุชุจุฏู ูููุฏุงุฑูุง (TikZ โ SVG, Mermaid โ Component)
- ๐ฎ๐ท ูพุดุชุจุงู ฺฉุงูู ูุงุฑุณ: RTL, ููโูุงุตูู (ZWNJ), ุชุงูพูฺฏุฑุงู
- ๐ ูุญุชูุง ุฏูุฒุจุงูู (ูุงุฑุณ + ุงูฺฏูุณ)
- ๐งช ุชุณุช ฺฉูุช ุฎูุฏฺฉุงุฑ
- ๐ฆ ุงุณุชูุฑุงุฑ ุฏุฑ ูุจโุณุงุช (Next.js, Astro, Gatsby)

## ๐ ุดุฑูุน ุณุฑุน

```bash
# [Code extracted to: code_block_154.sh]
# See: output\formatForge_20260215_164352\code_blocks\code_block_154.sh
```

## ๐ ูุถุนุช ุชูุณุนู

- [ ] S01: ุฒุฑุณุงุฎุช โ
- [ ] S02: ุงุณฺฉูุฑ
- [ ] S03: ูุงฺูู ูุงุฑุณ
- [ ] S04-S05: ูพุฑุฏุงุฒุดฺฏุฑูุง
- [ ] S06: Markdown โ MDX
- [ ] S07: HTML โ MDX
- [ ] S08-S09: LaTeX โ MDX
- [ ] S10: ุชุณุช ฺฉูุช
- [ ] S11: ุงุณุชูุฑุงุฑ ู ฺฏุฒุงุฑุด
- [ ] S12: ฺฉูพุงุฑฺูโุณุงุฒ

## ๐ ูุฌูุฒ

MIT License
'@

# ----------------------------------------------------------
# progress.yaml
# ----------------------------------------------------------
Save-File "progress.yaml" @'
# FormatForge โ ูพุดุฑูุช ุชูุณุนู
# ุจุนุฏ ุงุฒ ูุฑ ฺุช ุจุฑูุฒุฑุณุงู ุดูุฏ

current_sprint: S01
current_chat: 1

completed:
  - sprint: S01
    chat: 1
    date: ""
    files:
      - pyproject.toml
      - formatforge/__init__.py
      - formatforge/exceptions.py
      - formatforge/cli/__main__.py
      - formatforge/cli/commands/*.py (stubs)
      - config/default_config.yaml
      - tests/conftest.py
    status: "done"
    notes: "Project structure created"

next:
  sprint: S01
  chat: 2
  target: "Pydantic models (metadata, scan_report, conversion_result)"
'@

# ============================================================
Write-Title "ณ. ุจุฑุฑุณ ููุง..."
# ============================================================

# ุดูุงุฑุด ูุงูโูุง
$fileCount = (Get-ChildItem $ProjectRoot -Recurse -File).Count
$dirCount  = (Get-ChildItem $ProjectRoot -Recurse -Directory).Count

# ุจุฑุฑุณ encoding
Write-Host "`n๐ ุจุฑุฑุณ encoding:" -ForegroundColor Yellow
$sampleFiles = @(
    "formatforge/__init__.py",
    "formatforge/exceptions.py",
    "formatforge/cli/__main__.py",
    "config/default_config.yaml"
)
foreach ($f in $sampleFiles) {
    $fullPath = Join-Path $ProjectRoot $f
    if (Test-Path $fullPath) {
        $bytes = [System.IO.File]::ReadAllBytes($fullPath)
        $hasBom = ($bytes.Length -ge 3 -and $bytes[0] -eq 0xEF -and $bytes[1] -eq 0xBB -and $bytes[2] -eq 0xBF)
        $icon = if ($hasBom) { "โ" } else { "โ๏ธ" }
        Write-Host "  $icon $f" -ForegroundColor $(if ($hasBom) { "Green" } else { "Yellow" })
    }
}

# ============================================================
Write-Host @"

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ุณุงุฎุชุงุฑ ูพุฑูฺู FormatForge ุณุงุฎุชู ุดุฏ!                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                          โ
โ  ๐ ูพูุดูโูุง: $dirCount                                     โ
โ  ๐ ูุงูโูุง: $fileCount                                     โ
โ  ๐ ูุณุฑ: $ProjectRoot
โ                                                          โ
โ  ูุฑุงุญู ุจุนุฏ:                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                   โ
โ  1. cd $ProjectRoot                          โ
โ  2. python -m venv .venv                                โ
โ  3. .venv\Scripts\Activate.ps1                          โ
โ  4. pip install -e ".[dev]"                             โ
โ  5. formatforge doctor                                  โ
โ  6. pytest tests/ -v                                    โ
โ                                                          โ
โ  ฺุช ุจุนุฏ: S01-C2 (ูุฏูโูุง Pydantic)                     โ
โ                                                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

"@ -ForegroundColor Cyan
```

---

## ุฏุณุชูุฑุงุช ุจุนุฏ ุงุฒ ุงุฌุฑุง ุงุณฺฉุฑูพุช

```powershell
# ฑ. ุงุฌุฑุง ุงุณฺฉุฑูพุช
.\init-project.ps1 -ProjectRoot "C:\Projects\formatforge"

# ฒ. ูุฑูุฏ ุจู ูพุฑูฺู
cd C:\Projects\formatforge

# ณ. ุณุงุฎุช ูุญุท ูุฌุงุฒ
python -m venv .venv
.venv\Scripts\Activate.ps1

# ด. ูุตุจ ูุงุจุณุชฺฏโูุง
pip install -e ".[dev]"

# ต. ุจุฑุฑุณ ุณูุงูุช
python -m formatforge doctor

# ถ. ุชุณุช CLI
python -m formatforge --help
python -m formatforge --version

# ท. ุงุฌุฑุง ุชุณุชโูุง (ูุนูุงู ุฎุงู โ ุจุงุฏ ูพุงุณ ุดููุฏ)
pytest tests/ -v

# ธ. Git init
git init
git add .
git commit -m "feat: S01-C1 project structure and CLI skeleton"
```

---

## ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ `formatforge doctor`

```
๐ฉบ FormatForge Doctor

Python:
  โ Python 3.12.4 (โฅ3.11 โ)

ุงุจุฒุงุฑูุง ุฎุงุฑุฌ:
  โโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโ
  โ ูุถุนุชโ ุงุจุฒุงุฑ    โ ูุณุฎู / ูุถุนุช                    โ ุถุฑูุฑโ
  โโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโค
  โ  โ  โ pandoc   โ pandoc 3.2                      โ ุจูู  โ
  โ  โ  โ xelatex  โ XeTeX 3.141592653...            โ ุจูู  โ
  โ  โ  โ biber    โ biber version 2.19              โ ุฎุฑ  โ
  โ  ...                                                     โ
  โโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโ

โ ุชูุงู ุงุจุฒุงุฑูุง ุถุฑูุฑ ูุตุจ ูุณุชูุฏ.
```

---

## ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ `formatforge --help`

```
Usage: formatforge [OPTIONS] COMMAND [ARGS]...

  ๐ FormatForge โ ุงุจุฒุงุฑ ุฌุงูุน ุชุจุฏู ุงุณูุงุฏ ุจู MDX

Options:
  --version          Show the version and exit.
  -v, --verbose      ููุงุด ุฌุฒุฆุงุช ุจุดุชุฑ
  -c, --config PATH  ูุณุฑ ูุงู ุชูุธูุงุช
  --help             Show this message and exit.

Commands:
  convert          ๐ ุชุจุฏู ูุงู(ูุง) ุจู MDX
  deploy           ๐ ุงุณุชูุฑุงุฑ ุฎุฑูุฌ ุฏุฑ ูุจโุณุงุช
  doctor           ๐ฉบ ุจุฑุฑุณ ุณูุงูุช ุณุณุชู
  init-components  ๐งฉ ุชููุฏ ฺฉุงููพูููุชโูุง MDX ุจุฑุง ูุจโุณุงุช
  report           ๐ ฺฏุฒุงุฑุด ูุฑฺฉุฒ ุชุจุฏูโูุง
  run              โก ุงุฌุฑุง ฺฉุงูู ุฎุท ูููู
  scan             ๐ ุงุณฺฉู ู ุดูุงุณุง ูุฑูุฏ
  test             ๐งช ุชุณุช ฺฉูุช ุฎุฑูุฌ MDX
```txt
# [Code extracted to: code_block_158.txt]
# See: output\formatForge_20260215_164352\code_blocks\code_block_158.txt
```powershell
# ============================================================
#  S01-C2: FormatForge โ ูุฏูโูุง ุฏุงุฏู (Pydantic)
#  ุงุฌุฑุง: .\s01-c2-models.ps1 [-ProjectRoot ".\formatforge"]
# ============================================================

param(
    [string]$ProjectRoot = ".\formatforge"
)

$ErrorActionPreference = "Stop"
$Utf8Bom = [System.Text.UTF8Encoding]::new($true)

function Save-File {
    param([string]$RelPath, [string]$Content)
    $fullPath = Join-Path $ProjectRoot $RelPath
    $dir = Split-Path $fullPath -Parent
    if (-not (Test-Path $dir)) {
        New-Item -ItemType Directory -Force -Path $dir | Out-Null
    }
    [System.IO.File]::WriteAllText($fullPath, $Content, $Utf8Bom)
    Write-Host "  โ $RelPath" -ForegroundColor Green
}

Write-Host @"

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฆ S01-C2: ูุฏูโูุง Pydantic                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

"@ -ForegroundColor Magenta

# ============================================================
# 1. models/enums.py โ ุดูุงุฑุดโูุง (Enums)
# ============================================================
Save-File "formatforge/models/enums.py" @'
"""
ุดูุงุฑุดโูุง ูุดุชุฑฺฉ FormatForge
Shared enumerations used across all models.
"""

from enum import Enum


class DocumentFormat(str, Enum):
    """ูุฑูุชโูุง ุณูุฏ ูพุดุชุจุงูโุดุฏู โ Supported document formats."""
    LATEX = "latex"
    MARKDOWN = "markdown"
    HTML = "html"
    DOCX = "docx"
    PDF = "pdf"
    RST = "rst"
    ASCIIDOC = "asciidoc"
    EPUB = "epub"
    NOTEBOOK = "notebook"
    UNKNOWN = "unknown"

    @classmethod
    def from_extension(cls, ext: str) -> "DocumentFormat":
        """ุชุดุฎุต ูุฑูุช ุงุฒ ูพุณููุฏ ูุงู"""
        ext = ext.lower().lstrip(".")
        mapping = {
            "tex": cls.LATEX, "ltx": cls.LATEX, "sty": cls.LATEX, "cls": cls.LATEX,
            "md": cls.MARKDOWN, "mdx": cls.MARKDOWN, "markdown": cls.MARKDOWN,
            "html": cls.HTML, "htm": cls.HTML, "xhtml": cls.HTML,
            "docx": cls.DOCX,
            "pdf": cls.PDF,
            "rst": cls.RST, "rest": cls.RST,
            "adoc": cls.ASCIIDOC, "asciidoc": cls.ASCIIDOC, "asc": cls.ASCIIDOC,
            "epub": cls.EPUB,
            "ipynb": cls.NOTEBOOK,
        }
        return mapping.get(ext, cls.UNKNOWN)


class DocumentLanguage(str, Enum):
    """ุฒุจุงู ุณูุฏ โ Document language."""
    PERSIAN = "fa"
    ENGLISH = "en"
    BILINGUAL = "fa-en"
    UNKNOWN = "unknown"


class DocumentDirection(str, Enum):
    """ุฌูุช ูุชู โ Text direction."""
    RTL = "rtl"
    LTR = "ltr"


class DocumentType(str, Enum):
    """ููุน ุณูุฏ โ Document type."""
    ARTICLE = "article"
    BOOK = "book"
    CHAPTER = "chapter"
    PROOF = "proof"
    LECTURE_NOTE = "lecture-note"
    TUTORIAL = "tutorial"
    UNKNOWN = "unknown"


class StructureType(str, Enum):
    """ููุน ุณุงุฎุชุงุฑ ูุฌููุนู ุงุณูุงุฏ โ Structure type of document collection."""
    SINGLE_DOC = "single_doc"
    INDEPENDENT_ARTICLES = "independent_articles"
    MULTI_CHAPTER_BOOK = "multi_chapter_book"
    RELATED_COLLECTION = "related_collection"
    UNKNOWN = "unknown"


class DocumentRole(str, Enum):
    """ููุด ูุงู ุฏุฑ ูุฌููุนู โ Role of file within collection."""
    MAIN_ENTRY = "main_entry"
    CHAPTER = "chapter"
    APPENDIX = "appendix"
    STANDALONE = "standalone"
    BIBLIOGRAPHY = "bibliography"
    STYLE = "style"
    ASSET = "asset"
    UNKNOWN = "unknown"


class ConversionStatus(str, Enum):
    """ูุถุนุช ุชุจุฏู โ Conversion status."""
    SUCCESS = "success"
    PARTIAL = "partial"
    FAILED = "failed"
    SKIPPED = "skipped"


class IssueSeverity(str, Enum):
    """ุดุฏุช ูุดฺฉู โ Issue severity level."""
    ERROR = "error"
    WARNING = "warning"
    INFO = "info"
    HINT = "hint"


class QualityGrade(str, Enum):
    """ุฏุฑุฌู ฺฉูุช โ Quality grade."""
    EXCELLENT = "excellent"     # 90-100
    GOOD = "good"               # 75-89
    FAIR = "fair"               # 50-74
    POOR = "poor"               # 0-49

    @classmethod
    def from_score(cls, score: int) -> "QualityGrade":
        if score >= 90:
            return cls.EXCELLENT
        elif score >= 75:
            return cls.GOOD
        elif score >= 50:
            return cls.FAIR
        else:
            return cls.POOR
'@

# ============================================================
# 2. models/metadata.py โ ูุชุงุฏุชุง ุณูุฏ
# ============================================================
Save-File "formatforge/models/metadata.py" @'
"""
ูุฏู ูุชุงุฏุชุง ุณูุฏ โ Document Metadata Model.
ุดุงูู ุชูุงู ุงุทูุงุนุงุช frontmatter ู SEO ููุฑุฏ ูุงุฒ ุจุฑุง MDX.
"""

from __future__ import annotations

import re
from datetime import datetime

from pydantic import BaseModel, Field, field_validator, model_validator

from formatforge.models.enums import (
    DocumentDirection,
    DocumentFormat,
    DocumentLanguage,
    DocumentType,
)

# โโโโโโโโโโโโ ุซุงุจุชโูุง โโโโโโโโโโโโ

ZWNJ = "\u200c"
SLUG_PATTERN = re.compile(r"^[a-z0-9]+(?:-[a-z0-9]+)*$")
SLUG_MAX_LENGTH = 60


# โโโโโโโโโโโโ ูุฏูโูุง ูุฑุน โโโโโโโโโโโโ


class AuthorInfo(BaseModel):
    """ุงุทูุงุนุงุช ููุณูุฏู โ Author information."""

    name: str = Field(..., min_length=1, description="ูุงู ููุณูุฏู (ูุงุฑุณ)")
    name_en: str | None = Field(None, description="ูุงู ููุณูุฏู (ุงูฺฏูุณ)")
    email: str | None = Field(None, description="ุงูู")
    url: str | None = Field(None, description="ูุจโุณุงุช")
    affiliation: str | None = Field(None, description="ูุงุจุณุชฺฏ ุณุงุฒูุงู")


class SeriesInfo(BaseModel):
    """ุงุทูุงุนุงุช ูุฌููุนู โ Series information (for multi-chapter books)."""

    name: str = Field(..., description="ูุงู ูุฌููุนู")
    slug: str = Field(..., description="Slug ูุฌููุนู")
    order: int = Field(..., ge=0, description="ุชุฑุชุจ ุฏุฑ ูุฌููุนู")
    total: int | None = Field(None, ge=1, description="ุชุนุฏุงุฏ ฺฉู ุงุฌุฒุง")


class AssetReference(BaseModel):
    """ุงุฑุฌุงุน ุจู ูุงู ูุงุจุณุชู โ Asset file reference."""

    path: str = Field(..., description="ูุณุฑ ูุงู")
    type: str = Field(..., description="ููุน ูุงู (image/png, image/svg, etc.)")
    alt_text: str | None = Field(None, description="ูุชู ุฌุงฺฏุฒู (ุจุฑุง ุชุตุงูุฑ)")
    original_path: str | None = Field(None, description="ูุณุฑ ุงุตู ูุจู ุงุฒ ุชุจุฏู")


# โโโโโโโโโโโโ ูุฏู ุงุตู โโโโโโโโโโโโ


class DocumentMetadata(BaseModel):
    """
    ูุชุงุฏุชุง ฺฉุงูู ฺฉ ุณูุฏ โ Complete document metadata.
    ุงู ูุฏู ูุณุชููุงู ุจู frontmatter ูุงู MDX ุชุจุฏู ูโุดูุฏ.

    Full metadata schema for a document. This model maps directly
    to the MDX frontmatter output.
    """

    # โโโ ุงุฌุจุงุฑ (Required) โโโ
    title: str = Field(
        ...,
        min_length=1,
        max_length=200,
        description="ุนููุงู ุณูุฏ (ูุงุฑุณ)",
    )
    slug: str = Field(
        ...,
        min_length=1,
        max_length=SLUG_MAX_LENGTH,
        description="ูุณุฑ URL (ููุท a-z, 0-9, -)",
    )
    date: str = Field(
        ...,
        description="ุชุงุฑุฎ ุงูุชุดุงุฑ (ISO 8601: YYYY-MM-DD)",
    )
    lang: DocumentLanguage = Field(
        DocumentLanguage.PERSIAN,
        description="ุฒุจุงู ุงุตู ุณูุฏ",
    )
    dir: DocumentDirection = Field(
        DocumentDirection.RTL,
        description="ุฌูุช ุงุตู ูุชู",
    )

    # โโโ ููุณูุฏู โโโ
    author: AuthorInfo | None = Field(None, description="ุงุทูุงุนุงุช ููุณูุฏู")

    # โโโ ุนููุงู ุงูฺฏูุณ โโโ
    title_en: str | None = Field(None, max_length=200, description="ุนููุงู ุงูฺฏูุณ")

    # โโโ ุฏุณุชูโุจูุฏ โโโ
    type: DocumentType = Field(
        DocumentType.ARTICLE,
        description="ููุน ุณูุฏ",
    )
    tags: list[str] = Field(default_factory=list, description="ุจุฑฺุณุจโูุง (ูุงุฑุณ)")
    tags_en: list[str] = Field(default_factory=list, description="ุจุฑฺุณุจโูุง (ุงูฺฏูุณ)")
    categories: list[str] = Field(default_factory=list, description="ุฏุณุชูโุจูุฏโูุง")
    series: SeriesInfo | None = Field(None, description="ุงุทูุงุนุงุช ูุฌููุนู")

    # โโโ ูุญุชูุง โโโ
    description: str = Field(
        "",
        max_length=500,
        description="ุฎูุงุตู (ูุงุฑุณุ ุญุฏุงฺฉุซุฑ ตฐฐ ฺฉุงุฑุงฺฉุชุฑ)",
    )
    description_en: str | None = Field(None, max_length=500, description="ุฎูุงุตู ุงูฺฏูุณ")
    abstract: str | None = Field(None, description="ฺฺฉุฏู ููุตู")
    keywords: list[str] = Field(default_factory=list, description="ฺฉููุงุช ฺฉูุฏ")
    toc: bool = Field(True, description="ููุงุด ููุฑุณุช ูุทุงูุจ")
    math: bool = Field(False, description="ุขุง ุดุงูู ุฑุงุถ ุงุณุช")
    mermaid: bool = Field(False, description="ุขุง ุดุงูู ูููุฏุงุฑ Mermaid ุงุณุช")
    code_highlight: bool = Field(False, description="ุขุง ุดุงูู ฺฉุฏ ุงุณุช")

    # โโโ ูุงูโูุง โโโ
    source_format: DocumentFormat = Field(
        DocumentFormat.UNKNOWN,
        description="ูุฑูุช ุงุตู",
    )
    source_file: str = Field("", description="ูุงู ูุงู ุงุตู")
    assets: list[AssetReference] = Field(
        default_factory=list,
        description="ูุงูโูุง ูุงุจุณุชู",
    )
    featured_image: str | None = Field(None, description="ุชุตูุฑ ุดุงุฎุต")

    # โโโ SEO ู ูุจ โโโ
    canonical: str | None = Field(None, description="URL ฺฉุงูููฺฉุงู")
    no_index: bool = Field(False, description="ุนุฏู ุงูุฏฺฉุณ ุชูุณุท ููุชูุฑ ุฌุณุชุฌู")
    og_image: str | None = Field(None, description="ุชุตูุฑ Open Graph")

    # โโโ ุชุจุฏู โโโ
    converted_at: str | None = Field(None, description="ุฒูุงู ุชุจุฏู (ISO 8601)")
    converter_version: str | None = Field(None, description="ูุณุฎู FormatForge")
    quality_score: int | None = Field(None, ge=0, le=100, description="ุงูุชุงุฒ ฺฉูุช")
    conversion_notes: list[str] = Field(
        default_factory=list,
        description="ุงุฏุฏุงุดุชโูุง ุชุจุฏู",
    )

    # โโโ ุงุนุชุจุงุฑุณูุฌ (Validators) โโโ

    @field_validator("slug")
    @classmethod
    def validate_slug(cls, v: str) -> str:
        """ุจุฑุฑุณ ูุฑูุช slug โ Validate slug format (a-z, 0-9, hyphens only)."""
        v = v.strip().lower()
        if not SLUG_PATTERN.match(v):
            raise ValueError(
                f"Slug ูุงูุนุชุจุฑ: '{v}'. ููุท ุญุฑูู ฺฉูฺฺฉ ูุงุชูุ ุงุนุฏุงุฏ ู ุฎุทโุชุฑู ูุฌุงุฒ ุงุณุช."
            )
        return v

    @field_validator("date")
    @classmethod
    def validate_date(cls, v: str) -> str:
        """ุจุฑุฑุณ ูุฑูุช ุชุงุฑุฎ โ Validate ISO 8601 date format."""
        v = v.strip()
        try:
            datetime.fromisoformat(v)
        except ValueError:
            try:
                datetime.strptime(v, "%Y-%m-%d")
            except ValueError:
                raise ValueError(f"ุชุงุฑุฎ ูุงูุนุชุจุฑ: '{v}'. ูุฑูุช ููุฑุฏ ูุงุฒ: YYYY-MM-DD")
        return v

    @field_validator("title")
    @classmethod
    def validate_title(cls, v: str) -> str:
        """ุจุฑุฑุณ ุนููุงู โ Title should not be empty after stripping."""
        v = v.strip()
        if not v:
            raise ValueError("ุนููุงู ููโุชูุงูุฏ ุฎุงู ุจุงุดุฏ")
        return v

    @model_validator(mode="after")
    def set_direction_from_language(self) -> "DocumentMetadata":
        """ุชูุธู ุฎูุฏฺฉุงุฑ ุฌูุช ุจุฑ ุงุณุงุณ ุฒุจุงู โ Auto-set direction from language."""
        if self.lang == DocumentLanguage.ENGLISH and self.dir == DocumentDirection.RTL:
            # ุงฺฏุฑ ุฒุจุงู ุงูฺฏูุณ ุงุณุช ูู RTL ุชูุธู ุดุฏูุ ุงุตูุงุญ ููโฺฉูู
            # ููฺฉู ุงุณุช ุนูุฏ ุจุงุดุฏ
            pass
        return self

    # โโโ ูุชุฏูุง ฺฉูฺฉ โโโ

    def has_zwnj(self) -> bool:
        """ุขุง ุนููุงู ุดุงูู ููโูุงุตูู ุงุณุชุ"""
        return ZWNJ in self.title

    def to_frontmatter_dict(self) -> dict:
        """ุชุจุฏู ุจู ุฏฺฉุดูุฑ frontmatter โ Convert to frontmatter dict for MDX."""
        data = {
            "title": self.title,
            "slug": self.slug,
            "date": self.date,
            "lang": self.lang.value,
            "dir": self.dir.value,
        }

        if self.title_en:
            data["titleEn"] = self.title_en
        if self.author:
            data["author"] = self.author.model_dump(exclude_none=True)
        if self.type != DocumentType.UNKNOWN:
            data["type"] = self.type.value
        if self.tags:
            data["tags"] = self.tags
        if self.tags_en:
            data["tagsEn"] = self.tags_en
        if self.categories:
            data["categories"] = self.categories
        if self.series:
            data["series"] = self.series.model_dump(exclude_none=True)
        if self.description:
            data["description"] = self.description
        if self.description_en:
            data["descriptionEn"] = self.description_en
        if self.math:
            data["math"] = True
        if self.mermaid:
            data["mermaid"] = True
        if self.code_highlight:
            data["codeHighlight"] = True
        if self.toc:
            data["toc"] = True
        if self.featured_image:
            data["featuredImage"] = self.featured_image
        if self.source_format != DocumentFormat.UNKNOWN:
            data["sourceFormat"] = self.source_format.value
        if self.converted_at:
            data["convertedAt"] = self.converted_at
        if self.converter_version:
            data["converterVersion"] = self.converter_version
        if self.quality_score is not None:
            data["qualityScore"] = self.quality_score

        return data

    def to_frontmatter_yaml(self) -> str:
        """ุชุจุฏู ุจู ุฑุดุชู YAML frontmatter โ Convert to YAML frontmatter string."""
        import yaml

        data = self.to_frontmatter_dict()
        yaml_str = yaml.dump(
            data,
            default_flow_style=False,
            allow_unicode=True,
            sort_keys=False,
            width=120,
        )
        return f"---\n{yaml_str}---\n"

    @classmethod
    def create_minimal(
        cls,
        title: str,
        slug: str,
        date: str | None = None,
    ) -> "DocumentMetadata":
        """ุณุงุฎุช ููููู ุญุฏุงูู โ Create minimal metadata instance."""
        if date is None:
            date = datetime.now().strftime("%Y-%m-%d")
        return cls(title=title, slug=slug, date=date)
'@

# ============================================================
# 3. models/scan_report.py โ ฺฏุฒุงุฑุด ุงุณฺฉู
# ============================================================
Save-File "formatforge/models/scan_report.py" @'
"""
ูุฏู ฺฏุฒุงุฑุด ุงุณฺฉู โ Scan Report Model.
ูุชุฌู ูุฑุญูู ุงุณฺฉู ู ุดูุงุณุง ูุฑูุฏ.
"""

from __future__ import annotations

from datetime import datetime

from pydantic import BaseModel, Field, computed_field

from formatforge.models.enums import (
    DocumentFormat,
    DocumentLanguage,
    DocumentRole,
    IssueSeverity,
    StructureType,
)


# โโโโโโโโโโโโ ูุฏูโูุง ูุฑุน โโโโโโโโโโโโ


class EncodingInfo(BaseModel):
    """ุงุทูุงุนุงุช encoding ูุงู โ File encoding information."""

    name: str = Field("utf-8", description="ูุงู encoding")
    has_bom: bool = Field(False, description="ุขุง BOM ุฏุงุฑุฏ")
    confidence: float = Field(1.0, ge=0.0, le=1.0, description="ุถุฑุจ ุงุทููุงู")


class ScanIssue(BaseModel):
    """ูุดฺฉู ุดูุงุณุงโุดุฏู โ Detected issue during scanning."""

    severity: IssueSeverity = Field(..., description="ุดุฏุช ูุดฺฉู")
    file: str = Field("", description="ูุงู ูุฑุจูุทู")
    line: int | None = Field(None, description="ุดูุงุฑู ุฎุท (ุงุฎุชุงุฑ)")
    message: str = Field(..., description="ูพุงู ูุดฺฉู")
    suggestion: str = Field("", description="ูพุดููุงุฏ ุงุตูุงุญ")
    auto_fixable: bool = Field(False, description="ุขุง ูุงุจู ุงุตูุงุญ ุฎูุฏฺฉุงุฑ ุงุณุช")


class ImageReference(BaseModel):
    """ุงุฑุฌุงุน ุชุตูุฑ โ Image reference found in document."""

    path: str = Field(..., description="ูุณุฑ ุชุตูุฑ")
    exists: bool = Field(True, description="ุขุง ูุงู ูุฌูุฏ ุฏุงุฑุฏ")
    referenced_by: list[str] = Field(default_factory=list, description="ูุงูโูุง ุงุฑุฌุงุนโุฏููุฏู")


class DependencyInfo(BaseModel):
    """ุงุทูุงุนุงุช ูุงุจุณุชฺฏ โ Dependency file information."""

    path: str = Field(..., description="ูุณุฑ ูุงู ูุงุจุณุชู")
    type: str = Field(..., description="ููุน ูุงุจุณุชฺฏ (input, include, bibliography, image)")
    exists: bool = Field(True, description="ุขุง ูุฌูุฏ ุฏุงุฑุฏ")
    referenced_by: str = Field("", description="ูุงู ุงุฑุฌุงุนโุฏููุฏู")


class ScannedDocument(BaseModel):
    """ุงุทูุงุนุงุช ฺฉ ุณูุฏ ุงุณฺฉูโุดุฏู โ Information about a scanned document."""

    id: str = Field(..., description="ุดูุงุณู ููุญุตุฑุจูโูุฑุฏ")
    path: str = Field(..., description="ูุณุฑ ูุณุจ ูุงู")
    format: DocumentFormat = Field(..., description="ูุฑูุช ุดูุงุณุงโุดุฏู")
    encoding: EncodingInfo = Field(default_factory=EncodingInfo, description="ุงุทูุงุนุงุช encoding")
    language: DocumentLanguage = Field(
        DocumentLanguage.UNKNOWN,
        description="ุฒุจุงู ุดูุงุณุงโุดุฏู",
    )
    role: DocumentRole = Field(DocumentRole.STANDALONE, description="ููุด ูุงู")
    parent: str | None = Field(None, description="ุดูุงุณู ุณูุฏ ูุงูุฏ (ุจุฑุง ูุตูโูุง)")
    size_bytes: int = Field(0, ge=0, description="ุญุฌู ูุงู (ุจุงุช)")
    estimated_pages: int | None = Field(None, description="ุชุนุฏุงุฏ ุชูุฑุจ ุตูุญุงุช")

    # ูุงุจุณุชฺฏโูุง
    dependencies: list[str] = Field(
        default_factory=list,
        description="ูุณุฑ ูุงูโูุง include/input ุดุฏู",
    )
    images_referenced: list[str] = Field(
        default_factory=list,
        description="ูุณุฑ ุชุตุงูุฑ ุงุฑุฌุงุนโุดุฏู",
    )

    # ูฺฺฏโูุง ูุญุชูุง
    has_math: bool = Field(False, description="ุดุงูู ูุฑููู ุฑุงุถ")
    has_code: bool = Field(False, description="ุดุงูู ุจููฺฉ ฺฉุฏ")
    has_tables: bool = Field(False, description="ุดุงูู ุฌุฏูู")
    has_bibliography: bool = Field(False, description="ุดุงูู ฺฉุชุงุจโูุงูู")
    has_tikz: bool = Field(False, description="ุดุงูู ูููุฏุงุฑ TikZ")
    has_mermaid: bool = Field(False, description="ุดุงูู ูููุฏุงุฑ Mermaid")

    # ุขูุงุฑ ุณุฑุน
    zwnj_count: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ููโูุงุตููโูุง")
    word_count_approx: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุชูุฑุจ ฺฉููุงุช")

    @computed_field
    @property
    def size_human(self) -> str:
        """ุญุฌู ูุงู ุจู ุดฺฉู ุฎูุงูุง"""
        if self.size_bytes < 1024:
            return f"{self.size_bytes} B"
        elif self.size_bytes < 1024 * 1024:
            return f"{self.size_bytes / 1024:.1f} KB"
        else:
            return f"{self.size_bytes / (1024 * 1024):.1f} MB"


class ScannedAsset(BaseModel):
    """ุงุทูุงุนุงุช ูุงู ูุงุจุณุชู (ุชุตูุฑุ ูููุช ู...) โ Scanned asset file."""

    path: str = Field(..., description="ูุณุฑ ูุณุจ")
    type: str = Field(..., description="MIME type")
    size_bytes: int = Field(0, ge=0, description="ุญุฌู (ุจุงุช)")
    referenced_by: list[str] = Field(
        default_factory=list,
        description="ุดูุงุณู ุงุณูุงุฏ ฺฉู ุจู ุขู ุงุฑุฌุงุน ุฏุงุฑูุฏ",
    )


# โโโโโโโโโโโโ ูุฏู ุงุตู โโโโโโโโโโโโ


class ScanReport(BaseModel):
    """
    ฺฏุฒุงุฑุด ฺฉุงูู ุงุณฺฉู โ Complete scan report.
    ุฎุฑูุฌ ูุฑุญูู ฑ (Stage 1) ุฎุท ูููู ุชุจุฏู.
    """

    # ุดูุงุณู ู ุฒูุงู
    scan_id: str = Field(..., description="ุดูุงุณู ุงุณฺฉู")
    timestamp: str = Field(
        default_factory=lambda: datetime.now().isoformat(),
        description="ุฒูุงู ุงุณฺฉู (ISO 8601)",
    )

    # ูุฑูุฏ
    input_path: str = Field(..., description="ูุณุฑ ูุฑูุฏ")
    input_type: str = Field(
        "file",
        description="ููุน ูุฑูุฏ (file, directory, archive, url, clipboard)",
    )

    # ุณุงุฎุชุงุฑ
    structure: StructureType = Field(
        StructureType.UNKNOWN,
        description="ููุน ุณุงุฎุชุงุฑ ุดูุงุณุงโุดุฏู",
    )

    # ุงุณูุงุฏ ู ูุงูโูุง
    documents: list[ScannedDocument] = Field(
        default_factory=list,
        description="ูุณุช ุงุณูุงุฏ ุดูุงุณุงโุดุฏู",
    )
    assets: list[ScannedAsset] = Field(
        default_factory=list,
        description="ูุณุช ูุงูโูุง ูุงุจุณุชู",
    )
    all_dependencies: list[DependencyInfo] = Field(
        default_factory=list,
        description="ฺฏุฑุงู ูุงุจุณุชฺฏ ฺฉุงูู",
    )

    # ูุดฺฉูุงุช
    issues: list[ScanIssue] = Field(
        default_factory=list,
        description="ูุดฺฉูุงุช ุดูุงุณุงโุดุฏู",
    )

    # ุชุฃุฏ
    confirmation_required: bool = Field(True, description="ุขุง ุชุฃุฏ ฺฉุงุฑุจุฑ ูุงุฒู ุงุณุช")

    # โโโ ููุฏูุง ูุญุงุณุจูโุง โโโ

    @computed_field
    @property
    def total_files(self) -> int:
        """ุชุนุฏุงุฏ ฺฉู ูุงูโูุง"""
        return len(self.documents) + len(self.assets)

    @computed_field
    @property
    def total_documents(self) -> int:
        """ุชุนุฏุงุฏ ุงุณูุงุฏ"""
        return len(self.documents)

    @computed_field
    @property
    def total_assets(self) -> int:
        """ุชุนุฏุงุฏ ูุงูโูุง ูุงุจุณุชู"""
        return len(self.assets)

    @computed_field
    @property
    def total_size_bytes(self) -> int:
        """ุญุฌู ฺฉู"""
        doc_size = sum(d.size_bytes for d in self.documents)
        asset_size = sum(a.size_bytes for a in self.assets)
        return doc_size + asset_size

    @computed_field
    @property
    def error_count(self) -> int:
        """ุชุนุฏุงุฏ ุฎุทุงูุง"""
        return sum(1 for i in self.issues if i.severity == IssueSeverity.ERROR)

    @computed_field
    @property
    def warning_count(self) -> int:
        """ุชุนุฏุงุฏ ูุดุฏุงุฑูุง"""
        return sum(1 for i in self.issues if i.severity == IssueSeverity.WARNING)

    @computed_field
    @property
    def primary_format(self) -> DocumentFormat:
        """ูุฑูุช ุงุตู (ุดุงุนโุชุฑู)"""
        if not self.documents:
            return DocumentFormat.UNKNOWN
        formats = [d.format for d in self.documents]
        return max(set(formats), key=formats.count)

    @computed_field
    @property
    def primary_language(self) -> DocumentLanguage:
        """ุฒุจุงู ุงุตู"""
        if not self.documents:
            return DocumentLanguage.UNKNOWN
        langs = [d.language for d in self.documents if d.language != DocumentLanguage.UNKNOWN]
        if not langs:
            return DocumentLanguage.UNKNOWN
        return max(set(langs), key=langs.count)

    # โโโ ูุชุฏูุง โโโ

    def get_document_by_id(self, doc_id: str) -> ScannedDocument | None:
        """ุฏุฑุงูุช ุณูุฏ ุจุง ุดูุงุณู"""
        for doc in self.documents:
            if doc.id == doc_id:
                return doc
        return None

    def get_main_document(self) -> ScannedDocument | None:
        """ุฏุฑุงูุช ุณูุฏ ุงุตู (main_entry)"""
        for doc in self.documents:
            if doc.role == DocumentRole.MAIN_ENTRY:
                return doc
        # ุงฺฏุฑ main_entry ูุจูุฏุ ุงููู standalone
        for doc in self.documents:
            if doc.role == DocumentRole.STANDALONE:
                return doc
        return self.documents[0] if self.documents else None

    def get_chapters(self) -> list[ScannedDocument]:
        """ุฏุฑุงูุช ูุตูโูุง (ูุฑุชุจ)"""
        chapters = [d for d in self.documents if d.role == DocumentRole.CHAPTER]
        return sorted(chapters, key=lambda d: d.path)

    def get_missing_dependencies(self) -> list[DependencyInfo]:
        """ุฏุฑุงูุช ูุงุจุณุชฺฏโูุง ฺฏูุดุฏู"""
        return [d for d in self.all_dependencies if not d.exists]

    def get_auto_fixable_issues(self) -> list[ScanIssue]:
        """ุฏุฑุงูุช ูุดฺฉูุงุช ูุงุจู ุงุตูุงุญ ุฎูุฏฺฉุงุฑ"""
        return [i for i in self.issues if i.auto_fixable]

    def has_critical_issues(self) -> bool:
        """ุขุง ูุดฺฉู ุจุญุฑุงู ูุฌูุฏ ุฏุงุฑุฏ"""
        return self.error_count > 0

    @classmethod
    def create(cls, scan_id: str, input_path: str, input_type: str = "file") -> "ScanReport":
        """ุณุงุฎุช ููููู ุฎุงู โ Create empty report."""
        return cls(scan_id=scan_id, input_path=input_path, input_type=input_type)
'@

# ============================================================
# 4. models/conversion_result.py โ ูุชุฌู ุชุจุฏู
# ============================================================
Save-File "formatforge/models/conversion_result.py" @'
"""
ูุฏู ูุชุฌู ุชุจุฏู โ Conversion Result Model.
ุฎุฑูุฌ ูุฑุญูู ณ (Stage 3) ู ูุฑุงุญู ุจุนุฏ ุฎุท ูููู.
"""

from __future__ import annotations

from datetime import datetime

from pydantic import BaseModel, Field, computed_field

from formatforge.models.enums import (
    ConversionStatus,
    DocumentFormat,
    IssueSeverity,
    QualityGrade,
)
from formatforge.models.metadata import DocumentMetadata


# โโโโโโโโโโโโ ูุฏูโูุง ุขูุงุฑ โโโโโโโโโโโโ


class ElementCounts(BaseModel):
    """ุดูุงุฑุด ุนูุงุตุฑ ุณูุฏ โ Element counts for content comparison."""

    headings: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุนูุงูู")
    paragraphs: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูพุงุฑุงฺฏุฑุงูโูุง")
    math_inline: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูุฑูููโูุง inline")
    math_display: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูุฑูููโูุง display")
    images: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุชุตุงูุฑ")
    tables: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุฌุฏุงูู")
    code_blocks: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุจููฺฉโูุง ฺฉุฏ")
    lists: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูุณุชโูุง")
    footnotes: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูพุงููุดุชโูุง")
    citations: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช")
    cross_refs: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุงุฑุฌุงุนุงุช ูุชูุงุทุน")
    links_internal: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ููฺฉโูุง ุฏุงุฎู")
    links_external: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ููฺฉโูุง ุฎุงุฑุฌ")
    admonitions: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุฌุนุจูโูุง ูฺู")
    diagrams_tikz: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูููุฏุงุฑูุง TikZ")
    diagrams_mermaid: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ูููุฏุงุฑูุง Mermaid")
    words_approx: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุชูุฑุจ ฺฉููุงุช")
    zwnj_count: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ููโูุงุตููโูุง")

    @computed_field
    @property
    def total_math(self) -> int:
        """ูุฌููุน ูุฑูููโูุง"""
        return self.math_inline + self.math_display

    @computed_field
    @property
    def total_diagrams(self) -> int:
        """ูุฌููุน ูููุฏุงุฑูุง"""
        return self.diagrams_tikz + self.diagrams_mermaid

    @computed_field
    @property
    def total_links(self) -> int:
        """ูุฌููุน ููฺฉโูุง"""
        return self.links_internal + self.links_external


class ConversionStats(BaseModel):
    """ุขูุงุฑ ุชุจุฏู โ Conversion statistics."""

    source_counts: ElementCounts = Field(
        default_factory=ElementCounts,
        description="ุดูุงุฑุด ุนูุงุตุฑ ูุฑูุฏ",
    )
    output_counts: ElementCounts = Field(
        default_factory=ElementCounts,
        description="ุดูุงุฑุด ุนูุงุตุฑ ุฎุฑูุฌ",
    )
    duration_seconds: float = Field(0.0, ge=0, description="ูุฏุช ุชุจุฏู (ุซุงูู)")
    output_size_bytes: int = Field(0, ge=0, description="ุญุฌู ุฎุฑูุฌ MDX (ุจุงุช)")
    assets_size_bytes: int = Field(0, ge=0, description="ุญุฌู ูุงูโูุง ูุงุจุณุชู (ุจุงุช)")

    @computed_field
    @property
    def total_output_size(self) -> int:
        """ุญุฌู ฺฉู ุฎุฑูุฌ"""
        return self.output_size_bytes + self.assets_size_bytes

    @computed_field
    @property
    def zwnj_preserved(self) -> bool:
        """ุขุง ููโูุงุตููโูุง ุญูุธ ุดุฏูโุงูุฏ"""
        return self.source_counts.zwnj_count == self.output_counts.zwnj_count

    @computed_field
    @property
    def zwnj_diff(self) -> int:
        """ุงุฎุชูุงู ุชุนุฏุงุฏ ููโูุงุตูู"""
        return self.source_counts.zwnj_count - self.output_counts.zwnj_count

    def element_ratio(self, element: str) -> float:
        """ูุณุจุช ุนูุตุฑ ุฎุฑูุฌ ุจู ูุฑูุฏ (1.0 = ฺฉุงูู)"""
        src = getattr(self.source_counts, element, 0)
        out = getattr(self.output_counts, element, 0)
        if src == 0:
            return 1.0 if out == 0 else 0.0
        return min(out / src, 1.0)


# โโโโโโโโโโโโ ูุดฺฉูุงุช ุชุจุฏู โโโโโโโโโโโโ


class ConversionIssue(BaseModel):
    """ูุดฺฉู ุดูุงุณุงโุดุฏู ุฏุฑ ุชุจุฏู โ Issue found during conversion."""

    severity: IssueSeverity = Field(..., description="ุดุฏุช")
    stage: str = Field("conversion", description="ูุฑุญูู (conversion, test, deploy)")
    source_file: str = Field("", description="ูุงู ูุจุฏุฃ")
    source_line: int | None = Field(None, description="ุฎุท ูุจุฏุฃ")
    message: str = Field(..., description="ูพุงู")
    suggestion: str = Field("", description="ูพุดููุงุฏ ุงุตูุงุญ")
    auto_fixed: bool = Field(False, description="ุขุง ุฎูุฏฺฉุงุฑ ุงุตูุงุญ ุดุฏ")
    element_type: str = Field("", description="ููุน ุนูุตุฑ (math, table, image, ...)")


# โโโโโโโโโโโโ ูุงู ุฎุฑูุฌ โโโโโโโโโโโโ


class OutputFile(BaseModel):
    """ุงุทูุงุนุงุช ูุงู ุฎุฑูุฌ โ Output file information."""

    path: str = Field(..., description="ูุณุฑ ุฎุฑูุฌ")
    type: str = Field("mdx", description="ููุน: mdx, svg, png, webp, json")
    size_bytes: int = Field(0, ge=0, description="ุญุฌู (ุจุงุช)")
    is_main: bool = Field(False, description="ุขุง ูุงู MDX ุงุตู ุงุณุช")
    source_path: str | None = Field(None, description="ูุณุฑ ูุงู ูุจุฏุฃ")


# โโโโโโโโโโโโ ฺฏุฒุงุฑุด ฺฉูุช โโโโโโโโโโโโ


class QualityReport(BaseModel):
    """ฺฏุฒุงุฑุด ุชุณุช ฺฉูุช โ Quality test report."""

    # ุงูุชุงุฒูุง ุฌุฒุฆ (ูุฑ ฺฉุฏุงู 0-100)
    structural_score: int = Field(0, ge=0, le=100, description="ุงูุชุงุฒ ุณุงุฎุชุงุฑ")
    content_score: int = Field(0, ge=0, le=100, description="ุงูุชุงุฒ ูุญุชูุง")
    math_score: int = Field(0, ge=0, le=100, description="ุงูุชุงุฒ ุฑุงุถ")
    persian_score: int = Field(0, ge=0, le=100, description="ุงูุชุงุฒ ูุงุฑุณ/RTL")
    link_score: int = Field(0, ge=0, le=100, description="ุงูุชุงุฒ ููฺฉโูุง")
    visual_score: int | None = Field(None, ge=0, le=100, description="ุงูุชุงุฒ ุจุตุฑ (ุงุฎุชุงุฑ)")

    # ุฌุฒุฆุงุช
    tests_passed: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุชุณุชโูุง ูููู")
    tests_failed: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุชุณุชโูุง ูุงูููู")
    tests_skipped: int = Field(0, ge=0, description="ุชุนุฏุงุฏ ุชุณุชโูุง ูุงุฏุฏูโฺฏุฑูุชูโุดุฏู")

    # ูุดฺฉูุงุช
    issues: list[ConversionIssue] = Field(
        default_factory=list,
        description="ูุดฺฉูุงุช ฺฉูุช",
    )

    @computed_field
    @property
    def total_score(self) -> int:
        """ุงูุชุงุฒ ฺฉู (ูุฒู) โ Weighted total quality score."""
        # ูุฒูโูุง: ุณุงุฎุชุงุฑ 25%, ูุญุชูุง 25%, ุฑุงุถ 20%, ูุงุฑุณ 20%, ููฺฉ 10%
        score = (
            self.structural_score * 0.25
            + self.content_score * 0.25
            + self.math_score * 0.20
            + self.persian_score * 0.20
            + self.link_score * 0.10
        )
        return round(score)

    @computed_field
    @property
    def grade(self) -> QualityGrade:
        """ุฏุฑุฌู ฺฉูุช"""
        return QualityGrade.from_score(self.total_score)

    @computed_field
    @property
    def total_tests(self) -> int:
        """ุชุนุฏุงุฏ ฺฉู ุชุณุชโูุง"""
        return self.tests_passed + self.tests_failed + self.tests_skipped

    def passes_threshold(self, threshold: int = 80) -> bool:
        """ุขุง ุงุฒ ุญุฏ ูุฌุงุฒ ุนุจูุฑ ูโฺฉูุฏ"""
        return self.total_score >= threshold


# โโโโโโโโโโโโ ูุชุฌู ุชุจุฏู ุงุตู โโโโโโโโโโโโ


class ConversionResult(BaseModel):
    """
    ูุชุฌู ฺฉุงูู ุชุจุฏู ฺฉ ุณูุฏ โ Complete conversion result for one document.
    ุฎุฑูุฌ ูุฑุญูู ณ (Stage 3).
    """

    # ุดูุงุณู ู ูุถุนุช
    conversion_id: str = Field(..., description="ุดูุงุณู ุชุจุฏู")
    status: ConversionStatus = Field(..., description="ูุถุนุช ุชุจุฏู")
    timestamp: str = Field(
        default_factory=lambda: datetime.now().isoformat(),
        description="ุฒูุงู ุชุจุฏู",
    )

    # ูุฑูุฏ
    source_path: str = Field(..., description="ูุณุฑ ูุงู ูุฑูุฏ")
    source_format: DocumentFormat = Field(..., description="ูุฑูุช ูุฑูุฏ")

    # ุฎุฑูุฌ
    output_files: list[OutputFile] = Field(
        default_factory=list,
        description="ูุงูโูุง ุฎุฑูุฌ",
    )
    mdx_content: str | None = Field(
        None,
        description="ูุญุชูุง MDX ุชููุฏุดุฏู (ุจุฑุง ุชฺฉโูุงู)",
        exclude=True,  # ุงุฒ ุณุฑุงูุงุฒ JSON/YAML ูุณุชุซู
    )

    # ูุชุงุฏุชุง
    metadata: DocumentMetadata | None = Field(None, description="ูุชุงุฏุชุง ุงุณุชุฎุฑุงุฌโุดุฏู")

    # ุขูุงุฑ
    stats: ConversionStats = Field(
        default_factory=ConversionStats,
        description="ุขูุงุฑ ุชุจุฏู",
    )

    # ฺฉูุช
    quality: QualityReport | None = Field(None, description="ฺฏุฒุงุฑุด ฺฉูุช")

    # ูุดฺฉูุงุช
    issues: list[ConversionIssue] = Field(
        default_factory=list,
        description="ูุดฺฉูุงุช ุชุจุฏู",
    )

    # โโโ ููุฏูุง ูุญุงุณุจูโุง โโโ

    @computed_field
    @property
    def is_success(self) -> bool:
        """ุขุง ุชุจุฏู ูููู ุจูุฏ"""
        return self.status == ConversionStatus.SUCCESS

    @computed_field
    @property
    def error_count(self) -> int:
        """ุชุนุฏุงุฏ ุฎุทุงูุง"""
        return sum(1 for i in self.issues if i.severity == IssueSeverity.ERROR)

    @computed_field
    @property
    def warning_count(self) -> int:
        """ุชุนุฏุงุฏ ูุดุฏุงุฑูุง"""
        return sum(1 for i in self.issues if i.severity == IssueSeverity.WARNING)

    @computed_field
    @property
    def quality_score(self) -> int:
        """ุงูุชุงุฒ ฺฉูุช (0-100)"""
        if self.quality:
            return self.quality.total_score
        return 0

    @computed_field
    @property
    def main_output_file(self) -> str | None:
        """ูุณุฑ ูุงู MDX ุงุตู"""
        for f in self.output_files:
            if f.is_main:
                return f.path
        return self.output_files[0].path if self.output_files else None

    # โโโ ูุชุฏูุง โโโ

    def add_issue(
        self,
        severity: IssueSeverity,
        message: str,
        *,
        source_file: str = "",
        source_line: int | None = None,
        suggestion: str = "",
        auto_fixed: bool = False,
        element_type: str = "",
    ) -> None:
        """ุงุถุงูู ฺฉุฑุฏู ูุดฺฉู"""
        self.issues.append(
            ConversionIssue(
                severity=severity,
                message=message,
                source_file=source_file,
                source_line=source_line,
                suggestion=suggestion,
                auto_fixed=auto_fixed,
                element_type=element_type,
            )
        )

    def add_output_file(
        self,
        path: str,
        type: str = "mdx",
        size_bytes: int = 0,
        is_main: bool = False,
        source_path: str | None = None,
    ) -> None:
        """ุงุถุงูู ฺฉุฑุฏู ูุงู ุฎุฑูุฌ"""
        self.output_files.append(
            OutputFile(
                path=path,
                type=type,
                size_bytes=size_bytes,
                is_main=is_main,
                source_path=source_path,
            )
        )

    @classmethod
    def create_success(
        cls,
        conversion_id: str,
        source_path: str,
        source_format: DocumentFormat,
    ) -> "ConversionResult":
        """ุณุงุฎุช ูุชุฌู ูููู โ Create successful result."""
        return cls(
            conversion_id=conversion_id,
            status=ConversionStatus.SUCCESS,
            source_path=source_path,
            source_format=source_format,
        )

    @classmethod
    def create_failure(
        cls,
        conversion_id: str,
        source_path: str,
        source_format: DocumentFormat,
        error_message: str,
    ) -> "ConversionResult":
        """ุณุงุฎุช ูุชุฌู ูุงูููู โ Create failed result."""
        result = cls(
            conversion_id=conversion_id,
            status=ConversionStatus.FAILED,
            source_path=source_path,
            source_format=source_format,
        )
        result.add_issue(IssueSeverity.ERROR, error_message)
        return result


# โโโโโโโโโโโโ ูุชุงุฌ ุฏุณุชูโุง โโโโโโโโโโโโ


class BatchConversionResult(BaseModel):
    """ูุชุฌู ุชุจุฏู ุฏุณุชูโุง โ Batch conversion result for multiple documents."""

    batch_id: str = Field(..., description="ุดูุงุณู ุฏุณุชู")
    timestamp: str = Field(
        default_factory=lambda: datetime.now().isoformat(),
        description="ุฒูุงู ุดุฑูุน",
    )
    results: list[ConversionResult] = Field(
        default_factory=list,
        description="ูุชุงุฌ ุชฺฉโุชฺฉ ุชุจุฏูโูุง",
    )
    total_duration_seconds: float = Field(0.0, ge=0, description="ูุฏุช ฺฉู")

    @computed_field
    @property
    def total(self) -> int:
        return len(self.results)

    @computed_field
    @property
    def success_count(self) -> int:
        return sum(1 for r in self.results if r.is_success)

    @computed_field
    @property
    def failure_count(self) -> int:
        return sum(1 for r in self.results if r.status == ConversionStatus.FAILED)

    @computed_field
    @property
    def avg_quality_score(self) -> int:
        scores = [r.quality_score for r in self.results if r.quality_score > 0]
        return round(sum(scores) / len(scores)) if scores else 0

    @computed_field
    @property
    def all_zwnj_preserved(self) -> bool:
        """ุขุง ุชูุงู ููโูุงุตููโูุง ุฏุฑ ุชูุงู ุงุณูุงุฏ ุญูุธ ุดุฏู"""
        return all(r.stats.zwnj_preserved for r in self.results)
'@

# ============================================================
# 5. models/__init__.py โ ุจุงุฒุตุงุฏุฑุงุช
# ============================================================
Save-File "formatforge/models/__init__.py" @'
"""
ูุฏูโูุง ุฏุงุฏู FormatForge โ Data models.
ุชูุงู ูุฏูโูุง Pydantic ุงุฒ ุงูุฌุง ูุงุจู import ูุณุชูุฏ.
"""

from formatforge.models.enums import (
    ConversionStatus,
    DocumentDirection,
    DocumentFormat,
    DocumentLanguage,
    DocumentRole,
    DocumentType,
    IssueSeverity,
    QualityGrade,
    StructureType,
)
from formatforge.models.metadata import (
    AssetReference,
    AuthorInfo,
    DocumentMetadata,
    SeriesInfo,
)
from formatforge.models.scan_report import (
    DependencyInfo,
    EncodingInfo,
    ImageReference,
    ScanIssue,
    ScanReport,
    ScannedAsset,
    ScannedDocument,
)
from formatforge.models.conversion_result import (
    BatchConversionResult,
    ConversionIssue,
    ConversionResult,
    ConversionStats,
    ElementCounts,
    OutputFile,
    QualityReport,
)

__all__ = [
    # Enums
    "ConversionStatus",
    "DocumentDirection",
    "DocumentFormat",
    "DocumentLanguage",
    "DocumentRole",
    "DocumentType",
    "IssueSeverity",
    "QualityGrade",
    "StructureType",
    # Metadata
    "AssetReference",
    "AuthorInfo",
    "DocumentMetadata",
    "SeriesInfo",
    # Scan
    "DependencyInfo",
    "EncodingInfo",
    "ImageReference",
    "ScanIssue",
    "ScanReport",
    "ScannedAsset",
    "ScannedDocument",
    # Conversion
    "BatchConversionResult",
    "ConversionIssue",
    "ConversionResult",
    "ConversionStats",
    "ElementCounts",
    "OutputFile",
    "QualityReport",
]
'@

# ============================================================
# 6. tests/test_models.py โ ุชุณุชโูุง
# ============================================================
Save-File "tests/test_models.py" @'
"""
ุชุณุชโูุง ูุฏูโูุง Pydantic โ Tests for data models.
"""

import pytest
from pydantic import ValidationError

from formatforge.models import (
    AuthorInfo,
    ConversionResult,
    ConversionStats,
    DocumentDirection,
    DocumentFormat,
    DocumentLanguage,
    DocumentMetadata,
    DocumentType,
    ElementCounts,
    ConversionStatus,
    IssueSeverity,
    QualityGrade,
    QualityReport,
    ScanReport,
    ScannedDocument,
    ScanIssue,
    SeriesInfo,
    StructureType,
    BatchConversionResult,
)


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุชุณุช Enums
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


class TestDocumentFormat:
    """ุชุณุช ุดูุงุฑุด ูุฑูุชโูุง"""

    def test_from_extension_latex(self):
        assert DocumentFormat.from_extension(".tex") == DocumentFormat.LATEX
        assert DocumentFormat.from_extension("tex") == DocumentFormat.LATEX
        assert DocumentFormat.from_extension(".TEX") == DocumentFormat.LATEX

    def test_from_extension_markdown(self):
        assert DocumentFormat.from_extension(".md") == DocumentFormat.MARKDOWN
        assert DocumentFormat.from_extension(".mdx") == DocumentFormat.MARKDOWN

    def test_from_extension_html(self):
        assert DocumentFormat.from_extension(".html") == DocumentFormat.HTML
        assert DocumentFormat.from_extension(".htm") == DocumentFormat.HTML

    def test_from_extension_unknown(self):
        assert DocumentFormat.from_extension(".xyz") == DocumentFormat.UNKNOWN

    def test_from_extension_all_formats(self):
        known = {
            ".tex": DocumentFormat.LATEX,
            ".md": DocumentFormat.MARKDOWN,
            ".html": DocumentFormat.HTML,
            ".docx": DocumentFormat.DOCX,
            ".pdf": DocumentFormat.PDF,
            ".rst": DocumentFormat.RST,
            ".adoc": DocumentFormat.ASCIIDOC,
            ".epub": DocumentFormat.EPUB,
            ".ipynb": DocumentFormat.NOTEBOOK,
        }
        for ext, expected in known.items():
            assert DocumentFormat.from_extension(ext) == expected, f"Failed for {ext}"


class TestQualityGrade:
    """ุชุณุช ุฏุฑุฌูโุจูุฏ ฺฉูุช"""

    def test_excellent(self):
        assert QualityGrade.from_score(95) == QualityGrade.EXCELLENT
        assert QualityGrade.from_score(90) == QualityGrade.EXCELLENT
        assert QualityGrade.from_score(100) == QualityGrade.EXCELLENT

    def test_good(self):
        assert QualityGrade.from_score(85) == QualityGrade.GOOD
        assert QualityGrade.from_score(75) == QualityGrade.GOOD

    def test_fair(self):
        assert QualityGrade.from_score(60) == QualityGrade.FAIR
        assert QualityGrade.from_score(50) == QualityGrade.FAIR

    def test_poor(self):
        assert QualityGrade.from_score(30) == QualityGrade.POOR
        assert QualityGrade.from_score(0) == QualityGrade.POOR


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุชุณุช DocumentMetadata
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


class TestDocumentMetadata:
    """ุชุณุช ูุฏู ูุชุงุฏุชุง"""

    def test_create_minimal(self):
        """ุณุงุฎุช ููููู ุญุฏุงูู"""
        meta = DocumentMetadata.create_minimal(
            title="ูุงููู ุฏููุฑฺฏุงู",
            slug="de-morgans-laws",
        )
        assert meta.title == "ูุงููู ุฏููุฑฺฏุงู"
        assert meta.slug == "de-morgans-laws"
        assert meta.lang == DocumentLanguage.PERSIAN
        assert meta.dir == DocumentDirection.RTL

    def test_create_full(self):
        """ุณุงุฎุช ููููู ฺฉุงูู"""
        meta = DocumentMetadata(
            title="ูุจุงู ููุทู ุฑุงุถ",
            title_en="Foundations of Mathematical Logic",
            slug="foundations-math-logic",
            date="2025-07-13",
            lang=DocumentLanguage.BILINGUAL,
            dir=DocumentDirection.RTL,
            author=AuthorInfo(name="ููุฏ ุณุงูู", name_en="Mahdi Salem"),
            type=DocumentType.BOOK,
            tags=["ููุทู", "ุฑุงุถ"],
            tags_en=["logic", "mathematics"],
            description="ุจุฑุฑุณ ูุจุงู ููุทู ุฑุงุถ ู ุงุซุจุงุชโูุง ุตูุฑ",
            math=True,
            code_highlight=True,
            source_format=DocumentFormat.LATEX,
        )
        assert meta.title_en == "Foundations of Mathematical Logic"
        assert meta.math is True
        assert meta.type == DocumentType.BOOK

    def test_slug_validation_valid(self):
        """Slug ูุนุชุจุฑ"""
        meta = DocumentMetadata.create_minimal(
            title="ุชุณุช", slug="valid-slug-123"
        )
        assert meta.slug == "valid-slug-123"

    def test_slug_validation_invalid_uppercase(self):
        """Slug ุจุง ุญุฑูู ุจุฒุฑฺฏ โ ุฎุทุง"""
        with pytest.raises(ValidationError):
            DocumentMetadata.create_minimal(title="ุชุณุช", slug="Invalid-Slug")

    def test_slug_validation_invalid_space(self):
        """Slug ุจุง ูุงุตูู โ ุฎุทุง"""
        with pytest.raises(ValidationError):
            DocumentMetadata.create_minimal(title="ุชุณุช", slug="has space")

    def test_slug_validation_invalid_persian(self):
        """Slug ุจุง ุญุฑูู ูุงุฑุณ โ ุฎุทุง"""
        with pytest.raises(ValidationError):
            DocumentMetadata.create_minimal(title="ุชุณุช", slug="ุชุณุช-slug")

    def test_date_validation_valid(self):
        """ุชุงุฑุฎ ูุนุชุจุฑ"""
        meta = DocumentMetadata.create_minimal(
            title="ุชุณุช", slug="test", date="2025-07-13"
        )
        assert meta.date == "2025-07-13"

    def test_date_validation_invalid(self):
        """ุชุงุฑุฎ ูุงูุนุชุจุฑ โ ุฎุทุง"""
        with pytest.raises(ValidationError):
            DocumentMetadata(
                title="ุชุณุช", slug="test", date="ูุงูุนุชุจุฑ"
            )

    def test_empty_title_rejected(self):
        """ุนููุงู ุฎุงู โ ุฎุทุง"""
        with pytest.raises(ValidationError):
            DocumentMetadata(title="", slug="test", date="2025-01-01")

    def test_zwnj_in_title(self):
        """ููโูุงุตูู ุฏุฑ ุนููุงู ุดูุงุณุง ูโุดูุฏ"""
        meta = DocumentMetadata.create_minimal(
            title="ฺฉุชุงุจโูุง ููุทู",  # ุดุงูู ZWNJ
            slug="logic-books",
        )
        assert meta.has_zwnj() is True

    def test_no_zwnj_in_title(self):
        """ุนููุงู ุจุฏูู ููโูุงุตูู"""
        meta = DocumentMetadata.create_minimal(
            title="ููุทู",
            slug="logic",
        )
        assert meta.has_zwnj() is False

    def test_to_frontmatter_dict(self):
        """ุชุจุฏู ุจู ุฏฺฉุดูุฑ frontmatter"""
        meta = DocumentMetadata(
            title="ุชุณุช",
            slug="test",
            date="2025-07-13",
            math=True,
            tags=["ููุทู"],
        )
        d = meta.to_frontmatter_dict()
        assert d["title"] == "ุชุณุช"
        assert d["slug"] == "test"
        assert d["lang"] == "fa"
        assert d["dir"] == "rtl"
        assert d["math"] is True
        assert d["tags"] == ["ููุทู"]

    def test_to_frontmatter_yaml(self):
        """ุชุจุฏู ุจู YAML frontmatter"""
        meta = DocumentMetadata.create_minimal(title="ุชุณุช", slug="test")
        yaml_str = meta.to_frontmatter_yaml()
        assert yaml_str.startswith("---\n")
        assert yaml_str.endswith("---\n")
        assert "title:" in yaml_str
        assert "slug:" in yaml_str

    def test_series_info(self):
        """ุงุทูุงุนุงุช ูุฌููุนู"""
        meta = DocumentMetadata(
            title="ูุตู ฑ",
            slug="ch01",
            date="2025-01-01",
            series=SeriesInfo(
                name="ูุจุงู ููุทู",
                slug="logic-foundations",
                order=1,
                total=5,
            ),
        )
        assert meta.series is not None
        assert meta.series.order == 1
        assert meta.series.total == 5


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ุชุณุช ScanReport
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ


class TestScanReport:
    """ุชุณุช ูุฏู ฺฏุฒุงุฑุด ุงุณฺฉู"""

    def test_create_empty(self):
        """ุณุงุฎุช ฺฏุฒุงุฑุด ุฎุงู"""
        report = ScanReport.create("scan_001", "/path/to/input")
        assert report.scan_id == "scan_001"
        assert report.total_files == 0
        assert report.total_documents == 0

    def test_with_documents(self):
        """ฺฏุฒุงุฑุด ุจุง ุงุณูุงุฏ"""
        report = ScanReport.create("scan_002", "/path", "directory")
        report.documents.append(
            ScannedDocument(
                id="doc_001",
                path="main.tex",
                format=DocumentFormat.LATEX,
                size_bytes=5000,
                has_math=True,
                zwnj_count=42,
            )
        )
        report.documents.append(
            ScannedDocument(
                id="doc_002",
                path="chapter01.tex",
                format=DocumentFormat.LATEX,
                size_bytes=12000,
            )
        )
        assert report.total_documents == 2
        assert report.primary_format == DocumentFormat.LATEX
        assert report.total_size_bytes == 17000

    def test_get_main_document(self):
        """ูพุฏุง ฺฉุฑุฏู ุณูุฏ ุงุตู"""
        from formatforge.models.enums import DocumentRole

        report = ScanReport.create("scan_003", "/path")
        report.documents.append(
            ScannedDocument(
                id="doc_001", path="main.tex",
                format=DocumentFormat.LATEX,
                role=DocumentRole.MAIN_ENTRY,
            )
        )
        report.documents.append(
            ScannedDocument(
                id="doc_002", path="ch01.tex",
                format=DocumentFormat.LATEX,
                role=DocumentRole.CHAPTER,
            )
        )
        main = report.get_main_document()
        assert main is not None
        assert main.id

---

```
