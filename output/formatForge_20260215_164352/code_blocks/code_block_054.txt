سطح ۱: تست ساختاری (Structural Test)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ Frontmatter YAML معتبر است
☐ تمام فیلدهای اجباری حاضرند
☐ تمام import ها وجود دارند و صحیح‌اند
☐ JSX syntax معتبر است (parse بدون خطا)
☐ تمام تگ‌ها بسته شده‌اند
☐ تمام کامپوننت‌ها import شده‌اند
☐ فایل بدون خطای MDX compile می‌شود
☐ encoding خروجی UTF-8 است

سطح ۲: تست محتوایی (Content Test)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ تعداد عناوین ورودی = تعداد عناوین خروجی
☐ تعداد پاراگراف‌ها تقریباً برابر
☐ تعداد فرمول‌ها: ورودی = خروجی
☐ تعداد تصاویر: ورودی = خروجی
☐ تعداد جداول: ورودی = خروجی
☐ تعداد بلوک‌های کد: ورودی = خروجی
☐ تعداد لینک‌ها: ورودی ≈ خروجی
☐ تعداد پانوشت‌ها: ورودی = خروجی
☐ تعداد ارجاعات کتاب‌نامه: ورودی = خروجی
☐ تعداد ZWNJ: ورودی = خروجی
☐ تعداد کلمات: اختلاف < ۵٪

سطح ۳: تست ریاضی (Math Test)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ تمام فرمول‌های inline با KaTeX parse می‌شوند
☐ تمام فرمول‌های display با KaTeX parse می‌شوند
☐ \begin{aligned} / \end{aligned} جفت هستند
☐ \begin{cases} / \end{cases} جفت هستند
☐ \begin{pmatrix} / \end{pmatrix} جفت هستند
☐ تمام ماکروهای LaTeX شناخته‌شده هستند
☐ \label → id تبدیل شده
☐ \ref → لینک تبدیل شده

سطح ۴: تست فارسی/RTL (Persian Test)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ dir="rtl" در frontmatter هست
☐ lang="fa" در frontmatter هست
☐ نیم‌فاصله‌ها حفظ شده‌اند (شمارش ZWNJ)
☐ گیومه‌ها «» هستند (نه "")
☐ بلوک‌های کد dir="ltr" دارند
☐ بلوک‌های انگلیسی dir="ltr" دارند
☐ \lr{} → <span dir="ltr"> تبدیل شده
☐ \begin{latin} → <div dir="ltr"> تبدیل شده
☐ متن فارسی درون فرمول حفظ شده (\text{اگر})

سطح ۵: تست لینک‌ها (Link Test)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ تمام لینک‌های داخلی (anchor) هدف دارند
☐ تمام فایل‌های تصویر ارجاع‌شده وجود دارند
☐ تمام لینک‌های بین فصل‌ها صحیح‌اند
☐ لینک‌های خارجی فرمت صحیح دارند (اختیاری: HTTP check)

سطح ۶: تست بصری (Visual Test) — اختیاری
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ رندر MDX در headless browser (Playwright/Puppeteer)
☐ اسکرین‌شات خودکار
☐ مقایسه بصری با PDF اصلی (اختیاری)
☐ بررسی رندر فرمول‌ها
☐ بررسی رندر نمودارها
☐ بررسی جهت RTL